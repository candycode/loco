var BiwaScheme=BiwaScheme||{};BiwaScheme.Version="0.5.7";BiwaScheme.GitCommit="e145688f81e0844e1ff3543c69bf1612a516bf03";
/*
 * jQuery JavaScript Library v1.6.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Jun 30 14:16:56 2011 -0400
 */
(function(bd,O){var av=bd.document,bv=bd.navigator,bm=bd.location;var c=(function(){var bG=function(b1,b2){return new bG.fn.init(b1,b2,bE)},bW=bd.jQuery,bI=bd.$,bE,b0=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bO=/\S/,bK=/^\s+/,bF=/\s+$/,bJ=/\d/,bB=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bP=/^[\],:{}\s]*$/,bY=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bR=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bL=/(?:^|:|,)(?:\s*\[)+/g,bz=/(webkit)[ \/]([\w.]+)/,bT=/(opera)(?:.*version)?[ \/]([\w.]+)/,bS=/(msie) ([\w.]+)/,bU=/(mozilla)(?:.*? rv:([\w.]+))?/,bC=/-([a-z])/ig,bV=function(b1,b2){return b2.toUpperCase()},bZ=bv.userAgent,bX,bD,e,bN=Object.prototype.toString,bH=Object.prototype.hasOwnProperty,bA=Array.prototype.push,bM=Array.prototype.slice,bQ=String.prototype.trim,bw=Array.prototype.indexOf,by={};bG.fn=bG.prototype={constructor:bG,init:function(b1,b5,b4){var b3,b6,b2,b7;if(!b1){return this}if(b1.nodeType){this.context=this[0]=b1;this.length=1;return this}if(b1==="body"&&!b5&&av.body){this.context=av;this[0]=av.body;this.selector=b1;this.length=1;return this}if(typeof b1==="string"){if(b1.charAt(0)==="<"&&b1.charAt(b1.length-1)===">"&&b1.length>=3){b3=[null,b1,null]}else{b3=b0.exec(b1)}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bG?b5[0]:b5;b7=(b5?b5.ownerDocument||b5:av);b2=bB.exec(b1);if(b2){if(bG.isPlainObject(b5)){b1=[av.createElement(b2[1])];bG.fn.attr.call(b1,b5,true)}else{b1=[b7.createElement(b2[1])]}}else{b2=bG.buildFragment([b3[1]],[b7]);b1=(b2.cacheable?bG.clone(b2.fragment):b2.fragment).childNodes}return bG.merge(this,b1)}else{b6=av.getElementById(b3[2]);if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(b1)}this.length=1;this[0]=b6}this.context=av;this.selector=b1;return this}}else{if(!b5||b5.jquery){return(b5||b4).find(b1)}else{return this.constructor(b5).find(b1)}}}else{if(bG.isFunction(b1)){return b4.ready(b1)}}if(b1.selector!==O){this.selector=b1.selector;this.context=b1.context}return bG.makeArray(b1,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return bM.call(this,0)},get:function(b1){return b1==null?this.toArray():(b1<0?this[this.length+b1]:this[b1])},pushStack:function(b2,b4,b1){var b3=this.constructor();if(bG.isArray(b2)){bA.apply(b3,b2)}else{bG.merge(b3,b2)}b3.prevObject=this;b3.context=this.context;if(b4==="find"){b3.selector=this.selector+(this.selector?" ":"")+b1}else{if(b4){b3.selector=this.selector+"."+b4+"("+b1+")"}}return b3},each:function(b2,b1){return bG.each(this,b2,b1)},ready:function(b1){bG.bindReady();bD.done(b1);return this},eq:function(b1){return b1===-1?this.slice(b1):this.slice(b1,+b1+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bM.apply(this,arguments),"slice",bM.call(arguments).join(","))},map:function(b1){return this.pushStack(bG.map(this,function(b3,b2){return b1.call(b3,b2,b3)}))},end:function(){return this.prevObject||this.constructor(null)},push:bA,sort:[].sort,splice:[].splice};bG.fn.init.prototype=bG.fn;bG.extend=bG.fn.extend=function(){var ca,b3,b1,b2,b7,b8,b6=arguments[0]||{},b5=1,b4=arguments.length,b9=false;if(typeof b6==="boolean"){b9=b6;b6=arguments[1]||{};b5=2}if(typeof b6!=="object"&&!bG.isFunction(b6)){b6={}}if(b4===b5){b6=this;--b5}for(;b5<b4;b5++){if((ca=arguments[b5])!=null){for(b3 in ca){b1=b6[b3];b2=ca[b3];if(b6===b2){continue}if(b9&&b2&&(bG.isPlainObject(b2)||(b7=bG.isArray(b2)))){if(b7){b7=false;b8=b1&&bG.isArray(b1)?b1:[]}else{b8=b1&&bG.isPlainObject(b1)?b1:{}}b6[b3]=bG.extend(b9,b8,b2)}else{if(b2!==O){b6[b3]=b2}}}}}return b6};bG.extend({noConflict:function(b1){if(bd.$===bG){bd.$=bI}if(b1&&bd.jQuery===bG){bd.jQuery=bW}return bG},isReady:false,readyWait:1,holdReady:function(b1){if(b1){bG.readyWait++}else{bG.ready(true)}},ready:function(b1){if((b1===true&&!--bG.readyWait)||(b1!==true&&!bG.isReady)){if(!av.body){return setTimeout(bG.ready,1)}bG.isReady=true;if(b1!==true&&--bG.readyWait>0){return}bD.resolveWith(av,[bG]);if(bG.fn.trigger){bG(av).trigger("ready").unbind("ready")}}},bindReady:function(){if(bD){return}bD=bG._Deferred();if(av.readyState==="complete"){return setTimeout(bG.ready,1)}if(av.addEventListener){av.addEventListener("DOMContentLoaded",e,false);bd.addEventListener("load",bG.ready,false)}else{if(av.attachEvent){av.attachEvent("onreadystatechange",e);bd.attachEvent("onload",bG.ready);var b1=false;try{b1=bd.frameElement==null}catch(b2){}if(av.documentElement.doScroll&&b1){bx()}}}},isFunction:function(b1){return bG.type(b1)==="function"},isArray:Array.isArray||function(b1){return bG.type(b1)==="array"},isWindow:function(b1){return b1&&typeof b1==="object"&&"setInterval" in b1},isNaN:function(b1){return b1==null||!bJ.test(b1)||isNaN(b1)},type:function(b1){return b1==null?String(b1):by[bN.call(b1)]||"object"},isPlainObject:function(b2){if(!b2||bG.type(b2)!=="object"||b2.nodeType||bG.isWindow(b2)){return false}if(b2.constructor&&!bH.call(b2,"constructor")&&!bH.call(b2.constructor.prototype,"isPrototypeOf")){return false}var b1;for(b1 in b2){}return b1===O||bH.call(b2,b1)},isEmptyObject:function(b2){for(var b1 in b2){return false}return true},error:function(b1){throw b1},parseJSON:function(b1){if(typeof b1!=="string"||!b1){return null}b1=bG.trim(b1);if(bd.JSON&&bd.JSON.parse){return bd.JSON.parse(b1)}if(bP.test(b1.replace(bY,"@").replace(bR,"]").replace(bL,""))){return(new Function("return "+b1))()}bG.error("Invalid JSON: "+b1)},parseXML:function(b3,b1,b2){if(bd.DOMParser){b2=new DOMParser();b1=b2.parseFromString(b3,"text/xml")}else{b1=new ActiveXObject("Microsoft.XMLDOM");b1.async="false";b1.loadXML(b3)}b2=b1.documentElement;if(!b2||!b2.nodeName||b2.nodeName==="parsererror"){bG.error("Invalid XML: "+b3)}return b1},noop:function(){},globalEval:function(b1){if(b1&&bO.test(b1)){(bd.execScript||function(b2){bd["eval"].call(bd,b2)})(b1)}},camelCase:function(b1){return b1.replace(bC,bV)},nodeName:function(b2,b1){return b2.nodeName&&b2.nodeName.toUpperCase()===b1.toUpperCase()},each:function(b4,b7,b3){var b2,b5=0,b6=b4.length,b1=b6===O||bG.isFunction(b4);if(b3){if(b1){for(b2 in b4){if(b7.apply(b4[b2],b3)===false){break}}}else{for(;b5<b6;){if(b7.apply(b4[b5++],b3)===false){break}}}}else{if(b1){for(b2 in b4){if(b7.call(b4[b2],b2,b4[b2])===false){break}}}else{for(;b5<b6;){if(b7.call(b4[b5],b5,b4[b5++])===false){break}}}}return b4},trim:bQ?function(b1){return b1==null?"":bQ.call(b1)}:function(b1){return b1==null?"":b1.toString().replace(bK,"").replace(bF,"")},makeArray:function(b4,b2){var b1=b2||[];if(b4!=null){var b3=bG.type(b4);if(b4.length==null||b3==="string"||b3==="function"||b3==="regexp"||bG.isWindow(b4)){bA.call(b1,b4)}else{bG.merge(b1,b4)}}return b1},inArray:function(b3,b4){if(bw){return bw.call(b4,b3)}for(var b1=0,b2=b4.length;b1<b2;b1++){if(b4[b1]===b3){return b1}}return -1},merge:function(b5,b3){var b4=b5.length,b2=0;if(typeof b3.length==="number"){for(var b1=b3.length;b2<b1;b2++){b5[b4++]=b3[b2]}}else{while(b3[b2]!==O){b5[b4++]=b3[b2++]}}b5.length=b4;return b5},grep:function(b2,b7,b1){var b3=[],b6;b1=!!b1;for(var b4=0,b5=b2.length;b4<b5;b4++){b6=!!b7(b2[b4],b4);if(b1!==b6){b3.push(b2[b4])}}return b3},map:function(b1,b8,b9){var b6,b7,b5=[],b3=0,b2=b1.length,b4=b1 instanceof bG||b2!==O&&typeof b2==="number"&&((b2>0&&b1[0]&&b1[b2-1])||b2===0||bG.isArray(b1));if(b4){for(;b3<b2;b3++){b6=b8(b1[b3],b3,b9);if(b6!=null){b5[b5.length]=b6}}}else{for(b7 in b1){b6=b8(b1[b7],b7,b9);if(b6!=null){b5[b5.length]=b6}}}return b5.concat.apply([],b5)},guid:1,proxy:function(b5,b4){if(typeof b4==="string"){var b3=b5[b4];b4=b5;b5=b3}if(!bG.isFunction(b5)){return O}var b1=bM.call(arguments,2),b2=function(){return b5.apply(b4,b1.concat(bM.call(arguments)))};b2.guid=b5.guid=b5.guid||b2.guid||bG.guid++;return b2},access:function(b1,b9,b7,b3,b6,b8){var b2=b1.length;if(typeof b9==="object"){for(var b4 in b9){bG.access(b1,b4,b9[b4],b3,b6,b7)}return b1}if(b7!==O){b3=!b8&&b3&&bG.isFunction(b7);for(var b5=0;b5<b2;b5++){b6(b1[b5],b9,b3?b7.call(b1[b5],b5,b6(b1[b5],b9)):b7,b8)}return b1}return b2?b6(b1[0],b9):O},now:function(){return(new Date()).getTime()},uaMatch:function(b2){b2=b2.toLowerCase();var b1=bz.exec(b2)||bT.exec(b2)||bS.exec(b2)||b2.indexOf("compatible")<0&&bU.exec(b2)||[];return{browser:b1[1]||"",version:b1[2]||"0"}},sub:function(){function b1(b4,b5){return new b1.fn.init(b4,b5)}bG.extend(true,b1,this);b1.superclass=this;b1.fn=b1.prototype=this();b1.fn.constructor=b1;b1.sub=this.sub;b1.fn.init=function b3(b4,b5){if(b5&&b5 instanceof bG&&!(b5 instanceof b1)){b5=b1(b5)}return bG.fn.init.call(this,b4,b5,b2)};b1.fn.init.prototype=b1.fn;var b2=b1(av);return b1},browser:{}});bG.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b2,b1){by["[object "+b1+"]"]=b1.toLowerCase()});bX=bG.uaMatch(bZ);if(bX.browser){bG.browser[bX.browser]=true;bG.browser.version=bX.version}if(bG.browser.webkit){bG.browser.safari=true}if(bO.test("\xA0")){bK=/^[\s\xA0]+/;bF=/[\s\xA0]+$/}bE=bG(av);if(av.addEventListener){e=function(){av.removeEventListener("DOMContentLoaded",e,false);bG.ready()}}else{if(av.attachEvent){e=function(){if(av.readyState==="complete"){av.detachEvent("onreadystatechange",e);bG.ready()}}}}function bx(){if(bG.isReady){return}try{av.documentElement.doScroll("left")}catch(b1){setTimeout(bx,1);return}bG.ready()}return bG})();var a="done fail isResolved isRejected promise then always pipe".split(" "),aJ=[].slice;c.extend({_Deferred:function(){var by=[],bz,bw,bx,e={done:function(){if(!bx){var bB=arguments,bC,bF,bE,bD,bA;if(bz){bA=bz;bz=0}for(bC=0,bF=bB.length;bC<bF;bC++){bE=bB[bC];bD=c.type(bE);if(bD==="array"){e.done.apply(e,bE)}else{if(bD==="function"){by.push(bE)}}}if(bA){e.resolveWith(bA[0],bA[1])}}return this},resolveWith:function(bB,bA){if(!bx&&!bz&&!bw){bA=bA||[];bw=1;try{while(by[0]){by.shift().apply(bB,bA)}}finally{bz=[bB,bA];bw=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return !!(bw||bz)},cancel:function(){bx=1;by=[];return this}};return e},Deferred:function(bw){var e=c._Deferred(),by=c._Deferred(),bx;c.extend(e,{then:function(bA,bz){e.done(bA).fail(bz);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:by.done,rejectWith:by.resolveWith,reject:by.resolve,isRejected:by.isResolved,pipe:function(bA,bz){return c.Deferred(function(bB){c.each({done:[bA,"resolve"],fail:[bz,"reject"]},function(bD,bG){var bC=bG[0],bF=bG[1],bE;if(c.isFunction(bC)){e[bD](function(){bE=bC.apply(this,arguments);if(bE&&c.isFunction(bE.promise)){bE.promise().then(bB.resolve,bB.reject)}else{bB[bF](bE)}})}else{e[bD](bB[bF])}})}).promise()},promise:function(bA){if(bA==null){if(bx){return bx}bx=bA={}}var bz=a.length;while(bz--){bA[a[bz]]=e[a[bz]]}return bA}});e.done(by.cancel).fail(e.cancel);delete e.cancel;if(bw){bw.call(e,e)}return e},when:function(bB){var bw=arguments,bx=0,bA=bw.length,bz=bA,e=bA<=1&&bB&&c.isFunction(bB.promise)?bB:c.Deferred();function by(bC){return function(bD){bw[bC]=arguments.length>1?aJ.call(arguments,0):bD;if(!(--bz)){e.resolveWith(e,aJ.call(bw,0))}}}if(bA>1){for(;bx<bA;bx++){if(bw[bx]&&c.isFunction(bw[bx].promise)){bw[bx].promise().then(by(bx),e.reject)}else{--bz}}if(!bz){e.resolveWith(e,bw)}}else{if(e!==bB){e.resolveWith(e,bA?[bB]:[])}}return e.promise()}});c.support=(function(){var bG=av.createElement("div"),bN=av.documentElement,bz,bO,bH,bx,bF,bA,bD,bw,bE,bI,bC,bM,bK,by,bB,bJ,bP;bG.setAttribute("className","t");bG.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bz=bG.getElementsByTagName("*");bO=bG.getElementsByTagName("a")[0];if(!bz||!bz.length||!bO){return{}}bH=av.createElement("select");bx=bH.appendChild(av.createElement("option"));bF=bG.getElementsByTagName("input")[0];bD={leadingWhitespace:(bG.firstChild.nodeType===3),tbody:!bG.getElementsByTagName("tbody").length,htmlSerialize:!!bG.getElementsByTagName("link").length,style:/top/.test(bO.getAttribute("style")),hrefNormalized:(bO.getAttribute("href")==="/a"),opacity:/^0.55$/.test(bO.style.opacity),cssFloat:!!bO.style.cssFloat,checkOn:(bF.value==="on"),optSelected:bx.selected,getSetAttribute:bG.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bF.checked=true;bD.noCloneChecked=bF.cloneNode(true).checked;bH.disabled=true;bD.optDisabled=!bx.disabled;try{delete bG.test}catch(bL){bD.deleteExpando=false}if(!bG.addEventListener&&bG.attachEvent&&bG.fireEvent){bG.attachEvent("onclick",function(){bD.noCloneEvent=false});bG.cloneNode(true).fireEvent("onclick")}bF=av.createElement("input");bF.value="t";bF.setAttribute("type","radio");bD.radioValue=bF.value==="t";bF.setAttribute("checked","checked");bG.appendChild(bF);bw=av.createDocumentFragment();bw.appendChild(bG.firstChild);bD.checkClone=bw.cloneNode(true).cloneNode(true).lastChild.checked;bG.innerHTML="";bG.style.width=bG.style.paddingLeft="1px";bE=av.getElementsByTagName("body")[0];bC=av.createElement(bE?"div":"body");bM={visibility:"hidden",width:0,height:0,border:0,margin:0};if(bE){c.extend(bM,{position:"absolute",left:-1000,top:-1000})}for(bJ in bM){bC.style[bJ]=bM[bJ]}bC.appendChild(bG);bI=bE||bN;bI.insertBefore(bC,bI.firstChild);bD.appendChecked=bF.checked;bD.boxModel=bG.offsetWidth===2;if("zoom" in bG.style){bG.style.display="inline";bG.style.zoom=1;bD.inlineBlockNeedsLayout=(bG.offsetWidth===2);bG.style.display="";bG.innerHTML="<div style='width:4px;'></div>";bD.shrinkWrapBlocks=(bG.offsetWidth!==2)}bG.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bK=bG.getElementsByTagName("td");bP=(bK[0].offsetHeight===0);bK[0].style.display="";bK[1].style.display="none";bD.reliableHiddenOffsets=bP&&(bK[0].offsetHeight===0);bG.innerHTML="";if(av.defaultView&&av.defaultView.getComputedStyle){bA=av.createElement("div");bA.style.width="0";bA.style.marginRight="0";bG.appendChild(bA);bD.reliableMarginRight=(parseInt((av.defaultView.getComputedStyle(bA,null)||{marginRight:0}).marginRight,10)||0)===0}bC.innerHTML="";bI.removeChild(bC);if(bG.attachEvent){for(bJ in {submit:1,change:1,focusin:1}){bB="on"+bJ;bP=(bB in bG);if(!bP){bG.setAttribute(bB,"return;");bP=(typeof bG[bB]==="function")}bD[bJ+"Bubbles"]=bP}}bC=bw=bH=bx=bE=bA=bG=bF=null;return bD})();c.boxModel=c.support.boxModel;var aQ=/^(?:\{.*\}|\[.*\])$/,aA=/([a-z])([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?c.cache[e[c.expando]]:e[c.expando];return !!e&&!X(e)},data:function(by,bw,bA,bz){if(!c.acceptData(by)){return}var bD=c.expando,bC=typeof bw==="string",bB,bE=by.nodeType,e=bE?c.cache:by,bx=bE?by[c.expando]:by[c.expando]&&c.expando;if((!bx||(bz&&bx&&!e[bx][bD]))&&bC&&bA===O){return}if(!bx){if(bE){by[c.expando]=bx=++c.uuid}else{bx=c.expando}}if(!e[bx]){e[bx]={};if(!bE){e[bx].toJSON=c.noop}}if(typeof bw==="object"||typeof bw==="function"){if(bz){e[bx][bD]=c.extend(e[bx][bD],bw)}else{e[bx]=c.extend(e[bx],bw)}}bB=e[bx];if(bz){if(!bB[bD]){bB[bD]={}}bB=bB[bD]}if(bA!==O){bB[c.camelCase(bw)]=bA}if(bw==="events"&&!bB[bw]){return bB[bD]&&bB[bD].events}return bC?bB[c.camelCase(bw)]||bB[bw]:bB},removeData:function(bz,bx,bA){if(!c.acceptData(bz)){return}var bC=c.expando,bD=bz.nodeType,bw=bD?c.cache:bz,by=bD?bz[c.expando]:c.expando;if(!bw[by]){return}if(bx){var bB=bA?bw[by][bC]:bw[by];if(bB){delete bB[bx];if(!X(bB)){return}}}if(bA){delete bw[by][bC];if(!X(bw[by])){return}}var e=bw[by][bC];if(c.support.deleteExpando||bw!=bd){delete bw[by]}else{bw[by]=null}if(e){bw[by]={};if(!bD){bw[by].toJSON=c.noop}bw[by][bC]=e}else{if(bD){if(c.support.deleteExpando){delete bz[c.expando]}else{if(bz.removeAttribute){bz.removeAttribute(c.expando)}else{bz[c.expando]=null}}}}},_data:function(bw,e,bx){return c.data(bw,e,bx,true)},acceptData:function(bw){if(bw.nodeName){var e=c.noData[bw.nodeName.toLowerCase()];if(e){return !(e===true||bw.getAttribute("classid")!==e)}}return true}});c.fn.extend({data:function(bz,bB){var bA=null;if(typeof bz==="undefined"){if(this.length){bA=c.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,bx;for(var by=0,bw=e.length;by<bw;by++){bx=e[by].name;if(bx.indexOf("data-")===0){bx=c.camelCase(bx.substring(5));a6(this[0],bx,bA[bx])}}}}return bA}else{if(typeof bz==="object"){return this.each(function(){c.data(this,bz)})}}var bC=bz.split(".");bC[1]=bC[1]?"."+bC[1]:"";if(bB===O){bA=this.triggerHandler("getData"+bC[1]+"!",[bC[0]]);if(bA===O&&this.length){bA=c.data(this[0],bz);bA=a6(this[0],bz,bA)}return bA===O&&bC[1]?this.data(bC[0]):bA}else{return this.each(function(){var bE=c(this),bD=[bC[0],bB];bE.triggerHandler("setData"+bC[1]+"!",bD);c.data(this,bz,bB);bE.triggerHandler("changeData"+bC[1]+"!",bD)})}},removeData:function(e){return this.each(function(){c.removeData(this,e)})}});function a6(by,bx,bz){if(bz===O&&by.nodeType===1){var bw="data-"+bx.replace(aA,"$1-$2").toLowerCase();bz=by.getAttribute(bw);if(typeof bz==="string"){try{bz=bz==="true"?true:bz==="false"?false:bz==="null"?null:!c.isNaN(bz)?parseFloat(bz):aQ.test(bz)?c.parseJSON(bz):bz}catch(bA){}c.data(by,bx,bz)}else{bz=O}}return bz}function X(bw){for(var e in bw){if(e!=="toJSON"){return false}}return true}function bi(bz,by,bB){var bx=by+"defer",bw=by+"queue",e=by+"mark",bA=c.data(bz,bx,O,true);if(bA&&(bB==="queue"||!c.data(bz,bw,O,true))&&(bB==="mark"||!c.data(bz,e,O,true))){setTimeout(function(){if(!c.data(bz,bw,O,true)&&!c.data(bz,e,O,true)){c.removeData(bz,bx,true);bA.resolve()}},0)}}c.extend({_mark:function(bw,e){if(bw){e=(e||"fx")+"mark";c.data(bw,e,(c.data(bw,e,O,true)||0)+1,true)}},_unmark:function(bz,by,bw){if(bz!==true){bw=by;by=bz;bz=false}if(by){bw=bw||"fx";var e=bw+"mark",bx=bz?0:((c.data(by,e,O,true)||1)-1);if(bx){c.data(by,e,bx,true)}else{c.removeData(by,e,true);bi(by,bw,"mark")}}},queue:function(bw,e,by){if(bw){e=(e||"fx")+"queue";var bx=c.data(bw,e,O,true);if(by){if(!bx||c.isArray(by)){bx=c.data(bw,e,c.makeArray(by),true)}else{bx.push(by)}}return bx||[]}},dequeue:function(by,bx){bx=bx||"fx";var e=c.queue(by,bx),bw=e.shift(),bz;if(bw==="inprogress"){bw=e.shift()}if(bw){if(bx==="fx"){e.unshift("inprogress")}bw.call(by,function(){c.dequeue(by,bx)})}if(!e.length){c.removeData(by,bx+"queue",true);bi(by,bx,"queue")}}});c.fn.extend({queue:function(e,bw){if(typeof e!=="string"){bw=e;e="fx"}if(bw===O){return c.queue(this[0],e)}return this.each(function(){var bx=c.queue(this,e,bw);if(e==="fx"&&bx[0]!=="inprogress"){c.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){c.dequeue(this,e)})},delay:function(bw,e){bw=c.fx?c.fx.speeds[bw]||bw:bw;e=e||"fx";return this.queue(e,function(){var bx=this;setTimeout(function(){c.dequeue(bx,e)},bw)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bE,bx){if(typeof bE!=="string"){bx=bE;bE=O}bE=bE||"fx";var e=c.Deferred(),bw=this,bz=bw.length,bC=1,bA=bE+"defer",bB=bE+"queue",bD=bE+"mark",by;function bF(){if(!(--bC)){e.resolveWith(bw,[bw])}}while(bz--){if((by=c.data(bw[bz],bA,O,true)||(c.data(bw[bz],bB,O,true)||c.data(bw[bz],bD,O,true))&&c.data(bw[bz],bA,c._Deferred(),true))){bC++;by.done(bF)}}bF();return e.promise()}});var aO=/[\n\t\r]/g,ag=/\s+/,aS=/\r/g,h=/^(?:button|input)$/i,H=/^(?:button|input|object|select|textarea)$/i,o=/^a(?:rea)?$/i,ao=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a9=/\:|^on/,a4,aY;c.fn.extend({attr:function(e,bw){return c.access(this,e,bw,true,c.attr)},removeAttr:function(e){return this.each(function(){c.removeAttr(this,e)})},prop:function(e,bw){return c.access(this,e,bw,true,c.prop)},removeProp:function(e){e=c.propFix[e]||e;return this.each(function(){try{this[e]=O;delete this[e]}catch(bw){}})},addClass:function(bz){var bB,bx,bw,by,bA,bC,e;if(c.isFunction(bz)){return this.each(function(bD){c(this).addClass(bz.call(this,bD,this.className))})}if(bz&&typeof bz==="string"){bB=bz.split(ag);for(bx=0,bw=this.length;bx<bw;bx++){by=this[bx];if(by.nodeType===1){if(!by.className&&bB.length===1){by.className=bz}else{bA=" "+by.className+" ";for(bC=0,e=bB.length;bC<e;bC++){if(!~bA.indexOf(" "+bB[bC]+" ")){bA+=bB[bC]+" "}}by.className=c.trim(bA)}}}}return this},removeClass:function(bA){var bB,bx,bw,bz,by,bC,e;if(c.isFunction(bA)){return this.each(function(bD){c(this).removeClass(bA.call(this,bD,this.className))})}if((bA&&typeof bA==="string")||bA===O){bB=(bA||"").split(ag);for(bx=0,bw=this.length;bx<bw;bx++){bz=this[bx];if(bz.nodeType===1&&bz.className){if(bA){by=(" "+bz.className+" ").replace(aO," ");for(bC=0,e=bB.length;bC<e;bC++){by=by.replace(" "+bB[bC]+" "," ")}bz.className=c.trim(by)}else{bz.className=""}}}}return this},toggleClass:function(by,bw){var bx=typeof by,e=typeof bw==="boolean";if(c.isFunction(by)){return this.each(function(bz){c(this).toggleClass(by.call(this,bz,this.className,bw),bw)})}return this.each(function(){if(bx==="string"){var bB,bA=0,bz=c(this),bC=bw,bD=by.split(ag);while((bB=bD[bA++])){bC=e?bC:!bz.hasClass(bB);bz[bC?"addClass":"removeClass"](bB)}}else{if(bx==="undefined"||bx==="boolean"){if(this.className){c._data(this,"__className__",this.className)}this.className=this.className||by===false?"":c._data(this,"__className__")||""}}})},hasClass:function(e){var by=" "+e+" ";for(var bx=0,bw=this.length;bx<bw;bx++){if((" "+this[bx].className+" ").replace(aO," ").indexOf(by)>-1){return true}}return false},val:function(by){var e,bw,bx=this[0];if(!arguments.length){if(bx){e=c.valHooks[bx.nodeName.toLowerCase()]||c.valHooks[bx.type];if(e&&"get" in e&&(bw=e.get(bx,"value"))!==O){return bw}bw=bx.value;return typeof bw==="string"?bw.replace(aS,""):bw==null?"":bw}return O}var bz=c.isFunction(by);return this.each(function(bB){var bA=c(this),bC;if(this.nodeType!==1){return}if(bz){bC=by.call(this,bB,bA.val())}else{bC=by}if(bC==null){bC=""}else{if(typeof bC==="number"){bC+=""}else{if(c.isArray(bC)){bC=c.map(bC,function(bD){return bD==null?"":bD+""})}}}e=c.valHooks[this.nodeName.toLowerCase()]||c.valHooks[this.type];if(!e||!("set" in e)||e.set(this,bC,"value")===O){this.value=bC}})}});c.extend({valHooks:{option:{get:function(e){var bw=e.attributes.value;return !bw||bw.specified?e.value:e.text}},select:{get:function(e){var bB,bz=e.selectedIndex,bC=[],bD=e.options,by=e.type==="select-one";if(bz<0){return null}for(var bw=by?bz:0,bA=by?bz+1:bD.length;bw<bA;bw++){var bx=bD[bw];if(bx.selected&&(c.support.optDisabled?!bx.disabled:bx.getAttribute("disabled")===null)&&(!bx.parentNode.disabled||!c.nodeName(bx.parentNode,"optgroup"))){bB=c(bx).val();if(by){return bB}bC.push(bB)}}if(by&&!bC.length&&bD.length){return c(bD[bz]).val()}return bC},set:function(bw,bx){var e=c.makeArray(bx);c(bw).find("option").each(function(){this.selected=c.inArray(c(this).val(),e)>=0});if(!e.length){bw.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(bB,by,bC,bA){var bw=bB.nodeType;if(!bB||bw===3||bw===8||bw===2){return O}if(bA&&by in c.attrFn){return c(bB)[by](bC)}if(!("getAttribute" in bB)){return c.prop(bB,by,bC)}var bx,e,bz=bw!==1||!c.isXMLDoc(bB);if(bz){by=c.attrFix[by]||by;e=c.attrHooks[by];if(!e){if(ao.test(by)){e=aY}else{if(a4&&by!=="className"&&(c.nodeName(bB,"form")||a9.test(by))){e=a4}}}}if(bC!==O){if(bC===null){c.removeAttr(bB,by);return O}else{if(e&&"set" in e&&bz&&(bx=e.set(bB,bC,by))!==O){return bx}else{bB.setAttribute(by,""+bC);return bC}}}else{if(e&&"get" in e&&bz&&(bx=e.get(bB,by))!==null){return bx}else{bx=bB.getAttribute(by);return bx===null?O:bx}}},removeAttr:function(bw,e){var bx;if(bw.nodeType===1){e=c.attrFix[e]||e;if(c.support.getSetAttribute){bw.removeAttribute(e)}else{c.attr(bw,e,"");bw.removeAttributeNode(bw.getAttributeNode(e))}if(ao.test(e)&&(bx=c.propFix[e]||e) in bw){bw[bx]=false}}},attrHooks:{type:{set:function(e,bw){if(h.test(e.nodeName)&&e.parentNode){c.error("type property can't be changed")}else{if(!c.support.radioValue&&bw==="radio"&&c.nodeName(e,"input")){var bx=e.value;e.setAttribute("type",bw);if(bx){e.value=bx}return bw}}}},tabIndex:{get:function(bw){var e=bw.getAttributeNode("tabIndex");return e&&e.specified?parseInt(e.value,10):H.test(bw.nodeName)||o.test(bw.nodeName)&&bw.href?0:O}},value:{get:function(bw,e){if(a4&&c.nodeName(bw,"button")){return a4.get(bw,e)}return e in bw?bw.value:null},set:function(bw,bx,e){if(a4&&c.nodeName(bw,"button")){return a4.set(bw,bx,e)}bw.value=bx}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bA,by,bB){var bw=bA.nodeType;if(!bA||bw===3||bw===8||bw===2){return O}var bx,e,bz=bw!==1||!c.isXMLDoc(bA);if(bz){by=c.propFix[by]||by;e=c.propHooks[by]}if(bB!==O){if(e&&"set" in e&&(bx=e.set(bA,bB,by))!==O){return bx}else{return(bA[by]=bB)}}else{if(e&&"get" in e&&(bx=e.get(bA,by))!==O){return bx}else{return bA[by]}}},propHooks:{}});aY={get:function(bw,e){return c.prop(bw,e)?e.toLowerCase():O},set:function(bw,by,e){var bx;if(by===false){c.removeAttr(bw,e)}else{bx=c.propFix[e]||e;if(bx in bw){bw[bx]=true}bw.setAttribute(e,e.toLowerCase())}return e}};if(!c.support.getSetAttribute){c.attrFix=c.propFix;a4=c.attrHooks.name=c.attrHooks.title=c.valHooks.button={get:function(bx,bw){var e;e=bx.getAttributeNode(bw);return e&&e.nodeValue!==""?e.nodeValue:O},set:function(bx,by,bw){var e=bx.getAttributeNode(bw);if(e){e.nodeValue=by;return by}}};c.each(["width","height"],function(bw,e){c.attrHooks[e]=c.extend(c.attrHooks[e],{set:function(bx,by){if(by===""){bx.setAttribute(e,"auto");return by}}})})}if(!c.support.hrefNormalized){c.each(["href","src","width","height"],function(bw,e){c.attrHooks[e]=c.extend(c.attrHooks[e],{get:function(by){var bx=by.getAttribute(e,2);return bx===null?O:bx}})})}if(!c.support.style){c.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||O},set:function(e,bw){return(e.style.cssText=""+bw)}}}if(!c.support.optSelected){c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(bw){var e=bw.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}}})}if(!c.support.checkOn){c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],{set:function(e,bw){if(c.isArray(bw)){return(e.checked=c.inArray(c(e).val(),bw)>=0)}}})});var a0=/\.(.*)$/,bf=/^(?:textarea|input|select)$/i,R=/\./g,bj=/ /g,aG=/[^\w\s.|`]/g,K=function(e){return e.replace(aG,"\\$&")};c.event={add:function(by,bC,bH,bA){if(by.nodeType===3||by.nodeType===8){return}if(bH===false){bH=bl}else{if(!bH){return}}var bw,bG;if(bH.handler){bw=bH;bH=bw.handler}if(!bH.guid){bH.guid=c.guid++}var bD=c._data(by);if(!bD){return}var bI=bD.events,bB=bD.handle;if(!bI){bD.events=bI={}}if(!bB){bD.handle=bB=function(bJ){return typeof c!=="undefined"&&(!bJ||c.event.triggered!==bJ.type)?c.event.handle.apply(bB.elem,arguments):O}}bB.elem=by;bC=bC.split(" ");var bF,bz=0,e;while((bF=bC[bz++])){bG=bw?c.extend({},bw):{handler:bH,data:bA};if(bF.indexOf(".")>-1){e=bF.split(".");bF=e.shift();bG.namespace=e.slice(0).sort().join(".")}else{e=[];bG.namespace=""}bG.type=bF;if(!bG.guid){bG.guid=bH.guid}var bx=bI[bF],bE=c.event.special[bF]||{};if(!bx){bx=bI[bF]=[];if(!bE.setup||bE.setup.call(by,bA,e,bB)===false){if(by.addEventListener){by.addEventListener(bF,bB,false)}else{if(by.attachEvent){by.attachEvent("on"+bF,bB)}}}}if(bE.add){bE.add.call(by,bG);if(!bG.handler.guid){bG.handler.guid=bH.guid}}bx.push(bG);c.event.global[bF]=true}by=null},global:{},remove:function(bK,bF,bx,bB){if(bK.nodeType===3||bK.nodeType===8){return}if(bx===false){bx=bl}var bN,bA,bC,bH,bI=0,by,bD,bG,bz,bE,e,bM,bJ=c.hasData(bK)&&c._data(bK),bw=bJ&&bJ.events;if(!bJ||!bw){return}if(bF&&bF.type){bx=bF.handler;bF=bF.type}if(!bF||typeof bF==="string"&&bF.charAt(0)==="."){bF=bF||"";for(bA in bw){c.event.remove(bK,bA+bF)}return}bF=bF.split(" ");while((bA=bF[bI++])){bM=bA;e=null;by=bA.indexOf(".")<0;bD=[];if(!by){bD=bA.split(".");bA=bD.shift();bG=new RegExp("(^|\\.)"+c.map(bD.slice(0).sort(),K).join("\\.(?:.*\\.)?")+"(\\.|$)")}bE=bw[bA];if(!bE){continue}if(!bx){for(bH=0;bH<bE.length;bH++){e=bE[bH];if(by||bG.test(e.namespace)){c.event.remove(bK,bM,e.handler,bH);bE.splice(bH--,1)}}continue}bz=c.event.special[bA]||{};for(bH=bB||0;bH<bE.length;bH++){e=bE[bH];if(bx.guid===e.guid){if(by||bG.test(e.namespace)){if(bB==null){bE.splice(bH--,1)}if(bz.remove){bz.remove.call(bK,e)}}if(bB!=null){break}}}if(bE.length===0||bB!=null&&bE.length===1){if(!bz.teardown||bz.teardown.call(bK,bD)===false){c.removeEvent(bK,bA,bJ.handle)}bN=null;delete bw[bA]}}if(c.isEmptyObject(bw)){var bL=bJ.handle;if(bL){bL.elem=null}delete bJ.events;delete bJ.handle;if(c.isEmptyObject(bJ)){c.removeData(bK,O,true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(e,bC,bA,bH){var bF=e.type||e,bx=[],bw;if(bF.indexOf("!")>=0){bF=bF.slice(0,-1);bw=true}if(bF.indexOf(".")>=0){bx=bF.split(".");bF=bx.shift();bx.sort()}if((!bA||c.event.customEvent[bF])&&!c.event.global[bF]){return}e=typeof e==="object"?e[c.expando]?e:new c.Event(bF,e):new c.Event(bF);e.type=bF;e.exclusive=bw;e.namespace=bx.join(".");e.namespace_re=new RegExp("(^|\\.)"+bx.join("\\.(?:.*\\.)?")+"(\\.|$)");if(bH||!bA){e.preventDefault();e.stopPropagation()}if(!bA){c.each(c.cache,function(){var bJ=c.expando,bI=this[bJ];if(bI&&bI.events&&bI.events[bF]){c.event.trigger(e,bC,bI.handle.elem)}});return}if(bA.nodeType===3||bA.nodeType===8){return}e.result=O;e.target=bA;bC=bC!=null?c.makeArray(bC):[];bC.unshift(e);var bG=bA,by=bF.indexOf(":")<0?"on"+bF:"";do{var bD=c._data(bG,"handle");e.currentTarget=bG;if(bD){bD.apply(bG,bC)}if(by&&c.acceptData(bG)&&bG[by]&&bG[by].apply(bG,bC)===false){e.result=false;e.preventDefault()}bG=bG.parentNode||bG.ownerDocument||bG===e.target.ownerDocument&&bd}while(bG&&!e.isPropagationStopped());if(!e.isDefaultPrevented()){var bz,bE=c.event.special[bF]||{};if((!bE._default||bE._default.call(bA.ownerDocument,e)===false)&&!(bF==="click"&&c.nodeName(bA,"a"))&&c.acceptData(bA)){try{if(by&&bA[bF]){bz=bA[by];if(bz){bA[by]=null}c.event.triggered=bF;bA[bF]()}}catch(bB){}if(bz){bA[by]=bz}c.event.triggered=O}}return e.result},handle:function(bC){bC=c.event.fix(bC||bd.event);var bw=((c._data(this,"events")||{})[bC.type]||[]).slice(0),bB=!bC.exclusive&&!bC.namespace,bz=Array.prototype.slice.call(arguments,0);bz[0]=bC;bC.currentTarget=this;for(var by=0,e=bw.length;by<e;by++){var bA=bw[by];if(bB||bC.namespace_re.test(bA.namespace)){bC.handler=bA.handler;bC.data=bA.data;bC.handleObj=bA;var bx=bA.handler.apply(this,bz);if(bx!==O){bC.result=bx;if(bx===false){bC.preventDefault();bC.stopPropagation()}}if(bC.isImmediatePropagationStopped()){break}}}return bC.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bz){if(bz[c.expando]){return bz}var bw=bz;bz=c.Event(bw);for(var bx=this.props.length,bB;bx;){bB=this.props[--bx];bz[bB]=bw[bB]}if(!bz.target){bz.target=bz.srcElement||av}if(bz.target.nodeType===3){bz.target=bz.target.parentNode}if(!bz.relatedTarget&&bz.fromElement){bz.relatedTarget=bz.fromElement===bz.target?bz.toElement:bz.fromElement}if(bz.pageX==null&&bz.clientX!=null){var by=bz.target.ownerDocument||av,bA=by.documentElement,e=by.body;bz.pageX=bz.clientX+(bA&&bA.scrollLeft||e&&e.scrollLeft||0)-(bA&&bA.clientLeft||e&&e.clientLeft||0);bz.pageY=bz.clientY+(bA&&bA.scrollTop||e&&e.scrollTop||0)-(bA&&bA.clientTop||e&&e.clientTop||0)}if(bz.which==null&&(bz.charCode!=null||bz.keyCode!=null)){bz.which=bz.charCode!=null?bz.charCode:bz.keyCode}if(!bz.metaKey&&bz.ctrlKey){bz.metaKey=bz.ctrlKey}if(!bz.which&&bz.button!==O){bz.which=(bz.button&1?1:(bz.button&2?3:(bz.button&4?2:0)))}return bz},guid:100000000,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(e){c.event.add(this,t(e.origType,e.selector),c.extend({},e,{handler:am,guid:e.handler.guid}))},remove:function(e){c.event.remove(this,t(e.origType,e.selector),e)}},beforeunload:{setup:function(bx,bw,e){if(c.isWindow(this)){this.onbeforeunload=e}},teardown:function(bw,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}}};c.removeEvent=av.removeEventListener?function(bw,e,bx){if(bw.removeEventListener){bw.removeEventListener(e,bx,false)}}:function(bw,e,bx){if(bw.detachEvent){bw.detachEvent("on"+e,bx)}};c.Event=function(bw,e){if(!this.preventDefault){return new c.Event(bw,e)}if(bw&&bw.type){this.originalEvent=bw;this.type=bw.type;this.isDefaultPrevented=(bw.defaultPrevented||bw.returnValue===false||bw.getPreventDefault&&bw.getPreventDefault())?k:bl}else{this.type=bw}if(e){c.extend(this,e)}this.timeStamp=c.now();this[c.expando]=true};function bl(){return false}function k(){return true}c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var bw=this.originalEvent;if(!bw){return}if(bw.preventDefault){bw.preventDefault()}else{bw.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=k;var bw=this.originalEvent;if(!bw){return}if(bw.stopPropagation){bw.stopPropagation()}bw.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:bl,isPropagationStopped:bl,isImmediatePropagationStopped:bl};var af=function(bx){var by=bx.relatedTarget,e=false,bw=bx.type;bx.type=bx.data;if(by!==this){if(by){e=c.contains(this,by)}if(!e){c.event.handle.apply(this,arguments);bx.type=bw}}},aV=function(e){e.type=e.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bw,e){c.event.special[bw]={setup:function(bx){c.event.add(this,e,bx&&bx.selector?aV:af,bw)},teardown:function(bx){c.event.remove(this,e,bx&&bx.selector?aV:af)}}});if(!c.support.submitBubbles){c.event.special.submit={setup:function(bw,e){if(!c.nodeName(this,"form")){c.event.add(this,"click.specialSubmit",function(bz){var by=bz.target,bx=by.type;if((bx==="submit"||bx==="image")&&c(by).closest("form").length){aX("submit",this,arguments)}});c.event.add(this,"keypress.specialSubmit",function(bz){var by=bz.target,bx=by.type;if((bx==="text"||bx==="password")&&c(by).closest("form").length&&bz.keyCode===13){aX("submit",this,arguments)}})}else{return false}},teardown:function(e){c.event.remove(this,".specialSubmit")}}}if(!c.support.changeBubbles){var bo,m=function(bw){var e=bw.type,bx=bw.value;if(e==="radio"||e==="checkbox"){bx=bw.checked}else{if(e==="select-multiple"){bx=bw.selectedIndex>-1?c.map(bw.options,function(by){return by.selected}).join("-"):""}else{if(c.nodeName(bw,"select")){bx=bw.selectedIndex}}}return bx},ad=function ad(by){var bw=by.target,bx,bz;if(!bf.test(bw.nodeName)||bw.readOnly){return}bx=c._data(bw,"_change_data");bz=m(bw);if(by.type!=="focusout"||bw.type!=="radio"){c._data(bw,"_change_data",bz)}if(bx===O||bz===bx){return}if(bx!=null||bz){by.type="change";by.liveFired=O;c.event.trigger(by,arguments[1],bw)}};c.event.special.change={filters:{focusout:ad,beforedeactivate:ad,click:function(by){var bx=by.target,bw=c.nodeName(bx,"input")?bx.type:"";if(bw==="radio"||bw==="checkbox"||c.nodeName(bx,"select")){ad.call(this,by)}},keydown:function(by){var bx=by.target,bw=c.nodeName(bx,"input")?bx.type:"";if((by.keyCode===13&&!c.nodeName(bx,"textarea"))||(by.keyCode===32&&(bw==="checkbox"||bw==="radio"))||bw==="select-multiple"){ad.call(this,by)}},beforeactivate:function(bx){var bw=bx.target;c._data(bw,"_change_data",m(bw))}},setup:function(bx,bw){if(this.type==="file"){return false}for(var e in bo){c.event.add(this,e+".specialChange",bo[e])}return bf.test(this.nodeName)},teardown:function(e){c.event.remove(this,".specialChange");return bf.test(this.nodeName)}};bo=c.event.special.change.filters;bo.focus=bo.beforeactivate}function aX(bw,by,e){var bx=c.extend({},e[0]);bx.type=bw;bx.originalEvent={};bx.liveFired=O;c.event.handle.call(by,bx);if(bx.isDefaultPrevented()){e[0].preventDefault()}}if(!c.support.focusinBubbles){c.each({focus:"focusin",blur:"focusout"},function(by,e){var bw=0;c.event.special[e]={setup:function(){if(bw++===0){av.addEventListener(by,bx,true)}},teardown:function(){if(--bw===0){av.removeEventListener(by,bx,true)}}};function bx(bz){var bA=c.event.fix(bz);bA.type=e;bA.originalEvent={};c.event.trigger(bA,null,bA.target);if(bA.isDefaultPrevented()){bz.preventDefault()}}})}c.each(["bind","one"],function(bw,e){c.fn[e]=function(bC,bD,bB){var bA;if(typeof bC==="object"){for(var bz in bC){this[e](bz,bD,bC[bz],bB)}return this}if(arguments.length===2||bD===false){bB=bD;bD=O}if(e==="one"){bA=function(bE){c(this).unbind(bE,bA);return bB.apply(this,arguments)};bA.guid=bB.guid||c.guid++}else{bA=bB}if(bC==="unload"&&e!=="one"){this.one(bC,bD,bB)}else{for(var by=0,bx=this.length;by<bx;by++){c.event.add(this[by],bC,bA,bD)}}return this}});c.fn.extend({unbind:function(bz,by){if(typeof bz==="object"&&!bz.preventDefault){for(var bx in bz){this.unbind(bx,bz[bx])}}else{for(var bw=0,e=this.length;bw<e;bw++){c.event.remove(this[bw],bz,by)}}return this},delegate:function(e,bw,by,bx){return this.live(bw,by,bx,e)},undelegate:function(e,bw,bx){if(arguments.length===0){return this.unbind("live")}else{return this.die(bw,null,bx,e)}},trigger:function(e,bw){return this.each(function(){c.event.trigger(e,bw,this)})},triggerHandler:function(e,bw){if(this[0]){return c.event.trigger(e,bw,this[0],true)}},toggle:function(by){var bw=arguments,e=by.guid||c.guid++,bx=0,bz=function(bA){var bB=(c.data(this,"lastToggle"+by.guid)||0)%bx;c.data(this,"lastToggle"+by.guid,bB+1);bA.preventDefault();return bw[bB].apply(this,arguments)||false};bz.guid=e;while(bx<bw.length){bw[bx++].guid=e}return this.click(bz)},hover:function(e,bw){return this.mouseenter(e).mouseleave(bw||e)}});var aT={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(bw,e){c.fn[e]=function(bG,bD,bI,bz){var bH,bE=0,bF,by,bK,bB=bz||this.selector,bx=bz?this:c(this.context);if(typeof bG==="object"&&!bG.preventDefault){for(var bJ in bG){bx[e](bJ,bD,bG[bJ],bB)}return this}if(e==="die"&&!bG&&bz&&bz.charAt(0)==="."){bx.unbind(bz);return this}if(bD===false||c.isFunction(bD)){bI=bD||bl;bD=O}bG=(bG||"").split(" ");while((bH=bG[bE++])!=null){bF=a0.exec(bH);by="";if(bF){by=bF[0];bH=bH.replace(a0,"")}if(bH==="hover"){bG.push("mouseenter"+by,"mouseleave"+by);continue}bK=bH;if(aT[bH]){bG.push(aT[bH]+by);bH=bH+by}else{bH=(aT[bH]||bH)+by}if(e==="live"){for(var bC=0,bA=bx.length;bC<bA;bC++){c.event.add(bx[bC],"live."+t(bH,bB),{data:bD,selector:bB,handler:bI,origType:bH,origHandler:bI,preType:bK})}}else{bx.unbind("live."+t(bH,bB),bI)}}return this}});function am(bG){var bD,by,bM,bA,e,bI,bF,bH,bE,bL,bC,bB,bK,bJ=[],bz=[],bw=c._data(this,"events");if(bG.liveFired===this||!bw||!bw.live||bG.target.disabled||bG.button&&bG.type==="click"){return}if(bG.namespace){bB=new RegExp("(^|\\.)"+bG.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bG.liveFired=this;var bx=bw.live.slice(0);for(bF=0;bF<bx.length;bF++){e=bx[bF];if(e.origType.replace(a0,"")===bG.type){bz.push(e.selector)}else{bx.splice(bF--,1)}}bA=c(bG.target).closest(bz,bG.currentTarget);for(bH=0,bE=bA.length;bH<bE;bH++){bC=bA[bH];for(bF=0;bF<bx.length;bF++){e=bx[bF];if(bC.selector===e.selector&&(!bB||bB.test(e.namespace))&&!bC.elem.disabled){bI=bC.elem;bM=null;if(e.preType==="mouseenter"||e.preType==="mouseleave"){bG.type=e.preType;bM=c(bG.relatedTarget).closest(e.selector)[0];if(bM&&c.contains(bI,bM)){bM=bI}}if(!bM||bM!==bI){bJ.push({elem:bI,handleObj:e,level:bC.level})}}}}for(bH=0,bE=bJ.length;bH<bE;bH++){bA=bJ[bH];if(by&&bA.level>by){break}bG.currentTarget=bA.elem;bG.data=bA.handleObj.data;bG.handleObj=bA.handleObj;bK=bA.handleObj.origHandler.apply(bA.elem,arguments);if(bK===false||bG.isPropagationStopped()){by=bA.level;if(bK===false){bD=false}if(bG.isImmediatePropagationStopped()){break}}}return bD}function t(bw,e){return(bw&&bw!=="*"?bw+".":"")+e.replace(R,"`").replace(bj,"&")}c.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(bw,e){c.fn[e]=function(by,bx){if(bx==null){bx=by;by=null}return arguments.length>0?this.bind(e,by,bx):this.trigger(e)};if(c.attrFn){c.attrFn[e]=true}});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bG=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bH=0,bK=Object.prototype.toString,bB=false,bA=true,bI=/\\/g,bO=/\W/;[0,0].sort(function(){bA=false;return 0});var by=function(bT,e,bW,bX){bW=bW||[];e=e||av;var bZ=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bT||typeof bT!=="string"){return bW}var bQ,b1,b4,bP,b0,b3,b2,bV,bS=true,bR=by.isXML(e),bU=[],bY=bT;do{bG.exec("");bQ=bG.exec(bY);if(bQ){bY=bQ[3];bU.push(bQ[1]);if(bQ[2]){bP=bQ[3];break}}}while(bQ);if(bU.length>1&&bC.exec(bT)){if(bU.length===2&&bD.relative[bU[0]]){b1=bL(bU[0]+bU[1],e)}else{b1=bD.relative[bU[0]]?[e]:by(bU.shift(),e);while(bU.length){bT=bU.shift();if(bD.relative[bT]){bT+=bU.shift()}b1=bL(bT,b1)}}}else{if(!bX&&bU.length>1&&e.nodeType===9&&!bR&&bD.match.ID.test(bU[0])&&!bD.match.ID.test(bU[bU.length-1])){b0=by.find(bU.shift(),e,bR);e=b0.expr?by.filter(b0.expr,b0.set)[0]:b0.set[0]}if(e){b0=bX?{expr:bU.pop(),set:bE(bX)}:by.find(bU.pop(),bU.length===1&&(bU[0]==="~"||bU[0]==="+")&&e.parentNode?e.parentNode:e,bR);b1=b0.expr?by.filter(b0.expr,b0.set):b0.set;if(bU.length>0){b4=bE(b1)}else{bS=false}while(bU.length){b3=bU.pop();b2=b3;if(!bD.relative[b3]){b3=""}else{b2=bU.pop()}if(b2==null){b2=e}bD.relative[b3](b4,b2,bR)}}else{b4=bU=[]}}if(!b4){b4=b1}if(!b4){by.error(b3||bT)}if(bK.call(b4)==="[object Array]"){if(!bS){bW.push.apply(bW,b4)}else{if(e&&e.nodeType===1){for(bV=0;b4[bV]!=null;bV++){if(b4[bV]&&(b4[bV]===true||b4[bV].nodeType===1&&by.contains(e,b4[bV]))){bW.push(b1[bV])}}}else{for(bV=0;b4[bV]!=null;bV++){if(b4[bV]&&b4[bV].nodeType===1){bW.push(b1[bV])}}}}}else{bE(b4,bW)}if(bP){by(bP,bZ,bW,bX);by.uniqueSort(bW)}return bW};by.uniqueSort=function(bP){if(bJ){bB=bA;bP.sort(bJ);if(bB){for(var e=1;e<bP.length;e++){if(bP[e]===bP[e-1]){bP.splice(e--,1)}}}}return bP};by.matches=function(e,bP){return by(e,null,null,bP)};by.matchesSelector=function(e,bP){return by(bP,null,null,[e]).length>0};by.find=function(bV,e,bW){var bU;if(!bV){return[]}for(var bR=0,bQ=bD.order.length;bR<bQ;bR++){var bS,bT=bD.order[bR];if((bS=bD.leftMatch[bT].exec(bV))){var bP=bS[1];bS.splice(1,1);if(bP.substr(bP.length-1)!=="\\"){bS[1]=(bS[1]||"").replace(bI,"");bU=bD.find[bT](bS,e,bW);if(bU!=null){bV=bV.replace(bD.match[bT],"");break}}}}if(!bU){bU=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bU,expr:bV}};by.filter=function(bZ,bY,b2,bS){var bU,e,bQ=bZ,b4=[],bW=bY,bV=bY&&bY[0]&&by.isXML(bY[0]);while(bZ&&bY.length){for(var bX in bD.filter){if((bU=bD.leftMatch[bX].exec(bZ))!=null&&bU[2]){var b3,b1,bP=bD.filter[bX],bR=bU[1];e=false;bU.splice(1,1);if(bR.substr(bR.length-1)==="\\"){continue}if(bW===b4){b4=[]}if(bD.preFilter[bX]){bU=bD.preFilter[bX](bU,bW,b2,b4,bS,bV);if(!bU){e=b3=true}else{if(bU===true){continue}}}if(bU){for(var bT=0;(b1=bW[bT])!=null;bT++){if(b1){b3=bP(b1,bU,bT,bW);var b0=bS^!!b3;if(b2&&b3!=null){if(b0){e=true}else{bW[bT]=false}}else{if(b0){b4.push(b1);e=true}}}}}if(b3!==O){if(!b2){bW=b4}bZ=bZ.replace(bD.match[bX],"");if(!e){return[]}break}}}if(bZ===bQ){if(e==null){by.error(bZ)}else{break}}bQ=bZ}return bW};by.error=function(e){throw"Syntax error, unrecognized expression: "+e};var bD=by.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bU,bP){var bR=typeof bP==="string",bT=bR&&!bO.test(bP),bV=bR&&!bT;if(bT){bP=bP.toLowerCase()}for(var bQ=0,e=bU.length,bS;bQ<e;bQ++){if((bS=bU[bQ])){while((bS=bS.previousSibling)&&bS.nodeType!==1){}bU[bQ]=bV||bS&&bS.nodeName.toLowerCase()===bP?bS||false:bS===bP}}if(bV){by.filter(bP,bU,true)}},">":function(bU,bP){var bT,bS=typeof bP==="string",bQ=0,e=bU.length;if(bS&&!bO.test(bP)){bP=bP.toLowerCase();for(;bQ<e;bQ++){bT=bU[bQ];if(bT){var bR=bT.parentNode;bU[bQ]=bR.nodeName.toLowerCase()===bP?bR:false}}}else{for(;bQ<e;bQ++){bT=bU[bQ];if(bT){bU[bQ]=bS?bT.parentNode:bT.parentNode===bP}}if(bS){by.filter(bP,bU,true)}}},"":function(bR,bP,bT){var bS,bQ=bH++,e=bM;if(typeof bP==="string"&&!bO.test(bP)){bP=bP.toLowerCase();bS=bP;e=bw}e("parentNode",bP,bQ,bR,bS,bT)},"~":function(bR,bP,bT){var bS,bQ=bH++,e=bM;if(typeof bP==="string"&&!bO.test(bP)){bP=bP.toLowerCase();bS=bP;e=bw}e("previousSibling",bP,bQ,bR,bS,bT)}},find:{ID:function(bP,bQ,bR){if(typeof bQ.getElementById!=="undefined"&&!bR){var e=bQ.getElementById(bP[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bQ,bT){if(typeof bT.getElementsByName!=="undefined"){var bP=[],bS=bT.getElementsByName(bQ[1]);for(var bR=0,e=bS.length;bR<e;bR++){if(bS[bR].getAttribute("name")===bQ[1]){bP.push(bS[bR])}}return bP.length===0?null:bP}},TAG:function(e,bP){if(typeof bP.getElementsByTagName!=="undefined"){return bP.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bR,bP,bQ,e,bU,bV){bR=" "+bR[1].replace(bI,"")+" ";if(bV){return bR}for(var bS=0,bT;(bT=bP[bS])!=null;bS++){if(bT){if(bU^(bT.className&&(" "+bT.className+" ").replace(/[\t\n\r]/g," ").indexOf(bR)>=0)){if(!bQ){e.push(bT)}}else{if(bQ){bP[bS]=false}}}}return false},ID:function(e){return e[1].replace(bI,"")},TAG:function(bP,e){return bP[1].replace(bI,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){by.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bP=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bP[1]+(bP[2]||1))-0;e[3]=bP[3]-0}else{if(e[2]){by.error(e[0])}}e[0]=bH++;return e},ATTR:function(bS,bP,bQ,e,bT,bU){var bR=bS[1]=bS[1].replace(bI,"");if(!bU&&bD.attrMap[bR]){bS[1]=bD.attrMap[bR]}bS[4]=(bS[4]||bS[5]||"").replace(bI,"");if(bS[2]==="~="){bS[4]=" "+bS[4]+" "}return bS},PSEUDO:function(bS,bP,bQ,e,bT){if(bS[1]==="not"){if((bG.exec(bS[3])||"").length>1||/^\w/.test(bS[3])){bS[3]=by(bS[3],null,null,bP)}else{var bR=by.filter(bS[3],bP,bQ,true^bT);if(!bQ){e.push.apply(e,bR)}return false}}else{if(bD.match.POS.test(bS[0])||bD.match.CHILD.test(bS[0])){return true}}return bS},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bQ,bP,e){return !!by(e[3],bQ).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(bQ){var e=bQ.getAttribute("type"),bP=bQ.type;return bQ.nodeName.toLowerCase()==="input"&&"text"===bP&&(e===bP||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bP){var e=bP.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bP.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(bP){var e=bP.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bP.type},button:function(bP){var e=bP.nodeName.toLowerCase();return e==="input"&&"button"===bP.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bP,e){return e===0},last:function(bQ,bP,e,bR){return bP===bR.length-1},even:function(bP,e){return e%2===0},odd:function(bP,e){return e%2===1},lt:function(bQ,bP,e){return bP<e[3]-0},gt:function(bQ,bP,e){return bP>e[3]-0},nth:function(bQ,bP,e){return e[3]-0===bP},eq:function(bQ,bP,e){return e[3]-0===bP}},filter:{PSEUDO:function(bQ,bV,bU,bW){var e=bV[1],bP=bD.filters[e];if(bP){return bP(bQ,bU,bV,bW)}else{if(e==="contains"){return(bQ.textContent||bQ.innerText||by.getText([bQ])||"").indexOf(bV[3])>=0}else{if(e==="not"){var bR=bV[3];for(var bT=0,bS=bR.length;bT<bS;bT++){if(bR[bT]===bQ){return false}}return true}else{by.error(e)}}}},CHILD:function(e,bR){var bU=bR[1],bP=e;switch(bU){case"only":case"first":while((bP=bP.previousSibling)){if(bP.nodeType===1){return false}}if(bU==="first"){return true}bP=e;case"last":while((bP=bP.nextSibling)){if(bP.nodeType===1){return false}}return true;case"nth":var bQ=bR[2],bX=bR[3];if(bQ===1&&bX===0){return true}var bT=bR[0],bW=e.parentNode;if(bW&&(bW.sizcache!==bT||!e.nodeIndex)){var bS=0;for(bP=bW.firstChild;bP;bP=bP.nextSibling){if(bP.nodeType===1){bP.nodeIndex=++bS}}bW.sizcache=bT}var bV=e.nodeIndex-bX;if(bQ===0){return bV===0}else{return(bV%bQ===0&&bV/bQ>=0)}}},ID:function(bP,e){return bP.nodeType===1&&bP.getAttribute("id")===e},TAG:function(bP,e){return(e==="*"&&bP.nodeType===1)||bP.nodeName.toLowerCase()===e},CLASS:function(bP,e){return(" "+(bP.className||bP.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bT,bR){var bQ=bR[1],e=bD.attrHandle[bQ]?bD.attrHandle[bQ](bT):bT[bQ]!=null?bT[bQ]:bT.getAttribute(bQ),bU=e+"",bS=bR[2],bP=bR[4];return e==null?bS==="!=":bS==="="?bU===bP:bS==="*="?bU.indexOf(bP)>=0:bS==="~="?(" "+bU+" ").indexOf(bP)>=0:!bP?bU&&e!==false:bS==="!="?bU!==bP:bS==="^="?bU.indexOf(bP)===0:bS==="$="?bU.substr(bU.length-bP.length)===bP:bS==="|="?bU===bP||bU.substr(0,bP.length+1)===bP+"-":false},POS:function(bS,bP,bQ,bT){var e=bP[2],bR=bD.setFilters[e];if(bR){return bR(bS,bQ,bP,bT)}}}};var bC=bD.match.POS,bx=function(bP,e){return"\\"+(e-0+1)};for(var bz in bD.match){bD.match[bz]=new RegExp(bD.match[bz].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bD.leftMatch[bz]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bD.match[bz].source.replace(/\\(\d+)/g,bx))}var bE=function(bP,e){bP=Array.prototype.slice.call(bP,0);if(e){e.push.apply(e,bP);return e}return bP};try{Array.prototype.slice.call(av.documentElement.childNodes,0)[0].nodeType}catch(bN){bE=function(bS,bR){var bQ=0,bP=bR||[];if(bK.call(bS)==="[object Array]"){Array.prototype.push.apply(bP,bS)}else{if(typeof bS.length==="number"){for(var e=bS.length;bQ<e;bQ++){bP.push(bS[bQ])}}else{for(;bS[bQ];bQ++){bP.push(bS[bQ])}}}return bP}}var bJ,bF;if(av.documentElement.compareDocumentPosition){bJ=function(bP,e){if(bP===e){bB=true;return 0}if(!bP.compareDocumentPosition||!e.compareDocumentPosition){return bP.compareDocumentPosition?-1:1}return bP.compareDocumentPosition(e)&4?-1:1}}else{bJ=function(bW,bV){if(bW===bV){bB=true;return 0}else{if(bW.sourceIndex&&bV.sourceIndex){return bW.sourceIndex-bV.sourceIndex}}var bT,bP,bQ=[],e=[],bS=bW.parentNode,bU=bV.parentNode,bX=bS;if(bS===bU){return bF(bW,bV)}else{if(!bS){return -1}else{if(!bU){return 1}}}while(bX){bQ.unshift(bX);bX=bX.parentNode}bX=bU;while(bX){e.unshift(bX);bX=bX.parentNode}bT=bQ.length;bP=e.length;for(var bR=0;bR<bT&&bR<bP;bR++){if(bQ[bR]!==e[bR]){return bF(bQ[bR],e[bR])}}return bR===bT?bF(bW,e[bR],-1):bF(bQ[bR],bV,1)};bF=function(bP,e,bQ){if(bP===e){return bQ}var bR=bP.nextSibling;while(bR){if(bR===e){return -1}bR=bR.nextSibling}return 1}}by.getText=function(e){var bP="",bR;for(var bQ=0;e[bQ];bQ++){bR=e[bQ];if(bR.nodeType===3||bR.nodeType===4){bP+=bR.nodeValue}else{if(bR.nodeType!==8){bP+=by.getText(bR.childNodes)}}}return bP};(function(){var bP=av.createElement("div"),bQ="script"+(new Date()).getTime(),e=av.documentElement;bP.innerHTML="<a name='"+bQ+"'/>";e.insertBefore(bP,e.firstChild);if(av.getElementById(bQ)){bD.find.ID=function(bS,bT,bU){if(typeof bT.getElementById!=="undefined"&&!bU){var bR=bT.getElementById(bS[1]);return bR?bR.id===bS[1]||typeof bR.getAttributeNode!=="undefined"&&bR.getAttributeNode("id").nodeValue===bS[1]?[bR]:O:[]}};bD.filter.ID=function(bT,bR){var bS=typeof bT.getAttributeNode!=="undefined"&&bT.getAttributeNode("id");return bT.nodeType===1&&bS&&bS.nodeValue===bR}}e.removeChild(bP);e=bP=null})();(function(){var e=av.createElement("div");e.appendChild(av.createComment(""));if(e.getElementsByTagName("*").length>0){bD.find.TAG=function(bP,bT){var bS=bT.getElementsByTagName(bP[1]);if(bP[1]==="*"){var bR=[];for(var bQ=0;bS[bQ];bQ++){if(bS[bQ].nodeType===1){bR.push(bS[bQ])}}bS=bR}return bS}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bD.attrHandle.href=function(bP){return bP.getAttribute("href",2)}}e=null})();if(av.querySelectorAll){(function(){var e=by,bR=av.createElement("div"),bQ="__sizzle__";bR.innerHTML="<p class='TEST'></p>";if(bR.querySelectorAll&&bR.querySelectorAll(".TEST").length===0){return}by=function(b2,bT,bX,b1){bT=bT||av;if(!b1&&!by.isXML(bT)){var b0=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b2);if(b0&&(bT.nodeType===1||bT.nodeType===9)){if(b0[1]){return bE(bT.getElementsByTagName(b2),bX)}else{if(b0[2]&&bD.find.CLASS&&bT.getElementsByClassName){return bE(bT.getElementsByClassName(b0[2]),bX)}}}if(bT.nodeType===9){if(b2==="body"&&bT.body){return bE([bT.body],bX)}else{if(b0&&b0[3]){var bW=bT.getElementById(b0[3]);if(bW&&bW.parentNode){if(bW.id===b0[3]){return bE([bW],bX)}}else{return bE([],bX)}}}try{return bE(bT.querySelectorAll(b2),bX)}catch(bY){}}else{if(bT.nodeType===1&&bT.nodeName.toLowerCase()!=="object"){var bU=bT,bV=bT.getAttribute("id"),bS=bV||bQ,b4=bT.parentNode,b3=/^\s*[+~]/.test(b2);if(!bV){bT.setAttribute("id",bS)}else{bS=bS.replace(/'/g,"\\$&")}if(b3&&b4){bT=bT.parentNode}try{if(!b3||b4){return bE(bT.querySelectorAll("[id='"+bS+"'] "+b2),bX)}}catch(bZ){}finally{if(!bV){bU.removeAttribute("id")}}}}}return e(b2,bT,bX,b1)};for(var bP in e){by[bP]=e[bP]}bR=null})()}(function(){var e=av.documentElement,bQ=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bQ){var bS=!bQ.call(av.createElement("div"),"div"),bP=false;try{bQ.call(av.documentElement,"[test!='']:sizzle")}catch(bR){bP=true}by.matchesSelector=function(bU,bW){bW=bW.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!by.isXML(bU)){try{if(bP||!bD.match.PSEUDO.test(bW)&&!/!=/.test(bW)){var bT=bQ.call(bU,bW);if(bT||!bS||bU.document&&bU.document.nodeType!==11){return bT}}}catch(bV){}}return by(bW,null,null,[bU]).length>0}}})();(function(){var e=av.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bD.order.splice(1,0,"CLASS");bD.find.CLASS=function(bP,bQ,bR){if(typeof bQ.getElementsByClassName!=="undefined"&&!bR){return bQ.getElementsByClassName(bP[1])}};e=null})();function bw(bP,bU,bT,bX,bV,bW){for(var bR=0,bQ=bX.length;bR<bQ;bR++){var e=bX[bR];if(e){var bS=false;e=e[bP];while(e){if(e.sizcache===bT){bS=bX[e.sizset];break}if(e.nodeType===1&&!bW){e.sizcache=bT;e.sizset=bR}if(e.nodeName.toLowerCase()===bU){bS=e;break}e=e[bP]}bX[bR]=bS}}}function bM(bP,bU,bT,bX,bV,bW){for(var bR=0,bQ=bX.length;bR<bQ;bR++){var e=bX[bR];if(e){var bS=false;e=e[bP];while(e){if(e.sizcache===bT){bS=bX[e.sizset];break}if(e.nodeType===1){if(!bW){e.sizcache=bT;e.sizset=bR}if(typeof bU!=="string"){if(e===bU){bS=true;break}}else{if(by.filter(bU,[e]).length>0){bS=e;break}}}e=e[bP]}bX[bR]=bS}}}if(av.documentElement.contains){by.contains=function(bP,e){return bP!==e&&(bP.contains?bP.contains(e):true)}}else{if(av.documentElement.compareDocumentPosition){by.contains=function(bP,e){return !!(bP.compareDocumentPosition(e)&16)}}else{by.contains=function(){return false}}}by.isXML=function(e){var bP=(e?e.ownerDocument||e:0).documentElement;return bP?bP.nodeName!=="HTML":false};var bL=function(e,bV){var bT,bR=[],bS="",bQ=bV.nodeType?[bV]:bV;while((bT=bD.match.PSEUDO.exec(e))){bS+=bT[0];e=e.replace(bD.match.PSEUDO,"")}e=bD.relative[e]?e+"*":e;for(var bU=0,bP=bQ.length;bU<bP;bU++){by(e,bQ[bU],bR)}return by.filter(bS,bR)};c.find=by;c.expr=by.selectors;c.expr[":"]=c.expr.filters;c.unique=by.uniqueSort;c.text=by.getText;c.isXMLDoc=by.isXML;c.contains=by.contains})();var ac=/Until$/,aq=/^(?:parents|prevUntil|prevAll)/,bb=/,/,br=/^.[^:#\[\.,]*$/,T=Array.prototype.slice,L=c.expr.match.POS,ay={children:true,contents:true,next:true,prev:true};c.fn.extend({find:function(e){var bx=this,bz,bw;if(typeof e!=="string"){return c(e).filter(function(){for(bz=0,bw=bx.length;bz<bw;bz++){if(c.contains(bx[bz],this)){return true}}})}var by=this.pushStack("","find",e),bB,bC,bA;for(bz=0,bw=this.length;bz<bw;bz++){bB=by.length;c.find(e,this[bz],by);if(bz>0){for(bC=bB;bC<by.length;bC++){for(bA=0;bA<bB;bA++){if(by[bA]===by[bC]){by.splice(bC--,1);break}}}}}return by},has:function(bw){var e=c(bw);return this.filter(function(){for(var by=0,bx=e.length;by<bx;by++){if(c.contains(this,e[by])){return true}}})},not:function(e){return this.pushStack(aF(this,e,false),"not",e)},filter:function(e){return this.pushStack(aF(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?c.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bF,bw){var bC=[],bz,bx,bE=this[0];if(c.isArray(bF)){var bB,by,bA={},e=1;if(bE&&bF.length){for(bz=0,bx=bF.length;bz<bx;bz++){by=bF[bz];if(!bA[by]){bA[by]=L.test(by)?c(by,bw||this.context):by}}while(bE&&bE.ownerDocument&&bE!==bw){for(by in bA){bB=bA[by];if(bB.jquery?bB.index(bE)>-1:c(bE).is(bB)){bC.push({selector:by,elem:bE,level:e})}}bE=bE.parentNode;e++}}return bC}var bD=L.test(bF)||typeof bF!=="string"?c(bF,bw||this.context):0;for(bz=0,bx=this.length;bz<bx;bz++){bE=this[bz];while(bE){if(bD?bD.index(bE)>-1:c.find.matchesSelector(bE,bF)){bC.push(bE);break}else{bE=bE.parentNode;if(!bE||!bE.ownerDocument||bE===bw||bE.nodeType===11){break}}}}bC=bC.length>1?c.unique(bC):bC;return this.pushStack(bC,"closest",bF)},index:function(e){if(!e||typeof e==="string"){return c.inArray(this[0],e?c(e):this.parent().children())}return c.inArray(e.jquery?e[0]:e,this)},add:function(e,bw){var by=typeof e==="string"?c(e,bw):c.makeArray(e&&e.nodeType?[e]:e),bx=c.merge(this.get(),by);return this.pushStack(G(by[0])||G(bx[0])?bx:c.unique(bx))},andSelf:function(){return this.add(this.prevObject)}});function G(e){return !e||!e.parentNode||e.parentNode.nodeType===11}c.each({parent:function(bw){var e=bw.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return c.dir(e,"parentNode")},parentsUntil:function(bw,e,bx){return c.dir(bw,"parentNode",bx)},next:function(e){return c.nth(e,2,"nextSibling")},prev:function(e){return c.nth(e,2,"previousSibling")},nextAll:function(e){return c.dir(e,"nextSibling")},prevAll:function(e){return c.dir(e,"previousSibling")},nextUntil:function(bw,e,bx){return c.dir(bw,"nextSibling",bx)},prevUntil:function(bw,e,bx){return c.dir(bw,"previousSibling",bx)},siblings:function(e){return c.sibling(e.parentNode.firstChild,e)},children:function(e){return c.sibling(e.firstChild)},contents:function(e){return c.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:c.makeArray(e.childNodes)}},function(e,bw){c.fn[e]=function(bA,bx){var bz=c.map(this,bw,bA),by=T.call(arguments);if(!ac.test(e)){bx=bA}if(bx&&typeof bx==="string"){bz=c.filter(bx,bz)}bz=this.length>1&&!ay[e]?c.unique(bz):bz;if((this.length>1||bb.test(bx))&&aq.test(e)){bz=bz.reverse()}return this.pushStack(bz,e,by.join(","))}});c.extend({filter:function(bx,e,bw){if(bw){bx=":not("+bx+")"}return e.length===1?c.find.matchesSelector(e[0],bx)?[e[0]]:[]:c.find.matches(bx,e)},dir:function(bx,bw,bz){var e=[],by=bx[bw];while(by&&by.nodeType!==9&&(bz===O||by.nodeType!==1||!c(by).is(bz))){if(by.nodeType===1){e.push(by)}by=by[bw]}return e},nth:function(bz,e,bx,by){e=e||1;var bw=0;for(;bz;bz=bz[bx]){if(bz.nodeType===1&&++bw===e){break}}return bz},sibling:function(bx,bw){var e=[];for(;bx;bx=bx.nextSibling){if(bx.nodeType===1&&bx!==bw){e.push(bx)}}return e}});function aF(by,bx,e){bx=bx||0;if(c.isFunction(bx)){return c.grep(by,function(bA,bz){var bB=!!bx.call(bA,bz,bA);return bB===e})}else{if(bx.nodeType){return c.grep(by,function(bA,bz){return(bA===bx)===e})}else{if(typeof bx==="string"){var bw=c.grep(by,function(bz){return bz.nodeType===1});if(br.test(bx)){return c.filter(bx,bw,!e)}else{bx=c.filter(bx,bw)}}}}return c.grep(by,function(bA,bz){return(c.inArray(bA,bx)>=0)===e})}var ah=/ jQuery\d+="(?:\d+|null)"/g,ar=/^\s+/,W=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,f=/<([\w:]+)/,A=/<tbody/i,Z=/<|&#?\w+;/,S=/<(?:script|object|embed|option|style)/i,r=/checked\s*(?:[^=]|=\s*.checked.)/i,bn=/\/(java|ecma)script/i,aN=/^\s*<!(?:\[CDATA\[|\-\-)/,ax={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ax.optgroup=ax.option;ax.tbody=ax.tfoot=ax.colgroup=ax.caption=ax.thead;ax.th=ax.td;if(!c.support.htmlSerialize){ax._default=[1,"div<div>","</div>"]}c.fn.extend({text:function(e){if(c.isFunction(e)){return this.each(function(bx){var bw=c(this);bw.text(e.call(this,bx,bw.text()))})}if(typeof e!=="object"&&e!==O){return this.empty().append((this[0]&&this[0].ownerDocument||av).createTextNode(e))}return c.text(this)},wrapAll:function(e){if(c.isFunction(e)){return this.each(function(bx){c(this).wrapAll(e.call(this,bx))})}if(this[0]){var bw=c(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bw.insertBefore(this[0])}bw.map(function(){var bx=this;while(bx.firstChild&&bx.firstChild.nodeType===1){bx=bx.firstChild}return bx}).append(this)}return this},wrapInner:function(e){if(c.isFunction(e)){return this.each(function(bw){c(this).wrapInner(e.call(this,bw))})}return this.each(function(){var bw=c(this),bx=bw.contents();if(bx.length){bx.wrapAll(e)}else{bw.append(e)}})},wrap:function(e){return this.each(function(){c(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){if(!c.nodeName(this,"body")){c(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bw){this.parentNode.insertBefore(bw,this)})}else{if(arguments.length){var e=c(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bw){this.parentNode.insertBefore(bw,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,c(arguments[0]).toArray());return e}}},remove:function(e,by){for(var bw=0,bx;(bx=this[bw])!=null;bw++){if(!e||c.filter(e,[bx]).length){if(!by&&bx.nodeType===1){c.cleanData(bx.getElementsByTagName("*"));c.cleanData([bx])}if(bx.parentNode){bx.parentNode.removeChild(bx)}}}return this},empty:function(){for(var e=0,bw;(bw=this[e])!=null;e++){if(bw.nodeType===1){c.cleanData(bw.getElementsByTagName("*"))}while(bw.firstChild){bw.removeChild(bw.firstChild)}}return this},clone:function(bw,e){bw=bw==null?false:bw;e=e==null?bw:e;return this.map(function(){return c.clone(this,bw,e)})},html:function(by){if(by===O){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ah,""):null}else{if(typeof by==="string"&&!S.test(by)&&(c.support.leadingWhitespace||!ar.test(by))&&!ax[(f.exec(by)||["",""])[1].toLowerCase()]){by=by.replace(W,"<$1></$2>");try{for(var bx=0,bw=this.length;bx<bw;bx++){if(this[bx].nodeType===1){c.cleanData(this[bx].getElementsByTagName("*"));this[bx].innerHTML=by}}}catch(bz){this.empty().append(by)}}else{if(c.isFunction(by)){this.each(function(bA){var e=c(this);e.html(by.call(this,bA,e.html()))})}else{this.empty().append(by)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(c.isFunction(e)){return this.each(function(by){var bx=c(this),bw=bx.html();bx.replaceWith(e.call(this,by,bw))})}if(typeof e!=="string"){e=c(e).detach()}return this.each(function(){var bx=this.nextSibling,bw=this.parentNode;c(this).remove();if(bx){c(bx).before(e)}else{c(bw).append(e)}})}else{return this.length?this.pushStack(c(c.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bC,bG,bF){var by,bz,bB,bE,bD=bC[0],bw=[];if(!c.support.checkClone&&arguments.length===3&&typeof bD==="string"&&r.test(bD)){return this.each(function(){c(this).domManip(bC,bG,bF,true)})}if(c.isFunction(bD)){return this.each(function(bI){var bH=c(this);bC[0]=bD.call(this,bI,bG?bH.html():O);bH.domManip(bC,bG,bF)})}if(this[0]){bE=bD&&bD.parentNode;if(c.support.parentNode&&bE&&bE.nodeType===11&&bE.childNodes.length===this.length){by={fragment:bE}}else{by=c.buildFragment(bC,this,bw)}bB=by.fragment;if(bB.childNodes.length===1){bz=bB=bB.firstChild}else{bz=bB.firstChild}if(bz){bG=bG&&c.nodeName(bz,"tr");for(var bx=0,e=this.length,bA=e-1;bx<e;bx++){bF.call(bG?bc(this[bx],bz):this[bx],by.cacheable||(e>1&&bx<bA)?c.clone(bB,true,true):bB)}}if(bw.length){c.each(bw,bq)}}return this}});function bc(e,bw){return c.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function x(e,bC){if(bC.nodeType!==1||!c.hasData(e)){return}var bB=c.expando,by=c.data(e),bz=c.data(bC,by);if((by=by[bB])){var bD=by.events;bz=bz[bB]=c.extend({},by);if(bD){delete bz.handle;bz.events={};for(var bA in bD){for(var bx=0,bw=bD[bA].length;bx<bw;bx++){c.event.add(bC,bA+(bD[bA][bx].namespace?".":"")+bD[bA][bx].namespace,bD[bA][bx],bD[bA][bx].data)}}}}}function ai(bw,e){var bx;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(bw)}bx=e.nodeName.toLowerCase();if(bx==="object"){e.outerHTML=bw.outerHTML}else{if(bx==="input"&&(bw.type==="checkbox"||bw.type==="radio")){if(bw.checked){e.defaultChecked=e.checked=bw.checked}if(e.value!==bw.value){e.value=bw.value}}else{if(bx==="option"){e.selected=bw.defaultSelected}else{if(bx==="input"||bx==="textarea"){e.defaultValue=bw.defaultValue}}}}e.removeAttribute(c.expando)}c.buildFragment=function(bA,by,bw){var bz,e,bx,bB;if(by&&by[0]){bB=by[0].ownerDocument||by[0]}if(!bB.createDocumentFragment){bB=av}if(bA.length===1&&typeof bA[0]==="string"&&bA[0].length<512&&bB===av&&bA[0].charAt(0)==="<"&&!S.test(bA[0])&&(c.support.checkClone||!r.test(bA[0]))){e=true;bx=c.fragments[bA[0]];if(bx&&bx!==1){bz=bx}}if(!bz){bz=bB.createDocumentFragment();c.clean(bA,bB,bz,bw)}if(e){c.fragments[bA[0]]=bx?bz:1}return{fragment:bz,cacheable:e}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bw){c.fn[e]=function(bx){var bA=[],bD=c(bx),bC=this.length===1&&this[0].parentNode;if(bC&&bC.nodeType===11&&bC.childNodes.length===1&&bD.length===1){bD[bw](this[0]);return this}else{for(var bB=0,by=bD.length;bB<by;bB++){var bz=(bB>0?this.clone(true):this).get();c(bD[bB])[bw](bz);bA=bA.concat(bz)}return this.pushStack(bA,e,bD.selector)}}});function bg(e){if("getElementsByTagName" in e){return e.getElementsByTagName("*")}else{if("querySelectorAll" in e){return e.querySelectorAll("*")}else{return[]}}}function az(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function I(e){if(c.nodeName(e,"input")){az(e)}else{if("getElementsByTagName" in e){c.grep(e.getElementsByTagName("input"),az)}}}c.extend({clone:function(bz,bB,bx){var bA=bz.cloneNode(true),e,bw,by;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(bz.nodeType===1||bz.nodeType===11)&&!c.isXMLDoc(bz)){ai(bz,bA);e=bg(bz);bw=bg(bA);for(by=0;e[by];++by){ai(e[by],bw[by])}}if(bB){x(bz,bA);if(bx){e=bg(bz);bw=bg(bA);for(by=0;e[by];++by){x(e[by],bw[by])}}}e=bw=null;return bA},clean:function(bx,bz,bI,bB){var bG;bz=bz||av;if(typeof bz.createElement==="undefined"){bz=bz.ownerDocument||bz[0]&&bz[0].ownerDocument||av}var bJ=[],bC;for(var bF=0,bA;(bA=bx[bF])!=null;bF++){if(typeof bA==="number"){bA+=""}if(!bA){continue}if(typeof bA==="string"){if(!Z.test(bA)){bA=bz.createTextNode(bA)}else{bA=bA.replace(W,"<$1></$2>");var bL=(f.exec(bA)||["",""])[1].toLowerCase(),by=ax[bL]||ax._default,bE=by[0],bw=bz.createElement("div");bw.innerHTML=by[1]+bA+by[2];while(bE--){bw=bw.lastChild}if(!c.support.tbody){var e=A.test(bA),bD=bL==="table"&&!e?bw.firstChild&&bw.firstChild.childNodes:by[1]==="<table>"&&!e?bw.childNodes:[];for(bC=bD.length-1;bC>=0;--bC){if(c.nodeName(bD[bC],"tbody")&&!bD[bC].childNodes.length){bD[bC].parentNode.removeChild(bD[bC])}}}if(!c.support.leadingWhitespace&&ar.test(bA)){bw.insertBefore(bz.createTextNode(ar.exec(bA)[0]),bw.firstChild)}bA=bw.childNodes}}var bH;if(!c.support.appendChecked){if(bA[0]&&typeof(bH=bA.length)==="number"){for(bC=0;bC<bH;bC++){I(bA[bC])}}else{I(bA)}}if(bA.nodeType){bJ.push(bA)}else{bJ=c.merge(bJ,bA)}}if(bI){bG=function(bM){return !bM.type||bn.test(bM.type)};for(bF=0;bJ[bF];bF++){if(bB&&c.nodeName(bJ[bF],"script")&&(!bJ[bF].type||bJ[bF].type.toLowerCase()==="text/javascript")){bB.push(bJ[bF].parentNode?bJ[bF].parentNode.removeChild(bJ[bF]):bJ[bF])}else{if(bJ[bF].nodeType===1){var bK=c.grep(bJ[bF].getElementsByTagName("script"),bG);bJ.splice.apply(bJ,[bF+1,0].concat(bK))}bI.appendChild(bJ[bF])}}}return bJ},cleanData:function(bw){var bz,bx,e=c.cache,bE=c.expando,bC=c.event.special,bB=c.support.deleteExpando;for(var bA=0,by;(by=bw[bA])!=null;bA++){if(by.nodeName&&c.noData[by.nodeName.toLowerCase()]){continue}bx=by[c.expando];if(bx){bz=e[bx]&&e[bx][bE];if(bz&&bz.events){for(var bD in bz.events){if(bC[bD]){c.event.remove(by,bD)}else{c.removeEvent(by,bD,bz.handle)}}if(bz.handle){bz.handle.elem=null}}if(bB){delete by[c.expando]}else{if(by.removeAttribute){by.removeAttribute(c.expando)}}delete e[bx]}}}});function bq(e,bw){if(bw.src){c.ajax({url:bw.src,async:false,dataType:"script"})}else{c.globalEval((bw.text||bw.textContent||bw.innerHTML||"").replace(aN,"/*$0*/"))}if(bw.parentNode){bw.parentNode.removeChild(bw)}}var al=/alpha\([^)]*\)/i,au=/opacity=([^)]*)/,D=/([A-Z]|^ms)/g,be=/^-?\d+(?:px)?$/i,bp=/^-?\d/,M=/^[+\-]=/,ak=/[^+\-\.\de]+/g,a8={position:"absolute",visibility:"hidden",display:"block"},an=["Left","Right"],a2=["Top","Bottom"],aa,aI,aW;c.fn.css=function(e,bw){if(arguments.length===2&&bw===O){return this}return c.access(this,e,bw,true,function(by,bx,bz){return bz!==O?c.style(by,bx,bz):c.css(by,bx)})};c.extend({cssHooks:{opacity:{get:function(bx,bw){if(bw){var e=aa(bx,"opacity","opacity");return e===""?"1":e}else{return bx.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(by,bx,bE,bz){if(!by||by.nodeType===3||by.nodeType===8||!by.style){return}var bC,bD,bA=c.camelCase(bx),bw=by.style,bF=c.cssHooks[bA];bx=c.cssProps[bA]||bA;if(bE!==O){bD=typeof bE;if(bD==="number"&&isNaN(bE)||bE==null){return}if(bD==="string"&&M.test(bE)){bE=+bE.replace(ak,"")+parseFloat(c.css(by,bx));bD="number"}if(bD==="number"&&!c.cssNumber[bA]){bE+="px"}if(!bF||!("set" in bF)||(bE=bF.set(by,bE))!==O){try{bw[bx]=bE}catch(bB){}}}else{if(bF&&"get" in bF&&(bC=bF.get(by,false,bz))!==O){return bC}return bw[bx]}},css:function(bz,by,bw){var bx,e;by=c.camelCase(by);e=c.cssHooks[by];by=c.cssProps[by]||by;if(by==="cssFloat"){by="float"}if(e&&"get" in e&&(bx=e.get(bz,true,bw))!==O){return bx}else{if(aa){return aa(bz,by)}}},swap:function(by,bx,bz){var e={};for(var bw in bx){e[bw]=by.style[bw];by.style[bw]=bx[bw]}bz.call(by);for(bw in bx){by.style[bw]=e[bw]}}});c.curCSS=c.css;c.each(["height","width"],function(bw,e){c.cssHooks[e]={get:function(bz,by,bx){var bA;if(by){if(bz.offsetWidth!==0){return s(bz,e,bx)}else{c.swap(bz,a8,function(){bA=s(bz,e,bx)})}return bA}},set:function(bx,by){if(be.test(by)){by=parseFloat(by);if(by>=0){return by+"px"}}else{return by}}}});if(!c.support.opacity){c.cssHooks.opacity={get:function(bw,e){return au.test((e&&bw.currentStyle?bw.currentStyle.filter:bw.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bz,bA){var by=bz.style,bw=bz.currentStyle;by.zoom=1;var e=c.isNaN(bA)?"":"alpha(opacity="+bA*100+")",bx=bw&&bw.filter||by.filter||"";by.filter=al.test(bx)?bx.replace(al,e):bx+" "+e}}}c(function(){if(!c.support.reliableMarginRight){c.cssHooks.marginRight={get:function(bx,bw){var e;c.swap(bx,{display:"inline-block"},function(){if(bw){e=aa(bx,"margin-right","marginRight")}else{e=bx.style.marginRight}});return e}}}});if(av.defaultView&&av.defaultView.getComputedStyle){aI=function(bz,bx){var bw,by,e;bx=bx.replace(D,"-$1").toLowerCase();if(!(by=bz.ownerDocument.defaultView)){return O}if((e=by.getComputedStyle(bz,null))){bw=e.getPropertyValue(bx);if(bw===""&&!c.contains(bz.ownerDocument.documentElement,bz)){bw=c.style(bz,bx)}}return bw}}if(av.documentElement.currentStyle){aW=function(bz,bx){var bA,bw=bz.currentStyle&&bz.currentStyle[bx],e=bz.runtimeStyle&&bz.runtimeStyle[bx],by=bz.style;if(!be.test(bw)&&bp.test(bw)){bA=by.left;if(e){bz.runtimeStyle.left=bz.currentStyle.left}by.left=bx==="fontSize"?"1em":(bw||0);bw=by.pixelLeft+"px";by.left=bA;if(e){bz.runtimeStyle.left=e}}return bw===""?"auto":bw}}aa=aI||aW;function s(bx,bw,e){var bz=bw==="width"?bx.offsetWidth:bx.offsetHeight,by=bw==="width"?an:a2;if(bz>0){if(e!=="border"){c.each(by,function(){if(!e){bz-=parseFloat(c.css(bx,"padding"+this))||0}if(e==="margin"){bz+=parseFloat(c.css(bx,e+this))||0}else{bz-=parseFloat(c.css(bx,"border"+this+"Width"))||0}})}return bz+"px"}bz=aa(bx,bw,bw);if(bz<0||bz==null){bz=bx.style[bw]||0}bz=parseFloat(bz)||0;if(e){c.each(by,function(){bz+=parseFloat(c.css(bx,"padding"+this))||0;if(e!=="padding"){bz+=parseFloat(c.css(bx,"border"+this+"Width"))||0}if(e==="margin"){bz+=parseFloat(c.css(bx,e+this))||0}})}return bz+"px"}if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(bx){var bw=bx.offsetWidth,e=bx.offsetHeight;return(bw===0&&e===0)||(!c.support.reliableHiddenOffsets&&(bx.style.display||c.css(bx,"display"))==="none")};c.expr.filters.visible=function(e){return !c.expr.filters.hidden(e)}}var l=/%20/g,ap=/\[\]$/,bu=/\r?\n/g,bs=/#.*$/,aD=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aZ=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aM=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,aP=/^(?:GET|HEAD)$/,d=/^\/\//,P=/\?/,a7=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:select|textarea)/i,j=/\s+/,bt=/([?&])_=[^&]*/,N=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,E=c.fn.load,ab={},v={},aE,w;try{aE=bm.href}catch(aw){aE=av.createElement("a");aE.href="";aE=aE.href}w=N.exec(aE.toLowerCase())||[];function g(e){return function(bz,bB){if(typeof bz!=="string"){bB=bz;bz="*"}if(c.isFunction(bB)){var by=bz.toLowerCase().split(j),bx=0,bA=by.length,bw,bC,bD;for(;bx<bA;bx++){bw=by[bx];bD=/^\+/.test(bw);if(bD){bw=bw.substr(1)||"*"}bC=e[bw]=e[bw]||[];bC[bD?"unshift":"push"](bB)}}}}function aU(bw,bF,bA,bE,bC,by){bC=bC||bF.dataTypes[0];by=by||{};by[bC]=true;var bB=bw[bC],bx=0,e=bB?bB.length:0,bz=(bw===ab),bD;for(;bx<e&&(bz||!bD);bx++){bD=bB[bx](bF,bA,bE);if(typeof bD==="string"){if(!bz||by[bD]){bD=O}else{bF.dataTypes.unshift(bD);bD=aU(bw,bF,bA,bE,bD,by)}}}if((bz||!bD)&&!by["*"]){bD=aU(bw,bF,bA,bE,"*",by)}return bD}c.fn.extend({load:function(bx,bA,bB){if(typeof bx!=="string"&&E){return E.apply(this,arguments)}else{if(!this.length){return this}}var bz=bx.indexOf(" ");if(bz>=0){var e=bx.slice(bz,bx.length);bx=bx.slice(0,bz)}var by="GET";if(bA){if(c.isFunction(bA)){bB=bA;bA=O}else{if(typeof bA==="object"){bA=c.param(bA,c.ajaxSettings.traditional);by="POST"}}}var bw=this;c.ajax({url:bx,type:by,dataType:"html",data:bA,complete:function(bD,bC,bE){bE=bD.responseText;if(bD.isResolved()){bD.done(function(bF){bE=bF});bw.html(e?c("<div>").append(bE.replace(a7,"")).find(e):bE)}if(bB){bw.each(bB,[bE,bC,bD])}}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||u.test(this.nodeName)||aZ.test(this.type))}).map(function(e,bw){var bx=c(this).val();return bx==null?null:c.isArray(bx)?c.map(bx,function(bz,by){return{name:bw.name,value:bz.replace(bu,"\r\n")}}):{name:bw.name,value:bx.replace(bu,"\r\n")}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bw){c.fn[bw]=function(bx){return this.bind(bw,bx)}});c.each(["get","post"],function(e,bw){c[bw]=function(bx,bz,bA,by){if(c.isFunction(bz)){by=by||bA;bA=bz;bz=O}return c.ajax({type:bw,url:bx,data:bz,success:bA,dataType:by})}});c.extend({getScript:function(e,bw){return c.get(e,O,bw,"script")},getJSON:function(e,bw,bx){return c.get(e,bw,bx,"json")},ajaxSetup:function(bx,e){if(!e){e=bx;bx=c.extend(true,c.ajaxSettings,e)}else{c.extend(true,bx,c.ajaxSettings,e)}for(var bw in {context:1,url:1}){if(bw in e){bx[bw]=e[bw]}else{if(bw in c.ajaxSettings){bx[bw]=c.ajaxSettings[bw]}}}return bx},ajaxSettings:{url:aE,isLocal:aM.test(w[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bd.String,"text html":true,"text json":c.parseJSON,"text xml":c.parseXML}},ajaxPrefilter:g(ab),ajaxTransport:g(v),ajax:function(bA,by){if(typeof bA==="object"){by=bA;bA=O}by=by||{};var bE=c.ajaxSetup({},by),bT=bE.context||bE,bH=bT!==bE&&(bT.nodeType||bT instanceof c)?c(bT):c.event,bS=c.Deferred(),bO=c._Deferred(),bC=bE.statusCode||{},bD,bI={},bP={},bR,bz,bM,bF,bJ,bB=0,bx,bL,bK={readyState:0,setRequestHeader:function(bU,bV){if(!bB){var e=bU.toLowerCase();bU=bP[e]=bP[e]||bU;bI[bU]=bV}return this},getAllResponseHeaders:function(){return bB===2?bR:null},getResponseHeader:function(bU){var e;if(bB===2){if(!bz){bz={};while((e=aD.exec(bR))){bz[e[1].toLowerCase()]=e[2]}}e=bz[bU.toLowerCase()]}return e===O?null:e},overrideMimeType:function(e){if(!bB){bE.mimeType=e}return this},abort:function(e){e=e||"abort";if(bM){bM.abort(e)}bG(0,e);return this}};function bG(bZ,bX,b0,bW){if(bB===2){return}bB=2;if(bF){clearTimeout(bF)}bM=O;bR=bW||"";bK.readyState=bZ?4:0;var bU,b4,b3,bY=b0?bk(bE,bK,b0):O,bV,b2;if(bZ>=200&&bZ<300||bZ===304){if(bE.ifModified){if((bV=bK.getResponseHeader("Last-Modified"))){c.lastModified[bD]=bV}if((b2=bK.getResponseHeader("Etag"))){c.etag[bD]=b2}}if(bZ===304){bX="notmodified";bU=true}else{try{b4=J(bE,bY);bX="success";bU=true}catch(b1){bX="parsererror";b3=b1}}}else{b3=bX;if(!bX||bZ){bX="error";if(bZ<0){bZ=0}}}bK.status=bZ;bK.statusText=bX;if(bU){bS.resolveWith(bT,[b4,bX,bK])}else{bS.rejectWith(bT,[bK,bX,b3])}bK.statusCode(bC);bC=O;if(bx){bH.trigger("ajax"+(bU?"Success":"Error"),[bK,bE,bU?b4:b3])}bO.resolveWith(bT,[bK,bX]);if(bx){bH.trigger("ajaxComplete",[bK,bE]);if(!(--c.active)){c.event.trigger("ajaxStop")}}}bS.promise(bK);bK.success=bK.done;bK.error=bK.fail;bK.complete=bO.done;bK.statusCode=function(bU){if(bU){var e;if(bB<2){for(e in bU){bC[e]=[bC[e],bU[e]]}}else{e=bU[bK.status];bK.then(e,e)}}return this};bE.url=((bA||bE.url)+"").replace(bs,"").replace(d,w[1]+"//");bE.dataTypes=c.trim(bE.dataType||"*").toLowerCase().split(j);if(bE.crossDomain==null){bJ=N.exec(bE.url.toLowerCase());bE.crossDomain=!!(bJ&&(bJ[1]!=w[1]||bJ[2]!=w[2]||(bJ[3]||(bJ[1]==="http:"?80:443))!=(w[3]||(w[1]==="http:"?80:443))))}if(bE.data&&bE.processData&&typeof bE.data!=="string"){bE.data=c.param(bE.data,bE.traditional)}aU(ab,bE,by,bK);if(bB===2){return false}bx=bE.global;bE.type=bE.type.toUpperCase();bE.hasContent=!aP.test(bE.type);if(bx&&c.active++===0){c.event.trigger("ajaxStart")}if(!bE.hasContent){if(bE.data){bE.url+=(P.test(bE.url)?"&":"?")+bE.data}bD=bE.url;if(bE.cache===false){var bw=c.now(),bQ=bE.url.replace(bt,"$1_="+bw);bE.url=bQ+((bQ===bE.url)?(P.test(bE.url)?"&":"?")+"_="+bw:"")}}if(bE.data&&bE.hasContent&&bE.contentType!==false||by.contentType){bK.setRequestHeader("Content-Type",bE.contentType)}if(bE.ifModified){bD=bD||bE.url;if(c.lastModified[bD]){bK.setRequestHeader("If-Modified-Since",c.lastModified[bD])}if(c.etag[bD]){bK.setRequestHeader("If-None-Match",c.etag[bD])}}bK.setRequestHeader("Accept",bE.dataTypes[0]&&bE.accepts[bE.dataTypes[0]]?bE.accepts[bE.dataTypes[0]]+(bE.dataTypes[0]!=="*"?", */*; q=0.01":""):bE.accepts["*"]);for(bL in bE.headers){bK.setRequestHeader(bL,bE.headers[bL])}if(bE.beforeSend&&(bE.beforeSend.call(bT,bK,bE)===false||bB===2)){bK.abort();return false}for(bL in {success:1,error:1,complete:1}){bK[bL](bE[bL])}bM=aU(v,bE,by,bK);if(!bM){bG(-1,"No Transport")}else{bK.readyState=1;if(bx){bH.trigger("ajaxSend",[bK,bE])}if(bE.async&&bE.timeout>0){bF=setTimeout(function(){bK.abort("timeout")},bE.timeout)}try{bB=1;bM.send(bI,bG)}catch(bN){if(status<2){bG(-1,bN)}else{c.error(bN)}}}return bK},param:function(e,bx){var bw=[],bz=function(bA,bB){bB=c.isFunction(bB)?bB():bB;bw[bw.length]=encodeURIComponent(bA)+"="+encodeURIComponent(bB)};if(bx===O){bx=c.ajaxSettings.traditional}if(c.isArray(e)||(e.jquery&&!c.isPlainObject(e))){c.each(e,function(){bz(this.name,this.value)})}else{for(var by in e){z(by,e[by],bx,bz)}}return bw.join("&").replace(l,"+")}});function z(bx,bz,bw,by){if(c.isArray(bz)){c.each(bz,function(bB,bA){if(bw||ap.test(bx)){by(bx,bA)}else{z(bx+"["+(typeof bA==="object"||c.isArray(bA)?bB:"")+"]",bA,bw,by)}})}else{if(!bw&&bz!=null&&typeof bz==="object"){for(var e in bz){z(bx+"["+e+"]",bz[e],bw,by)}}else{by(bx,bz)}}}c.extend({active:0,lastModified:{},etag:{}});function bk(bE,bD,bA){var bw=bE.contents,bC=bE.dataTypes,bx=bE.responseFields,bz,bB,by,e;for(bB in bx){if(bB in bA){bD[bx[bB]]=bA[bB]}}while(bC[0]==="*"){bC.shift();if(bz===O){bz=bE.mimeType||bD.getResponseHeader("content-type")}}if(bz){for(bB in bw){if(bw[bB]&&bw[bB].test(bz)){bC.unshift(bB);break}}}if(bC[0] in bA){by=bC[0]}else{for(bB in bA){if(!bC[0]||bE.converters[bB+" "+bC[0]]){by=bB;break}if(!e){e=bB}}by=by||e}if(by){if(by!==bC[0]){bC.unshift(by)}return bA[by]}}function J(bI,bA){if(bI.dataFilter){bA=bI.dataFilter(bA,bI.dataType)}var bE=bI.dataTypes,bH={},bB,bF,bx=bE.length,bC,bD=bE[0],by,bz,bG,bw,e;for(bB=1;bB<bx;bB++){if(bB===1){for(bF in bI.converters){if(typeof bF==="string"){bH[bF.toLowerCase()]=bI.converters[bF]}}}by=bD;bD=bE[bB];if(bD==="*"){bD=by}else{if(by!=="*"&&by!==bD){bz=by+" "+bD;bG=bH[bz]||bH["* "+bD];if(!bG){e=O;for(bw in bH){bC=bw.split(" ");if(bC[0]===by||bC[0]==="*"){e=bH[bC[1]+" "+bD];if(e){bw=bH[bw];if(bw===true){bG=e}else{if(e===true){bG=bw}}break}}}}if(!(bG||e)){c.error("No conversion from "+bz.replace(" "," to "))}if(bG!==true){bA=bG?bG(bA):e(bw(bA))}}}}return bA}var aC=c.now(),y=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+(aC++)}});c.ajaxPrefilter("json jsonp",function(bE,bB,bD){var by=bE.contentType==="application/x-www-form-urlencoded"&&(typeof bE.data==="string");if(bE.dataTypes[0]==="jsonp"||bE.jsonp!==false&&(y.test(bE.url)||by&&y.test(bE.data))){var bC,bx=bE.jsonpCallback=c.isFunction(bE.jsonpCallback)?bE.jsonpCallback():bE.jsonpCallback,bA=bd[bx],e=bE.url,bz=bE.data,bw="$1"+bx+"$2";if(bE.jsonp!==false){e=e.replace(y,bw);if(bE.url===e){if(by){bz=bz.replace(y,bw)}if(bE.data===bz){e+=(/\?/.test(e)?"&":"?")+bE.jsonp+"="+bx}}}bE.url=e;bE.data=bz;bd[bx]=function(bF){bC=[bF]};bD.always(function(){bd[bx]=bA;if(bC&&c.isFunction(bA)){bd[bx](bC[0])}});bE.converters["script json"]=function(){if(!bC){c.error(bx+" was not called")}return bC[0]};bE.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){c.globalEval(e);return e}}});c.ajaxPrefilter("script",function(e){if(e.cache===O){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});c.ajaxTransport("script",function(bx){if(bx.crossDomain){var e,bw=av.head||av.getElementsByTagName("head")[0]||av.documentElement;return{send:function(by,bz){e=av.createElement("script");e.async="async";if(bx.scriptCharset){e.charset=bx.scriptCharset}e.src=bx.url;e.onload=e.onreadystatechange=function(bB,bA){if(bA||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bw&&e.parentNode){bw.removeChild(e)}e=O;if(!bA){bz(200,"success")}}};bw.insertBefore(e,bw.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var F=bd.ActiveXObject?function(){for(var e in Q){Q[e](0,1)}}:false,C=0,Q;function aL(){try{return new bd.XMLHttpRequest()}catch(bw){}}function aj(){try{return new bd.ActiveXObject("Microsoft.XMLHTTP")}catch(bw){}}c.ajaxSettings.xhr=bd.ActiveXObject?function(){return !this.isLocal&&aL()||aj()}:aL;(function(e){c.extend(c.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(c.ajaxSettings.xhr());if(c.support.ajax){c.ajaxTransport(function(e){if(!e.crossDomain||c.support.cors){var bw;return{send:function(bC,bx){var bB=e.xhr(),bA,bz;if(e.username){bB.open(e.type,e.url,e.async,e.username,e.password)}else{bB.open(e.type,e.url,e.async)}if(e.xhrFields){for(bz in e.xhrFields){bB[bz]=e.xhrFields[bz]}}if(e.mimeType&&bB.overrideMimeType){bB.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bC["X-Requested-With"]){bC["X-Requested-With"]="XMLHttpRequest"}try{for(bz in bC){bB.setRequestHeader(bz,bC[bz])}}catch(by){}bB.send((e.hasContent&&e.data)||null);bw=function(bL,bF){var bG,bE,bD,bJ,bI;try{if(bw&&(bF||bB.readyState===4)){bw=O;if(bA){bB.onreadystatechange=c.noop;if(F){delete Q[bA]}}if(bF){if(bB.readyState!==4){bB.abort()}}else{bG=bB.status;bD=bB.getAllResponseHeaders();bJ={};bI=bB.responseXML;if(bI&&bI.documentElement){bJ.xml=bI}bJ.text=bB.responseText;try{bE=bB.statusText}catch(bK){bE=""}if(!bG&&e.isLocal&&!e.crossDomain){bG=bJ.text?200:404}else{if(bG===1223){bG=204}}}}}catch(bH){if(!bF){bx(-1,bH)}}if(bJ){bx(bG,bE,bJ,bD)}};if(!e.async||bB.readyState===4){bw()}else{bA=++C;if(F){if(!Q){Q={};c(bd).unload(F)}Q[bA]=bw}bB.onreadystatechange=bw}},abort:function(){if(bw){bw(0,1)}}}}})}var U={},ba,q,aB=/^(?:toggle|show|hide)$/,aR=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a3,aH=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a5,V=bd.webkitRequestAnimationFrame||bd.mozRequestAnimationFrame||bd.oRequestAnimationFrame;c.fn.extend({show:function(by,bB,bA){var bx,bz;if(by||by===0){return this.animate(a1("show",3),by,bB,bA)}else{for(var bw=0,e=this.length;bw<e;bw++){bx=this[bw];if(bx.style){bz=bx.style.display;if(!c._data(bx,"olddisplay")&&bz==="none"){bz=bx.style.display=""}if(bz===""&&c.css(bx,"display")==="none"){c._data(bx,"olddisplay",B(bx.nodeName))}}}for(bw=0;bw<e;bw++){bx=this[bw];if(bx.style){bz=bx.style.display;if(bz===""||bz==="none"){bx.style.display=c._data(bx,"olddisplay")||""}}}return this}},hide:function(bx,bA,bz){if(bx||bx===0){return this.animate(a1("hide",3),bx,bA,bz)}else{for(var bw=0,e=this.length;bw<e;bw++){if(this[bw].style){var by=c.css(this[bw],"display");if(by!=="none"&&!c._data(this[bw],"olddisplay")){c._data(this[bw],"olddisplay",by)}}}for(bw=0;bw<e;bw++){if(this[bw].style){this[bw].style.display="none"}}return this}},_toggle:c.fn.toggle,toggle:function(bx,bw,by){var e=typeof bx==="boolean";if(c.isFunction(bx)&&c.isFunction(bw)){this._toggle.apply(this,arguments)}else{if(bx==null||e){this.each(function(){var bz=e?bx:c(this).is(":hidden");c(this)[bz?"show":"hide"]()})}else{this.animate(a1("toggle",3),bx,bw,by)}}return this},fadeTo:function(e,by,bx,bw){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:by},e,bx,bw)},animate:function(bz,bw,by,bx){var e=c.speed(bw,by,bx);if(c.isEmptyObject(bz)){return this.each(e.complete,[false])}bz=c.extend({},bz);return this[e.queue===false?"each":"queue"](function(){if(e.queue===false){c._mark(this)}var bD=c.extend({},e),bK=this.nodeType===1,bH=bK&&c(this).is(":hidden"),bA,bE,bC,bJ,bI,bG,bB,bF,bL;bD.animatedProperties={};for(bC in bz){bA=c.camelCase(bC);if(bC!==bA){bz[bA]=bz[bC];delete bz[bC]}bE=bz[bA];if(c.isArray(bE)){bD.animatedProperties[bA]=bE[1];bE=bz[bA]=bE[0]}else{bD.animatedProperties[bA]=bD.specialEasing&&bD.specialEasing[bA]||bD.easing||"swing"}if(bE==="hide"&&bH||bE==="show"&&!bH){return bD.complete.call(this)}if(bK&&(bA==="height"||bA==="width")){bD.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none"){if(!c.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{bJ=B(this.nodeName);if(bJ==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}}if(bD.overflow!=null){this.style.overflow="hidden"}for(bC in bz){bI=new c.fx(this,bD,bC);bE=bz[bC];if(aB.test(bE)){bI[bE==="toggle"?bH?"show":"hide":bE]()}else{bG=aR.exec(bE);bB=bI.cur();if(bG){bF=parseFloat(bG[2]);bL=bG[3]||(c.cssNumber[bC]?"":"px");if(bL!=="px"){c.style(this,bC,(bF||1)+bL);bB=((bF||1)/bI.cur())*bB;c.style(this,bC,bB+bL)}if(bG[1]){bF=((bG[1]==="-="?-1:1)*bF)+bB}bI.custom(bB,bF,bL)}else{bI.custom(bB,bE,"")}}}return true})},stop:function(bw,e){if(bw){this.queue([])}this.each(function(){var by=c.timers,bx=by.length;if(!e){c._unmark(true,this)}while(bx--){if(by[bx].elem===this){if(e){by[bx](true)}by.splice(bx,1)}}});if(!e){this.dequeue()}return this}});function bh(){setTimeout(at,0);return(a5=c.now())}function at(){a5=O}function a1(bw,e){var bx={};c.each(aH.concat.apply([],aH.slice(0,e)),function(){bx[this]=bw});return bx}c.each({slideDown:a1("show",1),slideUp:a1("hide",1),slideToggle:a1("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bw){c.fn[e]=function(bx,bz,by){return this.animate(bw,bx,bz,by)}});c.extend({speed:function(bx,by,bw){var e=bx&&typeof bx==="object"?c.extend({},bx):{complete:bw||!bw&&by||c.isFunction(bx)&&bx,duration:bx,easing:bw&&by||by&&!c.isFunction(by)&&by};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(bz){if(c.isFunction(e.old)){e.old.call(this)}if(e.queue!==false){c.dequeue(this)}else{if(bz!==false){c._unmark(this)}}};return e},easing:{linear:function(bx,by,e,bw){return e+bw*bx},swing:function(bx,by,e,bw){return((-Math.cos(bx*Math.PI)/2)+0.5)*bw+e}},timers:[],fx:function(bw,e,bx){this.options=e;this.elem=bw;this.prop=bx;e.orig=e.orig||{}}});c.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,bw=c.css(this.elem,this.prop);return isNaN(e=parseFloat(bw))?!bw||bw==="auto"?0:bw:e},custom:function(bB,bA,by){var e=this,bx=c.fx,bz;this.startTime=a5||bh();this.start=bB;this.end=bA;this.unit=by||this.unit||(c.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function bw(bC){return e.step(bC)}bw.elem=this.elem;if(bw()&&c.timers.push(bw)&&!a3){if(V){a3=true;bz=function(){if(a3){V(bz);bx.tick()}};V(bz)}else{a3=setInterval(bx.tick,bx.interval)}}},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bz){var by=a5||bh(),e=true,bA=this.elem,bw=this.options,bx,bC;if(bz||by>=bw.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bw.animatedProperties[this.prop]=true;for(bx in bw.animatedProperties){if(bw.animatedProperties[bx]!==true){e=false}}if(e){if(bw.overflow!=null&&!c.support.shrinkWrapBlocks){c.each(["","X","Y"],function(bD,bE){bA.style["overflow"+bE]=bw.overflow[bD]})}if(bw.hide){c(bA).hide()}if(bw.hide||bw.show){for(var bB in bw.animatedProperties){c.style(bA,bB,bw.orig[bB])}}bw.complete.call(bA)}return false}else{if(bw.duration==Infinity){this.now=by}else{bC=by-this.startTime;this.state=bC/bw.duration;this.pos=c.easing[bw.animatedProperties[this.prop]](this.state,bC,0,1,bw.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};c.extend(c.fx,{tick:function(){for(var bw=c.timers,e=0;e<bw.length;++e){if(!bw[e]()){bw.splice(e--,1)}}if(!bw.length){c.fx.stop()}},interval:13,stop:function(){clearInterval(a3);a3=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){c.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit}else{e.elem[e.prop]=e.now}}}});if(c.expr&&c.expr.filters){c.expr.filters.animated=function(e){return c.grep(c.timers,function(bw){return e===bw.elem}).length}}function B(by){if(!U[by]){var e=av.body,bw=c("<"+by+">").appendTo(e),bx=bw.css("display");bw.remove();if(bx==="none"||bx===""){if(!ba){ba=av.createElement("iframe");ba.frameBorder=ba.width=ba.height=0}e.appendChild(ba);if(!q||!ba.createElement){q=(ba.contentWindow||ba.contentDocument).document;q.write((av.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");q.close()}bw=q.createElement(by);q.body.appendChild(bw);bx=c.css(bw,"display");e.removeChild(ba)}U[by]=bx}return U[by]}var Y=/^t(?:able|d|h)$/i,ae=/^(?:body|html)$/i;if("getBoundingClientRect" in av.documentElement){c.fn.offset=function(bJ){var bz=this[0],bC;if(bJ){return this.each(function(e){c.offset.setOffset(this,bJ,e)})}if(!bz||!bz.ownerDocument){return null}if(bz===bz.ownerDocument.body){return c.offset.bodyOffset(bz)}try{bC=bz.getBoundingClientRect()}catch(bG){}var bI=bz.ownerDocument,bx=bI.documentElement;if(!bC||!c.contains(bx,bz)){return bC?{top:bC.top,left:bC.left}:{top:0,left:0}}var bD=bI.body,bE=aK(bI),bB=bx.clientTop||bD.clientTop||0,bF=bx.clientLeft||bD.clientLeft||0,bw=bE.pageYOffset||c.support.boxModel&&bx.scrollTop||bD.scrollTop,bA=bE.pageXOffset||c.support.boxModel&&bx.scrollLeft||bD.scrollLeft,bH=bC.top+bw-bB,by=bC.left+bA-bF;return{top:bH,left:by}}}else{c.fn.offset=function(bG){var bA=this[0];if(bG){return this.each(function(bH){c.offset.setOffset(this,bG,bH)})}if(!bA||!bA.ownerDocument){return null}if(bA===bA.ownerDocument.body){return c.offset.bodyOffset(bA)}c.offset.initialize();var bD,bx=bA.offsetParent,bw=bA,bF=bA.ownerDocument,by=bF.documentElement,bB=bF.body,bC=bF.defaultView,e=bC?bC.getComputedStyle(bA,null):bA.currentStyle,bE=bA.offsetTop,bz=bA.offsetLeft;while((bA=bA.parentNode)&&bA!==bB&&bA!==by){if(c.offset.supportsFixedPosition&&e.position==="fixed"){break}bD=bC?bC.getComputedStyle(bA,null):bA.currentStyle;bE-=bA.scrollTop;bz-=bA.scrollLeft;if(bA===bx){bE+=bA.offsetTop;bz+=bA.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&Y.test(bA.nodeName))){bE+=parseFloat(bD.borderTopWidth)||0;bz+=parseFloat(bD.borderLeftWidth)||0}bw=bx;bx=bA.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&bD.overflow!=="visible"){bE+=parseFloat(bD.borderTopWidth)||0;bz+=parseFloat(bD.borderLeftWidth)||0}e=bD}if(e.position==="relative"||e.position==="static"){bE+=bB.offsetTop;bz+=bB.offsetLeft}if(c.offset.supportsFixedPosition&&e.position==="fixed"){bE+=Math.max(by.scrollTop,bB.scrollTop);bz+=Math.max(by.scrollLeft,bB.scrollLeft)}return{top:bE,left:bz}}}c.offset={initialize:function(){var e=av.body,bw=av.createElement("div"),bz,bB,bA,bC,bx=parseFloat(c.css(e,"marginTop"))||0,by="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";c.extend(bw.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});bw.innerHTML=by;e.insertBefore(bw,e.firstChild);bz=bw.firstChild;bB=bz.firstChild;bC=bz.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(bB.offsetTop!==5);this.doesAddBorderForTableAndCells=(bC.offsetTop===5);bB.style.position="fixed";bB.style.top="20px";this.supportsFixedPosition=(bB.offsetTop===20||bB.offsetTop===15);bB.style.position=bB.style.top="";bz.style.overflow="hidden";bz.style.position="relative";this.subtractsBorderForOverflowNotVisible=(bB.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==bx);e.removeChild(bw);c.offset.initialize=c.noop},bodyOffset:function(e){var bx=e.offsetTop,bw=e.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){bx+=parseFloat(c.css(e,"marginTop"))||0;bw+=parseFloat(c.css(e,"marginLeft"))||0}return{top:bx,left:bw}},setOffset:function(by,bH,bB){var bC=c.css(by,"position");if(bC==="static"){by.style.position="relative"}var bA=c(by),bw=bA.offset(),e=c.css(by,"top"),bF=c.css(by,"left"),bG=(bC==="absolute"||bC==="fixed")&&c.inArray("auto",[e,bF])>-1,bE={},bD={},bx,bz;if(bG){bD=bA.position();bx=bD.top;bz=bD.left}else{bx=parseFloat(e)||0;bz=parseFloat(bF)||0}if(c.isFunction(bH)){bH=bH.call(by,bB,bw)}if(bH.top!=null){bE.top=(bH.top-bw.top)+bx}if(bH.left!=null){bE.left=(bH.left-bw.left)+bz}if("using" in bH){bH.using.call(by,bE)}else{bA.css(bE)}}};c.fn.extend({position:function(){if(!this[0]){return null}var bx=this[0],bw=this.offsetParent(),by=this.offset(),e=ae.test(bw[0].nodeName)?{top:0,left:0}:bw.offset();by.top-=parseFloat(c.css(bx,"marginTop"))||0;by.left-=parseFloat(c.css(bx,"marginLeft"))||0;e.top+=parseFloat(c.css(bw[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(bw[0],"borderLeftWidth"))||0;return{top:by.top-e.top,left:by.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||av.body;while(e&&(!ae.test(e.nodeName)&&c.css(e,"position")==="static")){e=e.offsetParent}return e})}});c.each(["Left","Top"],function(bw,e){var bx="scroll"+e;c.fn[bx]=function(bA){var by,bz;if(bA===O){by=this[0];if(!by){return null}bz=aK(by);return bz?("pageXOffset" in bz)?bz[bw?"pageYOffset":"pageXOffset"]:c.support.boxModel&&bz.document.documentElement[bx]||bz.document.body[bx]:by[bx]}return this.each(function(){bz=aK(this);if(bz){bz.scrollTo(!bw?bA:c(bz).scrollLeft(),bw?bA:c(bz).scrollTop())}else{this[bx]=bA}})}});function aK(e){return c.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}c.each(["Height","Width"],function(bw,e){var bx=e.toLowerCase();c.fn["inner"+e]=function(){var by=this[0];return by&&by.style?parseFloat(c.css(by,bx,"padding")):null};c.fn["outer"+e]=function(bz){var by=this[0];return by&&by.style?parseFloat(c.css(by,bx,bz?"margin":"border")):null};c.fn[bx]=function(bz){var bA=this[0];if(!bA){return bz==null?null:this}if(c.isFunction(bz)){return this.each(function(bE){var bD=c(this);bD[bx](bz.call(this,bE,bD[bx]()))})}if(c.isWindow(bA)){var bB=bA.document.documentElement["client"+e];return bA.document.compatMode==="CSS1Compat"&&bB||bA.document.body["client"+e]||bB}else{if(bA.nodeType===9){return Math.max(bA.documentElement["client"+e],bA.body["scroll"+e],bA.documentElement["scroll"+e],bA.body["offset"+e],bA.documentElement["offset"+e])}else{if(bz===O){var bC=c.css(bA,bx),by=parseFloat(bC);return c.isNaN(by)?bC:by}else{return this.css(bx,typeof bz==="string"?bz:bz+"px")}}}}});bd.jQuery=bd.$=c})(window);(function(){var y=this;var v=y._;var c={};var k=Array.prototype,F=Object.prototype,H=Function.prototype;var w=k.slice,A=k.unshift,z=F.toString,s=F.hasOwnProperty;var q=k.forEach,j=k.map,D=k.reduce,f=k.reduceRight,o=k.filter,a=k.every,C=k.some,x=k.indexOf,g=k.lastIndexOf,d=Array.isArray,E=Object.keys,l=H.bind;var G=function(I){return new h(I)};if(typeof module!=="undefined"&&module.exports){module.exports=G;G._=G}else{y._=G}G.VERSION="1.1.7";var e=G.each=G.forEach=function(N,M,L){if(N==null){return}if(q&&N.forEach===q){N.forEach(M,L)}else{if(N.length===+N.length){for(var K=0,I=N.length;K<I;K++){if(K in N&&M.call(L,N[K],K,N)===c){return}}}else{for(var J in N){if(s.call(N,J)){if(M.call(L,N[J],J,N)===c){return}}}}}};G.map=function(L,K,J){var I=[];if(L==null){return I}if(j&&L.map===j){return L.map(K,J)}e(L,function(O,M,N){I[I.length]=K.call(J,O,M,N)});return I};G.reduce=G.foldl=G.inject=function(M,L,I,K){var J=I!==void 0;if(M==null){M=[]}if(D&&M.reduce===D){if(K){L=G.bind(L,K)}return J?M.reduce(L,I):M.reduce(L)}e(M,function(P,N,O){if(!J){I=P;J=true}else{I=L.call(K,I,P,N,O)}});if(!J){throw new TypeError("Reduce of empty array with no initial value")}return I};G.reduceRight=G.foldr=function(L,K,I,J){if(L==null){L=[]}if(f&&L.reduceRight===f){if(J){K=G.bind(K,J)}return I!==void 0?L.reduceRight(K,I):L.reduceRight(K)}var M=(G.isArray(L)?L.slice():G.toArray(L)).reverse();return G.reduce(M,K,I,J)};G.find=G.detect=function(L,K,J){var I;t(L,function(O,M,N){if(K.call(J,O,M,N)){I=O;return true}});return I};G.filter=G.select=function(L,K,J){var I=[];if(L==null){return I}if(o&&L.filter===o){return L.filter(K,J)}e(L,function(O,M,N){if(K.call(J,O,M,N)){I[I.length]=O}});return I};G.reject=function(L,K,J){var I=[];if(L==null){return I}e(L,function(O,M,N){if(!K.call(J,O,M,N)){I[I.length]=O}});return I};G.every=G.all=function(L,K,J){var I=true;if(L==null){return I}if(a&&L.every===a){return L.every(K,J)}e(L,function(O,M,N){if(!(I=I&&K.call(J,O,M,N))){return c}});return I};var t=G.some=G.any=function(L,K,J){K=K||G.identity;var I=false;if(L==null){return I}if(C&&L.some===C){return L.some(K,J)}e(L,function(O,M,N){if(I|=K.call(J,O,M,N)){return c}});return !!I};G.include=G.contains=function(K,J){var I=false;if(K==null){return I}if(x&&K.indexOf===x){return K.indexOf(J)!=-1}t(K,function(L){if(I=L===J){return true}});return I};G.invoke=function(J,K){var I=w.call(arguments,2);return G.map(J,function(L){return(K.call?K||L:L[K]).apply(L,I)})};G.pluck=function(J,I){return G.map(J,function(K){return K[I]})};G.max=function(L,K,J){if(!K&&G.isArray(L)){return Math.max.apply(Math,L)}var I={computed:-Infinity};e(L,function(P,M,O){var N=K?K.call(J,P,M,O):P;N>=I.computed&&(I={value:P,computed:N})});return I.value};G.min=function(L,K,J){if(!K&&G.isArray(L)){return Math.min.apply(Math,L)}var I={computed:Infinity};e(L,function(P,M,O){var N=K?K.call(J,P,M,O):P;N<I.computed&&(I={value:P,computed:N})});return I.value};G.sortBy=function(K,J,I){return G.pluck(G.map(K,function(N,L,M){return{value:N,criteria:J.call(I,N,L,M)}}).sort(function(O,N){var M=O.criteria,L=N.criteria;return M<L?-1:M>L?1:0}),"value")};G.groupBy=function(K,J){var I={};e(K,function(N,L){var M=J(N,L);(I[M]||(I[M]=[])).push(N)});return I};G.sortedIndex=function(N,M,K){K||(K=G.identity);var I=0,L=N.length;while(I<L){var J=(I+L)>>1;K(N[J])<K(M)?I=J+1:L=J}return I};G.toArray=function(I){if(!I){return[]}if(I.toArray){return I.toArray()}if(G.isArray(I)){return w.call(I)}if(G.isArguments(I)){return w.call(I)}return G.values(I)};G.size=function(I){return G.toArray(I).length};G.first=G.head=function(K,J,I){return(J!=null)&&!I?w.call(K,0,J):K[0]};G.rest=G.tail=function(K,I,J){return w.call(K,(I==null)||J?1:I)};G.last=function(I){return I[I.length-1]};G.compact=function(I){return G.filter(I,function(J){return !!J})};G.flatten=function(I){return G.reduce(I,function(J,K){if(G.isArray(K)){return J.concat(G.flatten(K))}J[J.length]=K;return J},[])};G.without=function(I){return G.difference(I,w.call(arguments,1))};G.uniq=G.unique=function(J,I){return G.reduce(J,function(K,M,L){if(0==L||(I===true?G.last(K)!=M:!G.include(K,M))){K[K.length]=M}return K},[])};G.union=function(){return G.uniq(G.flatten(arguments))};G.intersection=G.intersect=function(J){var I=w.call(arguments,1);return G.filter(G.uniq(J),function(K){return G.every(I,function(L){return G.indexOf(L,K)>=0})})};G.difference=function(J,I){return G.filter(J,function(K){return !G.include(I,K)})};G.zip=function(){var I=w.call(arguments);var L=G.max(G.pluck(I,"length"));var K=new Array(L);for(var J=0;J<L;J++){K[J]=G.pluck(I,""+J)}return K};G.indexOf=function(M,K,L){if(M==null){return -1}var J,I;if(L){J=G.sortedIndex(M,K);return M[J]===K?J:-1}if(x&&M.indexOf===x){return M.indexOf(K)}for(J=0,I=M.length;J<I;J++){if(M[J]===K){return J}}return -1};G.lastIndexOf=function(K,J){if(K==null){return -1}if(g&&K.lastIndexOf===g){return K.lastIndexOf(J)}var I=K.length;while(I--){if(K[I]===J){return I}}return -1};G.range=function(N,L,M){if(arguments.length<=1){L=N||0;N=0}M=arguments[2]||1;var J=Math.max(Math.ceil((L-N)/M),0);var I=0;var K=new Array(J);while(I<J){K[I++]=N;N+=M}return K};G.bind=function(J,K){if(J.bind===l&&l){return l.apply(J,w.call(arguments,1))}var I=w.call(arguments,2);return function(){return J.apply(K,I.concat(w.call(arguments)))}};G.bindAll=function(J){var I=w.call(arguments,1);if(I.length==0){I=G.functions(J)}e(I,function(K){J[K]=G.bind(J[K],J)});return J};G.memoize=function(K,J){var I={};J||(J=G.identity);return function(){var L=J.apply(this,arguments);return s.call(I,L)?I[L]:(I[L]=K.apply(this,arguments))}};G.delay=function(J,K){var I=w.call(arguments,2);return setTimeout(function(){return J.apply(J,I)},K)};G.defer=function(I){return G.delay.apply(G,[I,1].concat(w.call(arguments,1)))};var B=function(J,L,I){var K;return function(){var N=this,M=arguments;var O=function(){K=null;J.apply(N,M)};if(I){clearTimeout(K)}if(I||!K){K=setTimeout(O,L)}}};G.throttle=function(I,J){return B(I,J,false)};G.debounce=function(I,J){return B(I,J,true)};G.once=function(K){var I=false,J;return function(){if(I){return J}I=true;return J=K.apply(this,arguments)}};G.wrap=function(I,J){return function(){var K=[I].concat(w.call(arguments));return J.apply(this,K)}};G.compose=function(){var I=w.call(arguments);return function(){var J=w.call(arguments);for(var K=I.length-1;K>=0;K--){J=[I[K].apply(this,J)]}return J[0]}};G.after=function(J,I){return function(){if(--J<1){return I.apply(this,arguments)}}};G.keys=E||function(K){if(K!==Object(K)){throw new TypeError("Invalid object")}var J=[];for(var I in K){if(s.call(K,I)){J[J.length]=I}}return J};G.values=function(I){return G.map(I,G.identity)};G.functions=G.methods=function(K){var J=[];for(var I in K){if(G.isFunction(K[I])){J.push(I)}}return J.sort()};G.extend=function(I){e(w.call(arguments,1),function(J){for(var K in J){if(J[K]!==void 0){I[K]=J[K]}}});return I};G.defaults=function(I){e(w.call(arguments,1),function(J){for(var K in J){if(I[K]==null){I[K]=J[K]}}});return I};G.clone=function(I){return G.isArray(I)?I.slice():G.extend({},I)};G.tap=function(J,I){I(J);return J};G.isEqual=function(J,I){if(J===I){return true}var M=typeof(J),O=typeof(I);if(M!=O){return false}if(J==I){return true}if((!J&&I)||(J&&!I)){return false}if(J._chain){J=J._wrapped}if(I._chain){I=I._wrapped}if(J.isEqual){return J.isEqual(I)}if(I.isEqual){return I.isEqual(J)}if(G.isDate(J)&&G.isDate(I)){return J.getTime()===I.getTime()}if(G.isNaN(J)&&G.isNaN(I)){return false}if(G.isRegExp(J)&&G.isRegExp(I)){return J.source===I.source&&J.global===I.global&&J.ignoreCase===I.ignoreCase&&J.multiline===I.multiline}if(M!=="object"){return false}if(J.length&&(J.length!==I.length)){return false}var K=G.keys(J),N=G.keys(I);if(K.length!=N.length){return false}for(var L in J){if(!(L in I)||!G.isEqual(J[L],I[L])){return false}}return true};G.isEmpty=function(J){if(G.isArray(J)||G.isString(J)){return J.length===0}for(var I in J){if(s.call(J,I)){return false}}return true};G.isElement=function(I){return !!(I&&I.nodeType==1)};G.isArray=d||function(I){return z.call(I)==="[object Array]"};G.isObject=function(I){return I===Object(I)};G.isArguments=function(I){return !!(I&&s.call(I,"callee"))};G.isFunction=function(I){return !!(I&&I.constructor&&I.call&&I.apply)};G.isString=function(I){return !!(I===""||(I&&I.charCodeAt&&I.substr))};G.isNumber=function(I){return !!(I===0||(I&&I.toExponential&&I.toFixed))};G.isNaN=function(I){return I!==I};G.isBoolean=function(I){return I===true||I===false};G.isDate=function(I){return !!(I&&I.getTimezoneOffset&&I.setUTCFullYear)};G.isRegExp=function(I){return !!(I&&I.test&&I.exec&&(I.ignoreCase||I.ignoreCase===false))};G.isNull=function(I){return I===null};G.isUndefined=function(I){return I===void 0};G.noConflict=function(){y._=v;return this};G.identity=function(I){return I};G.times=function(L,K,J){for(var I=0;I<L;I++){K.call(J,I)}};G.mixin=function(I){e(G.functions(I),function(J){u(J,G[J]=I[J])})};var m=0;G.uniqueId=function(I){var J=m++;return I?I+J:J};G.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};G.template=function(L,K){var M=G.templateSettings;var I="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+L.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(M.interpolate,function(N,O){return"',"+O.replace(/\\'/g,"'")+",'"}).replace(M.evaluate||null,function(N,O){return"');"+O.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var J=new Function("obj",I);return K?J(K):J};var h=function(I){this._wrapped=I};G.prototype=h.prototype;var r=function(J,I){return I?G(J).chain():J};var u=function(I,J){h.prototype[I]=function(){var K=w.call(arguments);A.call(K,this._wrapped);return r(J.apply(G,K),this._chain)}};G.mixin(G);e(["pop","push","reverse","shift","sort","splice","unshift"],function(I){var J=k[I];h.prototype[I]=function(){J.apply(this._wrapped,arguments);return r(this._wrapped,this._chain)}});e(["concat","join","slice"],function(I){var J=k[I];h.prototype[I]=function(){return r(J.apply(this._wrapped,arguments),this._chain)}});h.prototype.chain=function(){this._chain=true;return this};h.prototype.value=function(){return this._wrapped}})();(function(){var a=this;var e=String.prototype.trim;var d=function(h){return h*1||0};function f(j,h){for(var k=[];h>0;k[--h]=j){}return k.join("")}function c(h){if(h){return g.escapeRegExp(h)}return"\\s"}var g={isBlank:function(h){return !!h.match(/^\s*$/)},capitalize:function(h){return h.charAt(0).toUpperCase()+h.substring(1).toLowerCase()},chop:function(l,k){k=k||l.length;var h=[];for(var j=0;j<l.length;){h.push(l.slice(j,j+k));j=j+k}return h},clean:function(h){return g.strip(h.replace(/\s+/g," "))},count:function(m,l){var k=0,h;for(var j=0;j<m.length;){h=m.indexOf(l,j);h>=0&&k++;j=j+(h>=0?h:0)+l.length}return k},chars:function(h){return h.split("")},escapeHTML:function(h){return String(h||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},unescapeHTML:function(h){return String(h||"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'")},escapeRegExp:function(h){return String(h||"").replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},insert:function(l,j,k){var h=l.split("");h.splice(j,0,k);return h.join("")},includes:function(j,h){return j.indexOf(h)!==-1},join:function(h){h=String(h);var k="";for(var j=1;j<arguments.length;j+=1){k+=String(arguments[j]);if(j!==arguments.length-1){k+=h}}return k},lines:function(h){return h.split("\n")},splice:function(m,j,l,k){var h=m.split("");h.splice(j,l,k);return h.join("")},startsWith:function(j,h){return j.length>=h.length&&j.substring(0,h.length)===h},endsWith:function(j,h){return j.length>=h.length&&j.substring(j.length-h.length)===h},succ:function(j){var h=j.split("");h.splice(j.length-1,1,String.fromCharCode(j.charCodeAt(j.length-1)+1));return h.join("")},titleize:function(l){var h=l.split(" "),k;for(var j=0;j<h.length;j++){k=h[j].split("");if(typeof k[0]!=="undefined"){k[0]=k[0].toUpperCase()}j+1===h.length?h[j]=k.join(""):h[j]=k.join("")+" "}return h.join("")},camelize:function(h){return g.trim(h).replace(/(\-|_|\s)+(.)?/g,function(j,l,k){return k?k.toUpperCase():""})},underscored:function(h){return g.trim(h).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(h){return g.trim(h).replace(/([a-z\d])([A-Z]+)/g,"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},trim:function(j,h){if(!h&&e){return e.call(j)}h=c(h);return j.replace(new RegExp("^["+h+"]+|["+h+"]+$","g"),"")},ltrim:function(j,h){h=c(h);return j.replace(new RegExp("^["+h+"]+","g"),"")},rtrim:function(j,h){h=c(h);return j.replace(new RegExp("["+h+"]+$","g"),"")},truncate:function(k,j,h){h=h||"...";return k.slice(0,j)+h},words:function(j,h){h=h||" ";return j.split(h)},pad:function(o,k,h,j){var m="";var l=0;if(!h){h=" "}else{if(h.length>1){h=h[0]}}switch(j){case"right":l=(k-o.length);m=f(h,l);o=o+m;break;case"both":l=(k-o.length);m={left:f(h,Math.ceil(l/2)),right:f(h,Math.floor(l/2))};o=m.left+o+m.right;break;default:l=(k-o.length);m=f(h,l);o=m+o}return o},lpad:function(k,j,h){return g.pad(k,j,h)},rpad:function(k,j,h){return g.pad(k,j,h,"right")},lrpad:function(k,j,h){return g.pad(k,j,h,"both")},sprintf:function(){var l=0,t,q=arguments[l++],j=[],k,h,r,u,v="";while(q){if(k=/^[^\x25]+/.exec(q)){j.push(k[0])}else{if(k=/^\x25{2}/.exec(q)){j.push("%")}else{if(k=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(q)){if(((t=arguments[k[1]||l++])==null)||(t==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(k[7])&&(typeof(t)!="number")){throw ("Expecting number but found "+typeof(t))}switch(k[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=k[6]?t.toExponential(k[6]):t.toExponential();break;case"f":t=k[6]?parseFloat(t).toFixed(k[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=((t=String(t))&&k[6]?t.substring(0,k[6]):t);break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=(/[def]/.test(k[7])&&k[2]&&t>=0?"+"+t:t);r=k[3]?k[3]=="0"?"0":k[3].charAt(1):" ";u=k[5]-String(t).length-v.length;h=k[5]?f(r,u):"";j.push(v+(k[4]?t+h:h+t))}else{throw ("Huh ?!")}}}q=q.substring(k[0].length)}return j.join("")},toNumber:function(j,h){return d(d(j).toFixed(d(h)))},strRight:function(k,h){var j=(!h)?-1:k.indexOf(h);return(j!=-1)?k.slice(j+h.length,k.length):k},strRightBack:function(k,h){var j=(!h)?-1:k.lastIndexOf(h);return(j!=-1)?k.slice(j+h.length,k.length):k},strLeft:function(k,h){var j=(!h)?-1:k.indexOf(h);return(j!=-1)?k.slice(0,j):k},strLeftBack:function(k,h){var j=k.lastIndexOf(h);return(j!=-1)?k.slice(0,j):k}};g.strip=g.trim;g.lstrip=g.ltrim;g.rstrip=g.rtrim;g.center=g.lrpad;g.ljust=g.lpad;g.rjust=g.rpad;if(typeof window==="undefined"&&typeof module!=="undefined"){module.exports=g}else{if(typeof a._!=="undefined"){a._.mixin(g)}else{a._=g}}}());BiwaScheme.Class={create:function(c){var a=function(){this.initialize.apply(this,arguments)};_.extend(a.prototype,c);return a},extend:function(d,c){var a=function(){this.initialize.apply(this,arguments)};a.prototype=d;_.extend(a.prototype,c);return a}};if(typeof(Console)==="undefined"){}function puts(c,a){Console.puts(c,a)}function p(){Console.p.apply(this,arguments)}BiwaScheme.TopEnv={};BiwaScheme.CoreEnv={};BiwaScheme.Error=BiwaScheme.Class.create({initialize:function(a){this.message="Error: "+a},toString:function(){return this.message}});BiwaScheme.Bug=BiwaScheme.Class.extend(new BiwaScheme.Error(),{initialize:function(a){this.message="[BUG] "+a}});BiwaScheme.UserError=BiwaScheme.Class.extend(new BiwaScheme.Error(),{initialize:function(a){this.message=a}});BiwaScheme.inspect=function(a){try{if(_.isUndefined(a)){return"undefined"}if(a===null){return"null"}if(a.inspect){return a.inspect()}if(_.isString(a)){return"'"+a.replace(/'/g,"\\'")+"'"}if(_.isArray(a)){return"["+_.map(a,BiwaScheme.inspect).join(", ")+"]"}return a.toString()}catch(c){if(c instanceof RangeError){return"..."}throw c}};BiwaScheme.Set=BiwaScheme.Class.create({initialize:function(){this.arr=[];var a;for(a=0;a<arguments.length;a++){this.arr[a]=arguments[a]}},equals:function(c){if(this.arr.length!=c.arr.length){return false}var d=_.clone(this.arr);var a=_.clone(c.arr);d.sort();a.sort();for(var e=0;e<this.arr.length;e++){if(d[e]!=a[e]){return false}}return true},set_cons:function(a){var c=new BiwaScheme.Set(a);c.arr=_.clone(this.arr);c.arr.push(a);return c},set_union:function(){var e=new BiwaScheme.Set();e.arr=_.clone(this.arr);for(var a=0;a<arguments.length;a++){var c=arguments[a];if(!c instanceof BiwaScheme.Set){throw new BiwaScheme.Error("set_union: arguments must be a set")}for(var d=0;d<c.arr.length;d++){e.add(c.arr[d])}}return e},set_intersect:function(a){if(!a instanceof BiwaScheme.Set){throw new BiwaScheme.Error("set_intersect: arguments must be a set")}var d=new BiwaScheme.Set();for(var c=0;c<this.arr.length;c++){if(a.member(this.arr[c])){d.add(this.arr[c])}}return d},set_minus:function(a){if(!a instanceof BiwaScheme.Set){throw new BiwaScheme.Error("set_minus: arguments must be a set")}var d=new BiwaScheme.Set();for(var c=0;c<this.arr.length;c++){if(!a.member(this.arr[c])){d.add(this.arr[c])}}return d},add:function(a){if(!this.member(a)){this.arr.push(a)}},member:function(c){for(var a=0;a<this.arr.length;a++){if(this.arr[a]==c){return true}}return false},rindex:function(c){for(var a=this.arr.length-1;a>=0;a--){if(this.arr[a]==c){return(this.arr.length-1-a)}}return null},index:function(c){for(var a=0;a<this.arr.length;a++){if(this.arr[a]==c){return a}}return null},inspect:function(){return"Set("+this.arr.join(", ")+")"},toString:function(){return this.inspect()},size:function(){return this.arr.length}});BiwaScheme.to_write=function(a){if(a===undefined){return"undefined"}else{if(a===null){return"null"}else{if(_.isFunction(a)){return"#<Function "+(a.fname?a.fname:a.toSource?_.truncate(a.toSource(),40):"")+">"}else{if(_.isString(a)){return'"'+a.replace(/\\|\"/g,function(c){return"\\"+c}).replace(/\x07/g,"\\a").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\v").replace(/\f/g,"\\f").replace(/\r/g,"\\r")+'"'}else{if(_.isArray(a)&&a.closure_p){return"#<Closure>"}else{if(_.isArray(a)){return"#("+_.map(a,function(c){return BiwaScheme.to_write(c)}).join(" ")+")"}else{if(typeof(a.to_write)=="function"){return a.to_write()}else{if(isNaN(a)&&typeof(a)=="number"){return"+nan.0"}else{switch(a){case true:return"#t";case false:return"#f";case Infinity:return"+inf.0";case -Infinity:return"-inf.0"}}}}}}}}}return BiwaScheme.inspect(a)};BiwaScheme.to_display=function(a){if(typeof(a.valueOf())=="string"){return a}else{if(a instanceof BiwaScheme.Symbol){return a.name}else{if(a instanceof Array){return"#("+_.map(a,BiwaScheme.to_display).join(" ")+")"}else{if(a instanceof BiwaScheme.Pair){return a.inspect(BiwaScheme.to_display)}else{if(a instanceof BiwaScheme.Char){return a.value}else{return BiwaScheme.to_write(a)}}}}}};BiwaScheme.write_ss=function(f,a){var e=[f],d=[false];BiwaScheme.find_cyclic(f,e,d);var h=BiwaScheme.reduce_cyclic_info(e,d);var g=new Array(h.length);for(var c=h.length-1;c>=0;c--){g[c]=false}return BiwaScheme.to_write_ss(f,h,g,a)};BiwaScheme.to_write_ss=function(g,k,j,c){var e="";var f=k.indexOf(g);if(f>=0){if(j[f]){return"#"+f+"#"}else{j[f]=true;e="#"+f+"="}}if(g instanceof BiwaScheme.Pair){var d=[];d.push(BiwaScheme.to_write_ss(g.car,k,j,c));for(var h=g.cdr;h!=BiwaScheme.nil;h=h.cdr){if(!(h instanceof BiwaScheme.Pair)||k.indexOf(h)>=0){d.push(".");d.push(BiwaScheme.to_write_ss(h,k,j,c));break}d.push(BiwaScheme.to_write_ss(h.car,k,j,c))}e+="("+d.join(" ")+")"}else{if(g instanceof Array){var d=_.map(g,function(a){return BiwaScheme.to_write_ss(a,k,j,c)});if(c){e+="["+d.join(", ")+"]"}else{e+="#("+d.join(" ")+")"}}else{e+=BiwaScheme.to_write(g)}}return e};BiwaScheme.reduce_cyclic_info=function(e,d){var c=0;for(var a=0;a<d.length;a++){if(d[a]){e[c]=e[a];c++}}return e.slice(0,c)};BiwaScheme.find_cyclic=function(e,d,c){var a=(e instanceof BiwaScheme.Pair)?[e.car,e.cdr]:(e instanceof Array)?e:null;if(!a){return}_.each(a,function(g){if(typeof(g)=="number"||typeof(g)=="string"||g===BiwaScheme.undef||g===true||g===false||g===BiwaScheme.nil||g instanceof BiwaScheme.Symbol){return}var f=d.indexOf(g);if(f>=0){c[f]=true}else{d.push(g);c.push(false);BiwaScheme.find_cyclic(g,d,c)}})};BiwaScheme.Pair=BiwaScheme.Class.create({initialize:function(a,c){this.car=a;this.cdr=c},caar:function(){return this.car.car},cadr:function(){return this.cdr.car},cdar:function(){return this.cdr.car},cddr:function(){return this.cdr.cdr},first:function(){return this.car},second:function(){return this.cdr.car},third:function(){return this.cdr.cdr.car},fourth:function(){return this.cdr.cdr.cdr.car},fifth:function(){return this.cdr.cdr.cdr.cdr.car},to_array:function(){var a=[];for(var c=this;c instanceof BiwaScheme.Pair;c=c.cdr){a.push(c.car)}return a},to_set:function(){var c=new BiwaScheme.Set();for(var a=this;a instanceof BiwaScheme.Pair;a=a.cdr){c.add(a.car)}return c},length:function(){var c=0;for(var a=this;a instanceof BiwaScheme.Pair;a=a.cdr){c++}return c},foreach:function(a){for(var c=this;c instanceof BiwaScheme.Pair;c=c.cdr){a(c.car)}return c},map:function(c){var a=[];for(var d=this;BiwaScheme.isPair(d);d=d.cdr){a.push(c(d.car))}return a},concat:function(a){var c=this;while(c instanceof BiwaScheme.Pair&&c.cdr!=BiwaScheme.nil){c=c.cdr}c.cdr=a;return this},inspect:function(e){e||(e=BiwaScheme.inspect);var c=[];var d=this.foreach(function(a){c.push(e(a))});if(d!=BiwaScheme.nil){c.push(".");c.push(e(d))}return"("+c.join(" ")+")"},toString:function(){return this.inspect()},to_write:function(){return this.inspect(BiwaScheme.to_write)}});var array_to_list=function(d,a){var e=BiwaScheme.nil;for(var c=d.length-1;c>=0;c--){var f=d[c];if(a&&_.isArray(f)&&!f.is_vector){f=BiwaScheme.array_to_list(f)}e=new BiwaScheme.Pair(f,e)}return e};BiwaScheme.List=function(){var a=_.toArray(arguments);return array_to_list(a,true)};BiwaScheme.array_to_list=function(a){return BiwaScheme.List.apply(null,a)};BiwaScheme.shallow_array_to_list=function(a){return array_to_list(a,false)};BiwaScheme.Values=BiwaScheme.Class.create({initialize:function(a){this.content=a},to_write:function(){return"#<Values "+_.map(this.content,BiwaScheme.to_write).join(" ")+">"}});BiwaScheme.nil={toString:function(){return"nil"},to_write:function(){return"()"},to_array:function(){return[]},length:function(){return 0}};BiwaScheme.undef=new Object();BiwaScheme.undef.toString=function(){return"#<undef>"};BiwaScheme.eof=new Object;BiwaScheme.Symbol=BiwaScheme.Class.create({initialize:function(a){this.name=a;BiwaScheme.Symbols[a]=this},inspect:function(){return"'"+this.name},toString:function(){return"'"+this.name},to_write:function(){return this.name}});BiwaScheme.Symbols={};BiwaScheme.Sym=function(a,c){if(BiwaScheme.Symbols[a]===undefined){return new BiwaScheme.Symbol(a)}else{if(!(BiwaScheme.Symbols[a] instanceof BiwaScheme.Symbol)){return new BiwaScheme.Symbol(a)}else{return BiwaScheme.Symbols[a]}}};BiwaScheme.gensyms=0;BiwaScheme.gensym=function(){BiwaScheme.gensyms++;return BiwaScheme.Sym("__gensym_"+BiwaScheme.gensyms)};BiwaScheme.Char=BiwaScheme.Class.create({initialize:function(a){BiwaScheme.Chars[this.value=a]=this},to_write:function(){switch(this.value){case"\n":return"#\\newline";case" ":return"#\\space";case"\t":return"#\\tab";default:return"#\\"+this.value}},inspect:function(){return this.to_write()}});BiwaScheme.Chars={};BiwaScheme.Char.get=function(a){if(typeof(a)!="string"){throw new BiwaScheme.Bug("Char.get: "+BiwaScheme.inspect(a)+" is not a string")}if(BiwaScheme.Chars[a]===undefined){return new BiwaScheme.Char(a)}else{return BiwaScheme.Chars[a]}};BiwaScheme.Complex=BiwaScheme.Class.create({initialize:function(c,a){this.real=c;this.imag=a},magnitude:function(){return Math.sqrt(this.real*this.real+this.imag*this.imag)},angle:function(){return Math.acos(this.real/this.magnitude())}});BiwaScheme.Complex.from_polar=function(c,a){var e=c*Math.cos(a);var d=c*Math.sin(a);return new BiwaScheme.Complex(e,d)};BiwaScheme.Complex.assure=function(a){if(a instanceof BiwaScheme.Complex){return a}else{return new BiwaScheme.Complex(a,0)}};BiwaScheme.Rational=BiwaScheme.Class.create({initialize:function(a,c){this.numerator=a;this.denominator=c}});BiwaScheme.Port=BiwaScheme.Class.create({initialize:function(a,c){this.is_open=true;this.is_binary=false;this.is_input=a;this.is_output=c},close:function(){this.is_open=false},inspect:function(){return"#<Port>"},to_write:function(){return"#<Port>"}});BiwaScheme.Port.BrowserInput=BiwaScheme.Class.extend(new BiwaScheme.Port(true,false),{initialize:function(){},get_string:function(c){var a=$("<form/>");a.html("<input id='webscheme-read-line' type='text'><input type='submit' value='ok'>");$("#bs-console").append(a);return new BiwaScheme.Pause(function(d){a.submit(function(){var e=$("#webscheme-read-line").val();a.remove();puts(e);d.resume(c(e));return false})})}});BiwaScheme.Port.DefaultOutput=BiwaScheme.Class.extend(new BiwaScheme.Port(false,true),{initialize:function(){},put_string:function(a){puts(a,true)}});BiwaScheme.Port.StringOutput=BiwaScheme.Class.extend(new BiwaScheme.Port(false,true),{initialize:function(){this.buffer=[]},put_string:function(a){this.buffer.push(a)},output_string:function(a){return this.buffer.join("")}});BiwaScheme.Port.StringInput=BiwaScheme.Class.extend(new BiwaScheme.Port(true,false),{initialize:function(a){this.str=a},get_string:function(a){return a(this.str)}});BiwaScheme.Port.current_input=new BiwaScheme.Port.BrowserInput();BiwaScheme.Port.current_output=new BiwaScheme.Port.DefaultOutput();BiwaScheme.Port.current_error=new BiwaScheme.Port.DefaultOutput();BiwaScheme.Record=BiwaScheme.Class.create({initialize:function(c,a){assert_record_td(c,"new Record");this.rtd=c;this.fields=a},get:function(a){return this.fields[a]},set:function(c,a){this.fields[c]=a},toString:function(){var a=BiwaScheme.to_write(this.fields);return"#<Record "+this.rtd.name+" "+a+">"}});BiwaScheme.isRecord=function(a){return(a instanceof BiwaScheme.Record)};BiwaScheme.Record._DefinedTypes={};BiwaScheme.Record.define_type=function(a,c,d){return BiwaScheme.Record._DefinedTypes[a]={rtd:c,cd:d}};BiwaScheme.Record.get_type=function(a){return BiwaScheme.Record._DefinedTypes[a]};BiwaScheme.Record.RTD=BiwaScheme.Class.create({initialize:function(e,d,f,c,g,a){this.name=e;this.parent_rtd=d;this.is_base_type=!d;if(f){this.uid=f;this.generative=false}else{this.uid=this._generate_new_uid();this.generative=true}this.sealed=!!c;this.opaque=d.opaque||(!!g);this.fields=_.map(a,function(h){return{name:h[0],mutable:!!h[1]}})},_generate_new_uid:function(){var a=(BiwaScheme.Record.RTD.last_uid++);return BiwaScheme.Sym("__record_td_uid_"+a)},toString:function(){return"#<RecordTD "+name+">"}});BiwaScheme.Record.RTD.last_uid=0;BiwaScheme.Record.RTD.NongenerativeRecords={};BiwaScheme.isRecordTD=function(a){return(a instanceof BiwaScheme.Record.RTD)};BiwaScheme.Record.CD=BiwaScheme.Class.create({initialize:function(a,c,d){this._check(a,c,d);this.rtd=a;this.parent_cd=c;if(d){this.has_custom_protocol=true;this.protocol=d}else{this.has_custom_protocol=false;if(a.parent_rtd){this.protocol=this._default_protocol_for_derived_types()}else{this.protocol=this._default_protocol_for_base_types()}}},_check:function(a,c,d){if(a.is_base_type&&c){throw new Error("Record.CD.new: cannot specify parent cd of a base type")}if(c&&a.parent_rtd&&(c.rtd!=a.parent_rtd)){throw new Error("Record.CD.new: mismatched parents between rtd and parent_cd")}if(a.parent_rtd&&!c&&d){throw new Error("Record.CD.new: protocol must be #f when parent_cd is not given")}if(c&&c.has_custom_protocol&&!d){throw new Error("Record.CD.new: protocol must be specified when parent_cd has a custom protocol")}},_default_protocol_for_base_types:function(){return function(a){var c=a[0];assert_procedure(c,"_default_protocol/base");return c}},_default_protocol_for_derived_types:function(){var a=this.rtd;return function(c){var e=c[0];assert_procedure(e,"_default_protocol/n");var d=function(g){var j=a.fields.length;var k=g.length-j;var f=g.slice(0,k);var h=g.slice(k);return new BiwaScheme.Call(e,f,function(l){var m=l[0];assert_procedure(m,"_default_protocol/p");return new BiwaScheme.Call(m,h,function(q){var o=q[0];assert_record(o,"_default_protocol/result");return o})})};return d}},toString:function(){return"#<RecordCD "+this.rtd.name+">"},record_constructor:function(){var a=(this.parent_cd?this._make_n([],this.rtd):this._make_p());a=_.bind(a,this);return new BiwaScheme.Call(this.protocol,[a],function(c){var d=c[0];assert_procedure(d,"record_constructor");return d})},_make_p:function(){return function(a){return new BiwaScheme.Record(this.rtd,a)}},_make_n:function(a,c){var d=this.parent_cd;if(d){var e=function(g){var f=function(k){var j=[].concat(k[0]).concat(a);var h=d._make_n(j,c);return new BiwaScheme.Call(d.protocol,[h],function(l){var m=l[0];assert_procedure(m,"_make_n");return new BiwaScheme.Call(m,g,function(q){var o=q[0];assert_record(o);return o})})};return f};return e}else{var e=function(g){var f=g.concat(a);return new BiwaScheme.Record(c,f)};return e}}});BiwaScheme.isRecordCD=function(a){return(a instanceof BiwaScheme.Record.CD)};BiwaScheme.Hashtable=BiwaScheme.Class.create({initialize:function(c,d,a){this.mutable=(a===undefined)?true:a?true:false;this.hash_proc=c;this.equiv_proc=d;this.pairs_of={}},clear:function(){this.pairs_of={}},candidate_pairs:function(a){return this.pairs_of[a]},add_pair:function(e,a,d){var c=this.pairs_of[e];if(c){c.push([a,d])}else{this.pairs_of[e]=[[a,d]]}},remove_pair:function(d,e){var c=this.pairs_of[d];var a=c.indexOf(e);if(a==-1){throw new BiwaScheme.Bug("Hashtable#remove_pair: pair not found!")}else{c.splice(a,1)}},create_copy:function(a){var c=new BiwaScheme.Hashtable(this.hash_proc,this.equiv_proc,a);_.each(_.keys(this.pairs_of),_.bind(function(f){var e=this.pairs_of[f];var d=_.map(e,function(g){return _.clone(g)});c.pairs_of[f]=d},this));return c},size:function(){var a=0;this._apply_pair(function(c){a++});return a},keys:function(){return this._apply_pair(function(a){return a[0]})},values:function(){return this._apply_pair(function(a){return a[1]})},_apply_pair:function(d){var c=[];_.each(_.values(this.pairs_of),function(a){_.each(a,function(e){c.push(d(e))})});return c},to_write:function(){return"#<Hashtable size="+this.size()+">"}});BiwaScheme.Hashtable.equal_hash=function(a){return BiwaScheme.to_write(a[0])};BiwaScheme.Hashtable.eq_hash=BiwaScheme.Hashtable.equal_hash;BiwaScheme.Hashtable.eqv_hash=BiwaScheme.Hashtable.equal_hash;BiwaScheme.Hashtable.string_hash=function(a){return a[0]};BiwaScheme.Hashtable.string_ci_hash=function(a){return _.isString(a[0])?a[0].toLowerCase():a[0]};BiwaScheme.Hashtable.symbol_hash=function(a){return(a[0] instanceof BiwaScheme.Symbol)?a[0].name:a[0]};BiwaScheme.Hashtable.eq_equiv=function(a){return BiwaScheme.eq(a[0],a[1])};BiwaScheme.Hashtable.eqv_equiv=function(a){return BiwaScheme.eqv(a[0],a[1])};BiwaScheme.Syntax=BiwaScheme.Class.create({initialize:function(a,c){this.sname=a;this.func=c},transform:function(a){if(!this.func){throw new BiwaScheme.Bug("sorry, syntax "+this.sname+" is a pseudo syntax now")}return this.func(a)},inspect:function(){return"#<Syntax "+this.sname+">"}});BiwaScheme.TopEnv.define=new BiwaScheme.Syntax("define");BiwaScheme.TopEnv.begin=new BiwaScheme.Syntax("begin");BiwaScheme.TopEnv.quote=new BiwaScheme.Syntax("quote");BiwaScheme.TopEnv.lambda=new BiwaScheme.Syntax("lambda");BiwaScheme.TopEnv["if"]=new BiwaScheme.Syntax("if");BiwaScheme.TopEnv["set!"]=new BiwaScheme.Syntax("set!");BiwaScheme.isNil=function(a){return(a===BiwaScheme.nil)};BiwaScheme.isUndef=function(a){return(a===BiwaScheme.undef)};BiwaScheme.isChar=function(a){return(a instanceof BiwaScheme.Char)};BiwaScheme.isSymbol=function(a){return(a instanceof BiwaScheme.Symbol)};BiwaScheme.isPort=function(a){return(a instanceof BiwaScheme.Port)};BiwaScheme.isPair=function(a){return(a instanceof BiwaScheme.Pair)};BiwaScheme.isList=function(a){if(a===BiwaScheme.nil){return true}if(!(a instanceof BiwaScheme.Pair)){return false}return BiwaScheme.isList(a.cdr)};BiwaScheme.isVector=function(a){return(a instanceof Array)&&(a.closure_p!==true)};BiwaScheme.isHashtable=function(a){return(a instanceof BiwaScheme.Hashtable)};BiwaScheme.isMutableHashtable=function(a){return(a instanceof BiwaScheme.Hashtable)&&a.mutable};BiwaScheme.isClosure=function(a){return(a instanceof Array)&&(a.closure_p===true)};BiwaScheme.isProcedure=function(a){return BiwaScheme.isClosure(a)||_.isFunction(a)};BiwaScheme.Parser=BiwaScheme.Class.create({initialize:function(a){this.tokens=this.tokenize(a);this.i=0},inspect:function(){return["#<Parser:",this.i,"/",this.tokens.length," ",BiwaScheme.inspect(this.tokens),">"].join("")},tokenize:function(a){var e=new Array(),c=null;var d=0;while(a!=""&&c!=a){c=a;a=a.replace(/^\s*(;[^\r\n]*(\r|\n|$)|#;|#\||#\\[^\w]|#?(\(|\[|{)|\)|\]|}|\'|`|,@|,|\+inf\.0|-inf\.0|\+nan\.0|\"(\\(.|$)|[^\"\\])*(\"|$)|[^\s()\[\]{}]+)/,function(g,f){var h=f;if(h=="#|"){d++;return""}else{if(d>0){if(/(.*\|#)/.test(h)){d--;if(d<0){throw new BiwaScheme.Error("Found an extra comment terminator: `|#'")}return h.substring(RegExp.$1.length,h.length)}else{return""}}else{if(h.charAt(0)!=";"){e[e.length]=h}return""}}})}return e},sexpCommentMarker:new Object,getObject:function(){var a=this.getObject0();if(a!=this.sexpCommentMarker){return a}a=this.getObject();if(a==BiwaScheme.Parser.EOS){throw new BiwaScheme.Error("Readable object not found after S exression comment")}a=this.getObject();return a},getList:function(f){var c=BiwaScheme.nil,a=c;while(this.i<this.tokens.length){this.eatObjectsInSexpComment("Input stream terminated unexpectedly(in list)");if(this.tokens[this.i]==")"||this.tokens[this.i]=="]"||this.tokens[this.i]=="}"){this.i++;break}if(this.tokens[this.i]=="."){this.i++;var e=this.getObject();if(e!=BiwaScheme.Parser.EOS&&c!=BiwaScheme.nil){a.cdr=e}}else{var d=new BiwaScheme.Pair(this.getObject(),BiwaScheme.nil);if(c==BiwaScheme.nil){c=d}else{a.cdr=d}a=d}}return c},getVector:function(c){var a=new Array();while(this.i<this.tokens.length){this.eatObjectsInSexpComment("Input stream terminated unexpectedly(in vector)");if(this.tokens[this.i]==")"||this.tokens[this.i]=="]"||this.tokens[this.i]=="}"){this.i++;break}a[a.length]=this.getObject()}return a},eatObjectsInSexpComment:function(a){while(this.tokens[this.i]=="#;"){this.i++;if((this.getObject()==BiwaScheme.Parser.EOS)||(this.i>=this.tokens.length)){throw new BiwaScheme.Error(a)}}},getObject0:function(){if(this.i>=this.tokens.length){return BiwaScheme.Parser.EOS}var a=this.tokens[this.i++];if(a=="#;"){return this.sexpCommentMarker}var c=a=="'"?"quote":a=="`"?"quasiquote":a==","?"unquote":a==",@"?"unquote-splicing":false;if(c||a=="("||a=="#("||a=="["||a=="#["||a=="{"||a=="#{"){return c?new BiwaScheme.Pair(BiwaScheme.Sym(c),new BiwaScheme.Pair(this.getObject(),BiwaScheme.nil)):(a=="("||a=="["||a=="{")?this.getList(a):this.getVector(a)}else{switch(a){case"+inf.0":return Infinity;case"-inf.0":return -Infinity;case"+nan.0":return NaN}var d;if(/^#x[0-9a-z]+$/i.test(a)){d=new Number("0x"+a.substring(2,a.length))}else{if(/^#d[0-9\.]+$/i.test(a)){d=new Number(a.substring(2,a.length))}else{d=new Number(a)}}if(!isNaN(d)){return d.valueOf()}else{if(a=="#f"||a=="#F"){return false}else{if(a=="#t"||a=="#T"){return true}else{if(a.toLowerCase()=="#\\newline"){return BiwaScheme.Char.get("\n")}else{if(a.toLowerCase()=="#\\space"){return BiwaScheme.Char.get(" ")}else{if(a.toLowerCase()=="#\\tab"){return BiwaScheme.Char.get("\t")}else{if(/^#\\.$/.test(a)){return BiwaScheme.Char.get(a.charAt(2))}else{if(/^\"(\\(.|$)|[^\"\\])*\"?$/.test(a)){return a.replace(/(\r?\n|\\n)/g,"\n").replace(/^\"|\\(.|$)|\"$/g,function(f,e){return e?e:""})}else{return BiwaScheme.Sym(a)}}}}}}}}}}});BiwaScheme.Parser.EOS=new Object();BiwaScheme.Compiler=BiwaScheme.Class.create({initialize:function(){},is_tail:function(a){return(a[0]=="return")},collect_free:function(h,g,d){var f=h;var j=d;var a=f.arr;for(var c=0;c<a.length;c++){j=this.compile_refer(a[c],g,["argument",j])}return j},compile_refer:function(a,d,c){return this.compile_lookup(a,d,function(e){return["refer-local",e,c]},function(e){return["refer-free",e,c]},function(e){return["refer-global",e,c]})},compile_lookup:function(a,g,j,k,d){var f=g[0],h=g[1];if((n=f.index(a))!=null){return j(n)}else{if((n=h.index(a))!=null){return k(n)}else{var c=a.name;return d(c)}}},make_boxes:function(f,g,e){var g=g;var j=0;var c=[];while(g instanceof BiwaScheme.Pair){if(f.member(g.car)){c.push(j)}j++;g=g.cdr}var h=e;for(var d=c.length-1;d>=0;d--){h=["box",c[d],h]}return h},find_sets:function(l,o){var j=null;if(l instanceof BiwaScheme.Symbol){j=new BiwaScheme.Set()}else{if(l instanceof BiwaScheme.Pair){switch(l.first()){case BiwaScheme.Sym("define"):var f=l.third();j=this.find_sets(f,o);case BiwaScheme.Sym("begin"):j=this.find_sets(l.cdr,o);break;case BiwaScheme.Sym("quote"):j=new BiwaScheme.Set();break;case BiwaScheme.Sym("lambda"):var k=l.second(),g=l.cdr.cdr;if(k instanceof BiwaScheme.Pair){j=this.find_sets(g,o.set_minus(k.to_set()))}else{j=this.find_sets(g,o.set_minus(new BiwaScheme.Set(k)))}break;case BiwaScheme.Sym("if"):var q=l.second(),e=l.third(),h=l.fourth();j=this.find_sets(q,o).set_union(this.find_sets(e,o),this.find_sets(h,o));break;case BiwaScheme.Sym("set!"):var c=l.second(),a=l.third();if(o.member(c)){j=this.find_sets(a,o).set_cons(c)}else{j=this.find_sets(a,o)}break;case BiwaScheme.Sym("call/cc"):var f=l.second();j=this.find_sets(f,o);break;default:var m=new BiwaScheme.Set();for(var d=l;d instanceof BiwaScheme.Pair;d=d.cdr){m=m.set_union(this.find_sets(d.car,o))}j=m;break}}else{j=new BiwaScheme.Set()}}if(j==null){throw new BiwaScheme.Bug("find_sets() exited in unusual way")}else{return j}},find_free:function(o,m,h){var k=null;if(o instanceof BiwaScheme.Symbol){if(h.member(o)){k=new BiwaScheme.Set(o)}else{k=new BiwaScheme.Set()}}else{if(o instanceof BiwaScheme.Pair){switch(o.first()){case BiwaScheme.Sym("define"):var e=o.third();k=this.find_free(e,m,h);break;case BiwaScheme.Sym("begin"):k=this.find_free(o.cdr,m,h);break;case BiwaScheme.Sym("quote"):k=new BiwaScheme.Set();break;case BiwaScheme.Sym("lambda"):var l=o.second(),g=o.cdr.cdr;if(l instanceof BiwaScheme.Pair){k=this.find_free(g,m.set_union(l.to_set()),h)}else{k=this.find_free(g,m.set_cons(l),h)}break;case BiwaScheme.Sym("if"):var r=o.second(),d=o.third(),j=o.fourth();k=this.find_free(r,m,h).set_union(this.find_free(d,m,h),this.find_free(j,m,h));break;case BiwaScheme.Sym("set!"):var a=o.second(),e=o.third();if(h.member(a)){k=this.find_free(e,m,h).set_cons(a)}else{k=this.find_free(e,m,h)}break;case BiwaScheme.Sym("call/cc"):var e=o.second();k=this.find_free(e,m,h);break;default:var q=new BiwaScheme.Set();for(var c=o;c instanceof BiwaScheme.Pair;c=c.cdr){q=q.set_union(this.find_free(c.car,m,h))}k=q;break}}else{k=new BiwaScheme.Set()}}if(k==null){throw new BiwaScheme.Bug("find_free() exited in unusual way")}else{return k}},find_dot_pos:function(c){var a=0;for(;c instanceof BiwaScheme.Pair;c=c.cdr,++a){}if(c!=BiwaScheme.nil){return a}else{return -1}},last_pair:function(a){if(a instanceof BiwaScheme.Pair){for(;a.cdr instanceof BiwaScheme.Pair;a=a.cdr){}}return a},dotted2proper:function(a){var e=function(g){var h=BiwaScheme.nil;for(;g instanceof BiwaScheme.Pair;){var j=g.cdr;g.cdr=h;h=g;g=j}return h};var d=function(g){var h=BiwaScheme.nil;for(;g instanceof BiwaScheme.Pair;g=g.cdr){h=new BiwaScheme.Pair(g.car,h)}return e(h)};if(a instanceof BiwaScheme.Pair){var f=this.last_pair(a);if(f instanceof BiwaScheme.Pair&&f.cdr===BiwaScheme.nil){return a}else{var c=d(a);this.last_pair(c).cdr=new BiwaScheme.Pair(f.cdr,BiwaScheme.nil);return c}}else{return new BiwaScheme.Pair(a,BiwaScheme.nil)}},compile:function(t,K,C,J,G){var O=null;while(1){if(t instanceof BiwaScheme.Symbol){return this.compile_refer(t,K,(C.member(t)?["indirect",G]:G))}else{if(t instanceof BiwaScheme.Pair){switch(t.first()){case BiwaScheme.Sym("define"):if(t.length()==1){throw new BiwaScheme.Error("Invalid `define': "+t.to_write())}var j=t.cdr.car;var q=t.cdr.cdr;if(j instanceof BiwaScheme.Symbol){if(q===BiwaScheme.nil){t=BiwaScheme.undef}else{if(q.cdr!==BiwaScheme.nil){throw new BiwaScheme.Error("Invalid `define': "+t.to_write())}t=q.car}BiwaScheme.TopEnv[j.name]=BiwaScheme.undef;G=["assign-global",j.name,G]}else{if(j instanceof BiwaScheme.Pair){var N=j.car,h=j.cdr;var z=new BiwaScheme.Pair(BiwaScheme.Sym("lambda"),new BiwaScheme.Pair(h,q));t=z;BiwaScheme.TopEnv[N.name]=BiwaScheme.undef;G=["assign-global",N.name,G]}else{throw new BiwaScheme.Error("compile: define needs a leftbol or pair: got "+j)}}break;case BiwaScheme.Sym("begin"):var M=[];for(var F=t.cdr;F instanceof BiwaScheme.Pair;F=F.cdr){M.push(F.car)}var L=G;for(var I=M.length-1;I>=0;I--){L=this.compile(M[I],K,C,J,L)}return L;case BiwaScheme.Sym("quote"):if(t.length()<2){throw new BiwaScheme.Error("Invalid quote: "+t.to_write())}var A=t.second();return["constant",A,G];case BiwaScheme.Sym("lambda"):if(t.length()<3){throw new BiwaScheme.Error("Invalid lambda: "+t.to_write())}var D=t.cdr.car;var u=new BiwaScheme.Pair(BiwaScheme.Sym("begin"),t.cdr.cdr);var m=this.find_dot_pos(D);var B=this.dotted2proper(D);var y=this.find_free(u,B.to_set(),J);var d=this.find_sets(u,B.to_set());var H=this.compile(u,[B.to_set(),y],d.set_union(C.set_intersect(y)),J.set_union(B.to_set()),["return"]);var r=["close",y.size(),this.make_boxes(d,B,H),G,m];return this.collect_free(y,K,r);case BiwaScheme.Sym("if"):if(t.length()<3||t.length()>4){throw new BiwaScheme.Error("Invalid if: "+t.to_write())}var E=t.second(),l=t.third(),o=t.fourth();var l=this.compile(l,K,C,J,G);var o=this.compile(o,K,C,J,G);t=E;G=["test",l,o];break;case BiwaScheme.Sym("set!"):if(t.length()!=3){throw new BiwaScheme.Error("Invalid set!: "+t.to_write())}var w=t.second(),t=t.third();var g=this.compile_lookup(w,K,function(a){return["assign-local",a,G]},function(a){return["assign-free",a,G]},function(a){return["assign-global",a,G]});G=g;break;case BiwaScheme.Sym("call/cc"):var t=t.second();var L=["conti",(this.is_tail(G)?(K[0].size()+1):0),["argument",["constant",1,["argument",this.compile(t,K,C,J,(this.is_tail(G)?["shift",1,["apply"]]:["apply"]))]]]];return this.is_tail(G)?L:["frame",L,G];default:var k=t.car;var h=t.cdr;var L=this.compile(k,K,C,J,this.is_tail(G)?["shift",h.length(),["apply"]]:["apply"]);L=this.compile(h.length(),K,C,J,["argument",L]);for(var F=h;F instanceof BiwaScheme.Pair;F=F.cdr){L=this.compile(F.car,K,C,J,["argument",L])}return this.is_tail(G)?L:["frame",L,G]}}else{return["constant",t,G]}}}},run:function(a){return this.compile(a,[new BiwaScheme.Set(),new BiwaScheme.Set()],new BiwaScheme.Set(),new BiwaScheme.Set(),["halt"])}});BiwaScheme.Compiler.compile=function(c,a){c=(new BiwaScheme.Interpreter).expand(c);return(new BiwaScheme.Compiler).run(c,a)};BiwaScheme.Pause=BiwaScheme.Class.create({initialize:function(a){this.on_pause=a},set_state:function(d,a,g,h,e){this.interpreter=d;this.x=a;this.f=g;this.c=h;this.s=e},ready:function(){this.on_pause(this)},resume:function(a){return this.interpreter.resume(true,a,this.x,this.f,this.c,this.s)}});BiwaScheme.Call=BiwaScheme.Class.create({initialize:function(a,c,d){this.proc=a;this.args=c;this.after=d||function(e){return e[0]}},inspect:function(){return"#<Call args="+this.args.inspect()+">"},toString:function(){return"#<Call>"},to_write:function(){return"#<Call>"}});BiwaScheme.Iterator={ForArray:BiwaScheme.Class.create({initialize:function(a){this.arr=a;this.i=0},has_next:function(){return this.i<this.arr.length},next:function(){return this.arr[this.i++]}}),ForString:BiwaScheme.Class.create({initialize:function(a){this.str=a;this.i=0},has_next:function(){return this.i<this.str.length},next:function(){return BiwaScheme.Char.get(this.str.charAt(this.i++))}}),ForList:BiwaScheme.Class.create({initialize:function(a){this.ls=a},has_next:function(){return(this.ls instanceof BiwaScheme.Pair)&&this.ls!=BiwaScheme.nil},next:function(){var a=this.ls;this.ls=this.ls.cdr;return a}}),ForMulti:BiwaScheme.Class.create({initialize:function(a){this.objs=a;this.size=a.length;this.iterators=_.map(a,function(c){return BiwaScheme.Iterator.of(c)})},has_next:function(){for(var a=0;a<this.size;a++){if(!this.iterators[a].has_next()){return false}}return true},next:function(){return _.map(this.iterators,function(a){return a.next()})}}),of:function(a){switch(true){case (a instanceof Array):return new this.ForArray(a);case (typeof(a)=="string"):return new this.ForString(a);case (a instanceof BiwaScheme.Pair):case (a===BiwaScheme.nil):return new this.ForList(a);default:throw new BiwaScheme.Bug("Iterator.of: unknown class: "+BiwaScheme.inspect(a))}}};BiwaScheme.Call.default_callbacks={call:function(a){return new BiwaScheme.Call(this.proc,[a])},result:function(){},finish:function(){}};BiwaScheme.Call.foreach=function(g,f,d){d||(d=false);_.each(["call","result","finish"],function(h){if(!f[h]){f[h]=BiwaScheme.Call.default_callbacks[h]}});var e=null;var a=null;var c=function(j){if(e){var k=f.result(j[0],a);if(k!==undefined){return k}}else{if(d){e=new BiwaScheme.Iterator.ForMulti(g)}else{e=BiwaScheme.Iterator.of(g)}}if(!e.has_next()){return f.finish()}else{a=e.next();var h=f.call(a);h.after=c;return h}};return c(null)};BiwaScheme.Call.multi_foreach=function(c,a){return BiwaScheme.Call.foreach(c,a,true)};BiwaScheme.Interpreter=BiwaScheme.Class.create({initialize:function(a){this.stack=[];this.on_error=a||function(c){};this.after_evaluate=function(){}},inspect:function(){return["#<Interpreter: stack size=>",this.stack.length," ","after_evaluate=",BiwaScheme.inspect(this.after_evaluate),">"].join("")},push:function(a,c){this.stack[c]=a;return c+1},save_stack:function(d){var a=[];for(var c=0;c<d;c++){a[c]=this.stack[c]}return a},restore_stack:function(a){var d=a.length;for(var c=0;c<d;c++){this.stack[c]=a[c]}return d},continuation:function(c,d){var a=this.push(d,c);return this.closure(["refer-local",0,["nuate",this.save_stack(a),["return"]]],0,null,-1)},shift_args:function(e,a,d){for(var c=e-1;c>=-1;c--){this.index_set(d,c+a+1,this.index(d,c))}return d-a-1},index:function(c,a){return this.stack[c-a-2]},index_set:function(d,c,a){this.stack[d-c-2]=a},closure:function(a,g,e,f){var c=[];c[0]=a;for(var d=0;d<g;d++){c[d+1]=this.index(e,d-1)}c[g+1]=f;c.closure_p=true;return c},execute:function(g,d,l,o,j){var h=null;try{h=this._execute(g,d,l,o,j)}catch(m){var k={a:g,x:d,f:l,c:o,s:j,stack:this.stack};return this.on_error(m,k)}return h},run_dump_hook:function(e,d,k,l,h){var g;var j;if(this.dumper){g=this.dumper}else{if(BiwaScheme.Interpreter.dumper){g=BiwaScheme.Interpreter.dumper}else{return}}if(g){j={a:e,f:k,c:l,s:h,x:d,stack:this.stack};g.dump(j)}},_execute:function(I,t,E,H,A){var J=null;while(true){this.run_dump_hook(I,t,E,H,A);switch(t[0]){case"halt":return I;case"refer-local":var B=t[1],t=t[2];I=this.index(E,B);break;case"refer-free":var B=t[1],t=t[2];I=H[B+1];break;case"refer-global":var y=t[1],t=t[2];if(BiwaScheme.TopEnv.hasOwnProperty(y)){var K=BiwaScheme.TopEnv[y]}else{if(BiwaScheme.CoreEnv.hasOwnProperty(y)){var K=BiwaScheme.CoreEnv[y]}else{throw new BiwaScheme.Error("execute: unbound symbol: "+BiwaScheme.inspect(y))}}I=K;break;case"indirect":var t=t[1];I=I[0];break;case"constant":var z=t[1],t=t[2];I=z;break;case"close":var g=t;var B=g[1],w=g[2],t=g[3],k=g[4];I=this.closure(w,B,A,k);A-=B;break;case"box":var B=t[1],t=t[2];this.index_set(A,B,[this.index(A,B)]);break;case"test":var l=t[1],m=t[2];t=((I!==false)?l:m);break;case"assign-global":var L=t[1],t=t[2];if(!BiwaScheme.TopEnv.hasOwnProperty(L)&&!BiwaScheme.CoreEnv.hasOwnProperty(L)){throw new BiwaScheme.Error("global variable '"+L+"' is not defined")}BiwaScheme.TopEnv[L]=I;I=BiwaScheme.undef;break;case"assign-local":var B=t[1],t=t[2];var u=this.index(E,B);u[0]=I;I=BiwaScheme.undef;break;case"assign-free":var B=t[1],t=t[2];var u=H[B+1];u[0]=I;I=BiwaScheme.undef;break;case"conti":var B=t[1],t=t[2];I=this.continuation(A,B);break;case"nuate":var q=t[1],t=t[2];A=this.restore_stack(q);break;case"frame":var J=t[2];t=t[1];A=this.push(J,this.push(E,this.push(H,A)));break;case"argument":var t=t[1];A=this.push(I,A);break;case"shift":var B=t[1],t=t[2];var e=this.index(A,B);A=this.shift_args(B,e,A);break;case"apply":var h=I;var e=this.index(A,-1);if(h instanceof Array){I=h;t=h[0];var k=h[h.length-1];if(k>=0){var o=BiwaScheme.nil;for(var D=e;--D>=k;){o=new BiwaScheme.Pair(this.index(A,D),o)}if(k>=e){for(var D=-1;D<e;D++){this.index_set(A,D-1,this.index(A,D))}A++;this.index_set(A,-1,this.index(A,-1)+1)}this.index_set(A,k,o)}E=A;H=I}else{if(h instanceof Function){var d=[];for(var D=0;D<e;D++){d.push(this.index(A,D))}var v=h(d,this);if(v instanceof BiwaScheme.Pause){var j=v;j.set_state(this,["return"],E,H,A);j.ready();return j}else{if(v instanceof BiwaScheme.Call){var G=["frame",["argument",["constant",1,["argument",["constant",v.after,["apply"]]]]],["return"]];var r=["constant",v.args.length,["argument",["constant",v.proc,["apply",v.args.length]]]];var F=_.inject(v.args,function(c,a){return["constant",a,["argument",c]]},r);t=["frame",F,G]}else{I=v;t=["return"]}}}else{throw new BiwaScheme.Error(BiwaScheme.inspect(h)+" is not a function")}}break;case"return":var B=this.index(A,-1);var C=A-B;t=this.index(C,0),E=this.index(C,1),H=this.index(C,2),A=C-3-1;break;default:throw new BiwaScheme.Bug("unknown opecode type: "+t[0])}}return I},expand:function(o,k){k||(k={});var h=null;if(o instanceof BiwaScheme.Symbol){h=o}else{if(o instanceof BiwaScheme.Pair){switch(o.car){case BiwaScheme.Sym("define"):var d=o.cdr.car,e=o.cdr.cdr;h=new BiwaScheme.Pair(BiwaScheme.Sym("define"),new BiwaScheme.Pair(d,this.expand(e,k)));break;case BiwaScheme.Sym("begin"):h=new BiwaScheme.Pair(BiwaScheme.Sym("begin"),this.expand(o.cdr,k));break;case BiwaScheme.Sym("quote"):h=o;break;case BiwaScheme.Sym("lambda"):var j=o.cdr.car,f=o.cdr.cdr;h=new BiwaScheme.Pair(BiwaScheme.Sym("lambda"),new BiwaScheme.Pair(j,this.expand(f,k)));break;case BiwaScheme.Sym("if"):var s=o.second(),c=o.third(),g=o.fourth();if(g==BiwaScheme.inner_of_nil){g=BiwaScheme.undef}h=BiwaScheme.List(BiwaScheme.Sym("if"),this.expand(s,k),this.expand(c,k),this.expand(g,k));break;case BiwaScheme.Sym("set!"):var r=o.second(),o=o.third();h=BiwaScheme.List(BiwaScheme.Sym("set!"),r,this.expand(o,k));break;case BiwaScheme.Sym("call-with-current-continuation"):case BiwaScheme.Sym("call/cc"):var o=o.second();h=BiwaScheme.List(BiwaScheme.Sym("call/cc"),this.expand(o,k));break;default:if(o.car instanceof BiwaScheme.Symbol&&BiwaScheme.TopEnv[o.car.name] instanceof BiwaScheme.Syntax){var l=BiwaScheme.TopEnv[o.car.name];k.modified=true;h=l.transform(o);if(BiwaScheme.Debug){var m=BiwaScheme.to_write(o);var a=BiwaScheme.to_write(h);if(m!=a){puts("expand: "+m+" => "+a)}}var q;for(;;){h=this.expand(h,q={});if(!q.modified){break}}}else{if(o==BiwaScheme.nil){h=BiwaScheme.nil}else{h=new BiwaScheme.Pair(this.expand(o.car,k),BiwaScheme.shallow_array_to_list(_.map(o.cdr.to_array(),_.bind(function(t){return this.expand(t,k)},this))))}}}}else{h=o}}return h},evaluate:function(c,a){this.parser=new BiwaScheme.Parser(c);this.compiler=new BiwaScheme.Compiler();if(a){this.after_evaluate=a}if(BiwaScheme.Debug){puts("executing: "+c)}this.is_top=true;this.file_stack=[];return this.resume(false)},resume:function(e,j,k,d,h,o){var g=BiwaScheme.undef;for(;;){if(e){g=this.execute(j,k,d,h,o);e=false}else{if(!this.parser){break}var l=this.parser.getObject();if(l===BiwaScheme.Parser.EOS){break}l=this.expand(l);var m=this.compiler.run(l);g=this.execute(l,m,0,[],0)}if(g instanceof BiwaScheme.Pause){return g}}this.after_evaluate(g);return g},invoke_closure:function(f,d){d||(d=[]);var c=d.length;var a=["constant",c,["argument",["constant",f,["apply"]]]];for(var e=0;e<c;e++){a=["constant",d[e],["argument",a]]}return this.execute(f,["frame",a,["halt"]],0,f,0)},compile:function(c){var a=BiwaScheme.Interpreter.read(c);var d=BiwaScheme.Compiler.compile(a);return d}});BiwaScheme.Interpreter.read=function(c){var d=new BiwaScheme.Parser(c);var a=d.getObject();return(a==BiwaScheme.Parser.EOS)?BiwaScheme.eof:a};BiwaScheme.check_arity=function(c,d,a){var e=arguments.callee.caller?arguments.callee.caller.fname:"(?)";if(c<d){if(a&&a==d){throw new BiwaScheme.Error(e+": wrong number of arguments (expected: "+d+" got: "+c+")")}else{throw new BiwaScheme.Error(e+": too few arguments (at least: "+d+" got: "+c+")")}}else{if(a&&a<c){throw new BiwaScheme.Error(e+": too many arguments (at most: "+a+" got: "+c+")")}}};BiwaScheme.define_libfunc=function(h,c,a,d,g){var e=function(k,j){BiwaScheme.check_arity(k.length,c,a);var f=d(k,j);if(g){return f}else{if(f===undefined){throw new BiwaScheme.Bug("library function `"+h+"' returned JavaScript's undefined")}else{if(f===null){throw new BiwaScheme.Bug("library function `"+h+"' returned JavaScript's null")}else{return f}}}};d.fname=h;e.fname=h;e.inspect=function(){return this.fname};BiwaScheme.CoreEnv[h]=e};BiwaScheme.alias_libfunc=function(c,a){if(BiwaScheme.CoreEnv[c]){if(_.isArray(a)){_.map(a,function(d){BiwaScheme.alias_libfunc(c,d)})}else{if(_.isString(a)){BiwaScheme.CoreEnv[a]=BiwaScheme.CoreEnv[c]}else{throw new BiwaScheme.Bug("bad alias for library function `"+c+"': "+a.toString())}}}else{throw new BiwaScheme.Bug("library function `"+c+"' does not exist, so can't alias it.")}};BiwaScheme.define_libfunc_raw=function(e,c,a,d){BiwaScheme.define_libfunc(e,c,a,d,true)};BiwaScheme.define_syntax=function(a,d){var c=new BiwaScheme.Syntax(a,d);BiwaScheme.TopEnv[a]=c};BiwaScheme.define_scmfunc=function(e,c,a,d){(new Interpreter).evaluate("(define "+e+" "+d+"\n)")};var make_assert=function(a){return function(){var c=arguments.callee.caller?arguments.callee.caller.fname:"";a.apply(this,[c].concat(_.toArray(arguments)))}};var make_simple_assert=function(a,c){return make_assert(function(f,e,d){option=d?("("+d+")"):"";if(!c(e)){throw new BiwaScheme.Error(f+option+": "+a+" required, but got "+BiwaScheme.to_write(e))}})};var assert_number=make_simple_assert("number",function(a){return typeof(a)=="number"||(a instanceof BiwaScheme.Complex)});var assert_integer=make_simple_assert("integer",function(a){return typeof(a)=="number"&&(a%1==0)});var assert_real=make_simple_assert("real number",function(a){return typeof(a)=="number"});var assert_between=make_assert(function(e,a,d,c){if(typeof(a)!="number"||a!=Math.round(a)){throw new BiwaScheme.Error(e+": number required, but got "+BiwaScheme.to_write(a))}if(a<d||c<a){throw new BiwaScheme.Error(e+": number must be between "+d+" and "+c+", but got "+BiwaScheme.to_write(a))}});var assert_string=make_simple_assert("string",_.isString);var assert_char=make_simple_assert("character",BiwaScheme.isChar);var assert_symbol=make_simple_assert("symbol",BiwaScheme.isSymbol);var assert_port=make_simple_assert("port",BiwaScheme.isPort);var assert_pair=make_simple_assert("pair",BiwaScheme.isPair);var assert_list=make_simple_assert("list",BiwaScheme.isList);var assert_vector=make_simple_assert("vector",BiwaScheme.isVector);var assert_hashtable=make_simple_assert("hashtable",BiwaScheme.isHashtable);var assert_mutable_hashtable=make_simple_assert("mutable hashtable",BiwaScheme.isMutableHashtable);var assert_record=make_simple_assert("record",BiwaScheme.isRecord);var assert_record_td=make_simple_assert("record type descriptor",BiwaScheme.isRecordTD);var assert_record_cd=make_simple_assert("record constructor descriptor",BiwaScheme.isRecordCD);var assert_function=make_simple_assert("JavaScript function",_.isFunction);var assert_closure=make_simple_assert("scheme function",BiwaScheme.isClosure);var assert_procedure=make_simple_assert("scheme/js function",function(a){return BiwaScheme.isClosure(a)||_.isFunction(a)});var assert_date=make_simple_assert("date",function(a){return a instanceof Date});var assert=make_assert(function(d,c,a){if(!c){throw new BiwaScheme.Error(d+": "+a)}});if(typeof(BiwaScheme)!="object"){BiwaScheme={}}with(BiwaScheme){define_syntax("cond",function(a){var d=a.cdr;if(!(d instanceof Pair)||d===nil){throw new Error("malformed cond: cond needs list but got "+to_write_ss(d))}var c=null;_.each(d.to_array().reverse(),function(g){if(!(g instanceof Pair)){throw new Error("bad clause in cond: "+to_write_ss(g))}if(g.car===Sym("else")){if(c!==null){throw new Error("'else' clause of cond followed by more clauses: "+to_write_ss(d))}else{if(g.cdr===nil){c=false}else{if(g.cdr.cdr===nil){c=g.cdr.car}else{c=new Pair(Sym("begin"),g.cdr)}}}}else{if(c===null){c=BiwaScheme.undef}else{var h=g.car;if(g.cdr===nil){c=List(Sym("or"),h,c)}else{if(g.cdr.cdr===nil){c=List(Sym("if"),h,g.cdr.car,c)}else{if(g.cdr.car===Sym("=>")){var h=g.car,f=g.cdr.cdr.car;var e=BiwaScheme.gensym();c=List(Sym("let"),List(List(e,h)),List(Sym("if"),h,List(f,e),c))}else{c=List(Sym("if"),h,new Pair(Sym("begin"),g.cdr),c)}}}}}});return c});define_syntax("case",function(a){var e=BiwaScheme.gensym();if(a.cdr===nil){throw new Error("case: at least one clause is required")}else{if(!(a.cdr instanceof Pair)){throw new Error("case: proper list is required")}else{var d=a.cdr.car;var f=a.cdr.cdr;var c=undefined;_.each(f.to_array().reverse(),function(g){if(g.car===Sym("else")){if(c===undefined){c=new Pair(Sym("begin"),g.cdr)}else{throw new Error("case: 'else' clause followed by more clauses: "+to_write_ss(f))}}else{c=List(Sym("if"),new Pair(Sym("or"),array_to_list(_.map(g.car.to_array(),function(h){return List(Sym("eqv?"),e,List(Sym("quote"),h))}))),new Pair(Sym("begin"),g.cdr),c)}});return new Pair(Sym("let1"),new Pair(e,new Pair(d,new Pair(c,nil))))}}});define_syntax("and",function(a){if(a.cdr==nil){return true}var e=a.cdr.to_array();var d=e.length-1;var c=e[d];for(d=d-1;d>=0;d--){c=List(Sym("if"),e[d],c,false)}return c});define_syntax("or",function(a){var e=a.cdr.to_array();var d=false;for(var c=e.length-1;c>=0;c--){d=List(Sym("if"),e[c],e[c],d)}return d});define_syntax("let",function(k){var a=null;if(k.cdr.car instanceof Symbol){a=k.cdr.car;k=k.cdr}var d=k.cdr.car,e=k.cdr.cdr;if(!(d instanceof Pair)){throw new Error("let: need a pair for bindings: got "+to_write(d))}var h=nil,j=nil;for(var c=d;c instanceof Pair;c=c.cdr){h=new Pair(c.car.car,h);j=new Pair(c.car.cdr.car,j)}var g=null;if(a){h=array_to_list(h.to_array().reverse());j=array_to_list(j.to_array().reverse());var f=new Pair(Sym("lambda"),new Pair(h,e));var l=new Pair(a,j);g=List(Sym("letrec"),new Pair(List(a,f),nil),l)}else{g=new Pair(new Pair(Sym("lambda"),new Pair(h,e)),j)}return g});define_syntax("let*",function(c){var e=c.cdr.car,a=c.cdr.cdr;if(!(e instanceof Pair)){throw new Error("let*: need a pair for bindings: got "+to_write(e))}var d=null;_.each(e.to_array().reverse(),function(f){d=new Pair(Sym("let"),new Pair(new Pair(f,nil),d==null?a:new Pair(d,nil)))});return d});var expand_letrec_star=function(c){var f=c.cdr.car,a=c.cdr.cdr;if(!(f instanceof Pair)){throw new Error("letrec*: need a pair for bindings: got "+to_write(f))}var e=a;_.each(f.to_array().reverse(),function(g){e=new Pair(new Pair(Sym("set!"),g),e)});var d=nil;_.each(f.to_array().reverse(),function(g){d=new Pair(new Pair(g.car,new Pair(BiwaScheme.undef,nil)),d)});return new Pair(Sym("let"),new Pair(d,e))};define_syntax("letrec",expand_letrec_star);define_syntax("letrec*",expand_letrec_star);define_syntax("let-values",function(c){var g=c.cdr.car;var a=c.cdr.cdr;var d=null;var f=nil;var e=nil;_.each(g.to_array().reverse(),function(k){var o=k.cdr.car;var l=BiwaScheme.gensym();var m=new Pair(l,new Pair(new Pair(Sym("lambda"),new Pair(nil,new Pair(o,nil))),nil));f=new Pair(m,f);var j=k.car;e=new Pair(new Pair(j,new Pair(new Pair(l,nil),nil)),e)});var h=new Pair(Sym("let*-values"),new Pair(e,a));d=new Pair(Sym("let"),new Pair(f,new Pair(h,nil)));return d});define_syntax("let*-values",function(c){var e=c.cdr.car;var a=c.cdr.cdr;var d=null;_.each(e.to_array().reverse(),function(g){var f=g.car,h=g.cdr.car;d=new Pair(Sym("call-with-values"),new Pair(new Pair(Sym("lambda"),new Pair(nil,new Pair(h,nil))),new Pair(new Pair(Sym("lambda"),new Pair(f,(d==null?a:new Pair(d,nil)))),nil)))});return d});BiwaScheme.eq=function(d,c){return d===c};BiwaScheme.eqv=function(d,c){return d==c&&(typeof(d)==typeof(c))};define_libfunc("eqv?",2,2,function(a){return BiwaScheme.eqv(a[0],a[1])});define_libfunc("eq?",2,2,function(a){return BiwaScheme.eq(a[0],a[1])});define_libfunc("equal?",2,2,function(a){return to_write(a[0])==to_write(a[1])});define_libfunc("procedure?",1,1,function(a){return((a[0] instanceof Array)&&(a[0].closure_p===true)||(typeof a[0]=="function"))});define_libfunc("number?",1,1,function(a){return(typeof(a[0])=="number")||(a[0] instanceof Complex)||(a[0] instanceof Rational)});define_libfunc("complex?",1,1,function(a){return(a[0] instanceof Complex)});define_libfunc("real?",1,1,function(a){return(typeof(a[0])=="number")});define_libfunc("rational?",1,1,function(a){return(a[0] instanceof Rational)});define_libfunc("integer?",1,1,function(a){return typeof(a[0])=="number"&&a[0]==Math.round(a[0])&&a[0]!=Infinity&&a[0]!=-Infinity});define_libfunc("=",2,null,function(c){var a=c[0];assert_number(c[0]);for(var d=1;d<c.length;d++){assert_number(c[d]);if(c[d]!=a){return false}}return true});define_libfunc("<",2,null,function(a){assert_number(a[0]);for(var c=1;c<a.length;c++){assert_number(a[c]);if(!(a[c-1]<a[c])){return false}}return true});define_libfunc(">",2,null,function(a){assert_number(a[0]);for(var c=1;c<a.length;c++){assert_number(a[c]);if(!(a[c-1]>a[c])){return false}}return true});define_libfunc("<=",2,null,function(a){assert_number(a[0]);for(var c=1;c<a.length;c++){assert_number(a[c]);if(!(a[c-1]<=a[c])){return false}}return true});define_libfunc(">=",2,null,function(a){assert_number(a[0]);for(var c=1;c<a.length;c++){assert_number(a[c]);if(!(a[c-1]>=a[c])){return false}}return true});define_libfunc("zero?",1,1,function(a){assert_number(a[0]);return a[0]===0});define_libfunc("positive?",1,1,function(a){assert_number(a[0]);return(a[0]>0)});define_libfunc("negative?",1,1,function(a){assert_number(a[0]);return(a[0]<0)});define_libfunc("odd?",1,1,function(a){assert_number(a[0]);return(a[0]%2==1)||(a[0]%2==-1)});define_libfunc("even?",1,1,function(a){assert_number(a[0]);return a[0]%2==0});define_libfunc("finite?",1,1,function(a){assert_number(a[0]);return(a[0]!=Infinity)&&(a[0]!=-Infinity)&&!isNaN(a[0])});define_libfunc("infinite?",1,1,function(a){assert_number(a[0]);return(a[0]==Infinity)||(a[0]==-Infinity)});define_libfunc("nan?",1,1,function(a){assert_number(a[0]);return isNaN(a[0])});define_libfunc("max",2,null,function(a){for(var c=0;c<a.length;c++){assert_number(a[c])}return Math.max.apply(null,a)});define_libfunc("min",2,null,function(a){for(var c=0;c<a.length;c++){assert_number(a[c])}return Math.min.apply(null,a)});define_libfunc("+",0,null,function(a){var d=0;for(var c=0;c<a.length;c++){assert_number(a[c]);d+=a[c]}return d});define_libfunc("*",0,null,function(a){var d=1;for(var c=0;c<a.length;c++){assert_number(a[c]);d*=a[c]}return d});define_libfunc("-",1,null,function(c){var a=c.length;assert_number(c[0]);if(a==1){return -c[0]}else{var e=c[0];for(var d=1;d<a;d++){assert_number(c[d]);e-=c[d]}return e}});define_libfunc("/",1,null,function(c){var a=c.length;assert_number(c[0]);if(a==1){return 1/c[0]}else{var e=c[0];for(var d=1;d<a;d++){assert_number(c[d]);e/=c[d]}return e}});define_libfunc("abs",1,1,function(a){assert_number(a[0]);return Math.abs(a[0])});var div=function(c,a){return Math.floor(c/a)};var mod=function(c,a){return c-Math.floor(c/a)*a};var div0=function(c,a){return(c>0)?Math.floor(c/a):Math.ceil(c/a)};var mod0=function(c,a){return(c>0)?c-Math.floor(c/a)*a:c-Math.ceil(c/a)*a};define_libfunc("div0-and-mod0",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return new Values([div(a[0],a[1]),mod(a[0],a[1])])});define_libfunc("div",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return div(a[0],a[1])});define_libfunc("mod",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return mod(a[0],a[1])});define_libfunc("div0-and-mod0",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return new Values([div0(a[0],a[1]),mod0(a[0],a[1])])});define_libfunc("div0",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return div0(a[0],a[1])});define_libfunc("mod0",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return mod0(a[0],a[1])});define_libfunc("numerator",1,1,function(a){assert_number(a[0]);if(a[0] instanceof Rational){return a[0].numerator}else{throw new Bug("todo")}});define_libfunc("denominator",1,1,function(a){assert_number(a[0]);if(a[0] instanceof Rational){return a[0].denominator}else{throw new Bug("todo")}});define_libfunc("floor",1,1,function(a){assert_number(a[0]);return Math.floor(a[0])});define_libfunc("ceiling",1,1,function(a){assert_number(a[0]);return Math.ceil(a[0])});define_libfunc("truncate",1,1,function(a){assert_number(a[0]);return(a[0]<0)?Math.ceil(a[0]):Math.floor(a[0])});define_libfunc("round",1,1,function(a){assert_number(a[0]);return Math.round(a[0])});define_libfunc("exp",1,1,function(a){assert_number(a[0]);return Math.exp(a[0])});define_libfunc("log",1,2,function(a){var c=a[0],d=a[1];assert_number(c);if(d){assert_number(d);return Math.log(c)/Math.log(b)}else{return Math.log(c)}});define_libfunc("sin",1,1,function(a){assert_number(a[0]);return Math.sin(a[0])});define_libfunc("cos",1,1,function(a){assert_number(a[0]);return Math.cos(a[0])});define_libfunc("tan",1,1,function(a){assert_number(a[0]);return Math.tan(a[0])});define_libfunc("asin",1,1,function(a){assert_number(a[0]);return Math.asin(a[0])});define_libfunc("acos",1,1,function(a){assert_number(a[0]);return Math.acos(a[0])});define_libfunc("atan",1,2,function(a){assert_number(a[0]);if(a[1]){assert_number(a[1]);return Math.atan2(a[0],a[1])}else{return Math.atan(a[0])}});define_libfunc("sqrt",1,1,function(a){assert_number(a[0]);return Math.sqrt(a[0])});define_libfunc("exact-integer-sqrt",1,1,function(c){assert_number(c[0]);var a=Math.sqrt(c[0]);var e=a-(a%1);var d=c[0]-e*e;return new Values([e,d])});define_libfunc("expt",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return Math.pow(a[0],a[1])});define_libfunc("make-rectangular",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return new Complex(a[0],a[1])});define_libfunc("make-polar",2,2,function(a){assert_number(a[0]);assert_number(a[1]);return Complex.from_polar(a[0],a[1])});define_libfunc("real-part",1,1,function(a){assert_number(a[0]);return Complex.assure(a[0]).real});define_libfunc("imag-part",1,1,function(a){assert_number(a[0]);return Complex.assure(a[0]).imag});define_libfunc("magnitude",1,1,function(a){assert_number(a[0]);return Complex.assure(a[0]).magnitude()});define_libfunc("angle",1,1,function(a){assert_number(a[0]);return Complex.assure(a[0]).angle()});define_libfunc("number->string",1,3,function(c){var e=c[0],d=c[1],a=c[2];if(a){throw new Bug("number->string: precision is not yet implemented")}d=d||10;return e.toString(d)});define_libfunc("string->number",1,3,function(a){var d=a[0],c=a[1]||10;switch(d){case"+inf.0":return Infinity;case"-inf.0":return -Infinity;case"+nan.0":return NaN;default:if(d.match(/[eE.]/)){return parseFloat(d)}else{return parseInt(d,c)}}});define_libfunc("not",1,1,function(a){return(a[0]===false)?true:false});define_libfunc("boolean?",1,1,function(a){return(a[0]===false||a[0]===true)?true:false});define_libfunc("boolean=?",2,null,function(c){var a=c.length;for(var d=1;d<a;d++){if(c[d]!=c[0]){return false}}return true});define_libfunc("pair?",1,1,function(a){return(a[0] instanceof Pair)?true:false});define_libfunc("cons",2,2,function(a){return new Pair(a[0],a[1])});define_libfunc("car",1,1,function(a){if(!(a[0] instanceof Pair)){throw new Error("Attempt to apply car on "+a[0])}return a[0].car});define_libfunc("cdr",1,1,function(a){if(!(a[0] instanceof Pair)){throw new Error("Attempt to apply cdr on "+a[0])}return a[0].cdr});define_libfunc("set-car!",2,2,function(a){if(!(a[0] instanceof Pair)){throw new Error("Attempt to apply set-car! on "+a[0])}a[0].car=a[1];return BiwaScheme.undef});define_libfunc("set-cdr!",2,2,function(a){if(!(a[0] instanceof Pair)){throw new Error("Attempt to apply set-cdr! on "+a[0])}a[0].cdr=a[1];return BiwaScheme.undef});define_libfunc("caar",1,1,function(a){return a[0].car.car});define_libfunc("cadr",1,1,function(a){return a[0].cdr.car});define_libfunc("cdar",1,1,function(a){return a[0].car.cdr});define_libfunc("cddr",1,1,function(a){return a[0].cdr.cdr});define_libfunc("caaar",1,1,function(a){return a[0].car.car.car});define_libfunc("caadr",1,1,function(a){return a[0].cdr.car.car});define_libfunc("cadar",1,1,function(a){return a[0].car.cdr.car});define_libfunc("caddr",1,1,function(a){return a[0].cdr.cdr.car});define_libfunc("cdaar",1,1,function(a){return a[0].car.car.cdr});define_libfunc("cdadr",1,1,function(a){return a[0].cdr.car.cdr});define_libfunc("cddar",1,1,function(a){return a[0].car.cdr.cdr});define_libfunc("cdddr",1,1,function(a){return a[0].cdr.cdr.cdr});define_libfunc("caaaar",1,1,function(a){return a[0].car.car.car.car});define_libfunc("caaadr",1,1,function(a){return a[0].cdr.car.car.car});define_libfunc("caadar",1,1,function(a){return a[0].car.cdr.car.car});define_libfunc("caaddr",1,1,function(a){return a[0].cdr.cdr.car.car});define_libfunc("cadaar",1,1,function(a){return a[0].car.car.cdr.car});define_libfunc("cadadr",1,1,function(a){return a[0].cdr.car.cdr.car});define_libfunc("caddar",1,1,function(a){return a[0].car.cdr.cdr.car});define_libfunc("cadddr",1,1,function(a){return a[0].cdr.cdr.cdr.car});define_libfunc("cdaaar",1,1,function(a){return a[0].car.car.car.cdr});define_libfunc("cdaadr",1,1,function(a){return a[0].cdr.car.car.cdr});define_libfunc("cdadar",1,1,function(a){return a[0].car.cdr.car.cdr});define_libfunc("cdaddr",1,1,function(a){return a[0].cdr.cdr.car.cdr});define_libfunc("cddaar",1,1,function(a){return a[0].car.car.cdr.cdr});define_libfunc("cddadr",1,1,function(a){return a[0].cdr.car.cdr.cdr});define_libfunc("cdddar",1,1,function(a){return a[0].car.cdr.cdr.cdr});define_libfunc("cddddr",1,1,function(a){return a[0].cdr.cdr.cdr.cdr});define_libfunc("null?",1,1,function(a){return(a[0]===nil)});define_libfunc("list?",1,1,function(a){var c=[];for(var d=a[0];d!=nil;d=d.cdr){if(d==nil){return true}if(!(d instanceof Pair)){return false}if(_.detect(c,function(e){return e===d.car})){return false}c.push(d.car)}return true});define_libfunc("list",0,null,function(c){var a=nil;for(var d=c.length-1;d>=0;d--){a=new Pair(c[d],a)}return a});define_libfunc("length",1,1,function(a){assert_list(a[0]);var d=0;for(var c=a[0];c!=nil;c=c.cdr){d++}return d});define_libfunc("append",2,null,function(c){var a=c.length;var d=c[--a];while(a--){_.each(c[a].to_array().reverse(),function(e){d=new Pair(e,d)})}return d});define_libfunc("reverse",1,1,function(c){if(!c[0] instanceof Pair){throw new Error("reverse needs pair but got "+c[0])}var a=nil;for(var d=c[0];d!=nil;d=d.cdr){a=new Pair(d.car,a)}return a});define_libfunc("list-tail",2,2,function(a){if(!a[0] instanceof Pair){throw new Error("list-tail needs pair but got "+a[0])}var d=a[0];for(var c=0;c<a[1];c++){if(!d instanceof Pair){throw new Error("list-tail: the list is shorter than "+a[1])}d=d.cdr}return d});define_libfunc("list-ref",2,2,function(a){if(!a[0] instanceof Pair){throw new Error("list-ref needs pair but got "+a[0])}var d=a[0];for(var c=0;c<a[1];c++){if(!d instanceof Pair){throw new Error("list-ref: the list is shorter than "+a[1])}d=d.cdr}return d.car});define_libfunc("map",2,null,function(f){var e=f.shift(),c=f;_.each(c,assert_list);var d=[];return Call.multi_foreach(c,{call:function(a){return new Call(e,_.map(a,function(g){return g.car}))},result:function(a){d.push(a)},finish:function(){return array_to_list(d)}})});define_libfunc("for-each",2,null,function(d){var c=d.shift(),a=d;_.each(a,assert_list);return Call.multi_foreach(a,{call:function(e){return new Call(c,_.map(e,function(f){return f.car}))},finish:function(){return BiwaScheme.undef}})});define_libfunc("symbol?",1,1,function(a){return(a[0] instanceof Symbol)?true:false});define_libfunc("symbol->string",1,1,function(a){assert_symbol(a[0]);return a[0].name});define_libfunc("symbol=?",2,null,function(a){assert_symbol(a[0]);for(var c=1;c<a.length;c++){assert_symbol(a[c]);if(a[c]!=a[0]){return false}}return true});define_libfunc("string->symbol",1,1,function(a){assert_string(a[0]);return Sym(a[0])});define_libfunc("char?",1,1,function(a){return(a[0] instanceof Char)});define_libfunc("char->integer",1,1,function(a){assert_char(a[0]);return a[0].value.charCodeAt(0)});define_libfunc("integer->char",1,1,function(a){assert_integer(a[0]);return Char.get(String.fromCharCode(a[0]))});var make_char_compare_func=function(a){return function(c){assert_char(c[0]);for(var d=1;d<c.length;d++){assert_char(c[d]);if(!a(c[d-1].value,c[d].value)){return false}}return true}};define_libfunc("char=?",2,null,make_char_compare_func(function(d,c){return d==c}));define_libfunc("char<?",2,null,make_char_compare_func(function(d,c){return d<c}));define_libfunc("char>?",2,null,make_char_compare_func(function(d,c){return d>c}));define_libfunc("char<=?",2,null,make_char_compare_func(function(d,c){return d<=c}));define_libfunc("char>=?",2,null,make_char_compare_func(function(d,c){return d>=c}));define_libfunc("string?",1,1,function(a){return(typeof(a[0])=="string")});define_libfunc("make-string",1,2,function(a){assert_integer(a[0]);var e=" ";if(a[1]){assert_char(a[1]);e=a[1].value}var d="";_.times(a[0],function(){d+=e});return d});define_libfunc("string",1,null,function(a){for(var c=0;c<a.length;c++){assert_char(a[c])}return _.map(a,function(d){return d.value}).join("")});define_libfunc("string-length",1,1,function(a){assert_string(a[0]);return a[0].length});define_libfunc("string-ref",2,2,function(a){assert_string(a[0]);assert_between(a[1],0,a[0].length-1);return Char.get(a[0].charAt([a[1]]))});define_libfunc("string=?",2,null,function(a){assert_string(a[0]);for(var c=1;c<a.length;c++){assert_string(a[c]);if(a[0]!=a[c]){return false}}return true});define_libfunc("string<?",2,null,function(a){assert_string(a[0]);for(var c=1;c<a.length;c++){assert_string(a[c]);if(!(a[c-1]<a[c])){return false}}return true});define_libfunc("string>?",2,null,function(a){assert_string(a[0]);for(var c=1;c<a.length;c++){assert_string(a[c]);if(!(a[c-1]>a[c])){return false}}return true});define_libfunc("string<=?",2,null,function(a){assert_string(a[0]);for(var c=1;c<a.length;c++){assert_string(a[c]);if(!(a[c-1]<=a[c])){return false}}return true});define_libfunc("string>=?",2,null,function(a){assert_string(a[0]);for(var c=1;c<a.length;c++){assert_string(a[c]);if(!(a[c-1]>=a[c])){return false}}return true});define_libfunc("substring",3,3,function(a){assert_string(a[0]);assert_integer(a[1]);assert_integer(a[2]);if(a[1]<0){throw new Error("substring: start too small: "+a[1])}if(a[2]<0){throw new Error("substring: end too small: "+a[2])}if(a[0].length+1<=a[1]){throw new Error("substring: start too big: "+a[1])}if(a[0].length+1<=a[2]){throw new Error("substring: end too big: "+a[2])}if(!(a[1]<=a[2])){throw new Error("substring: not start <= end: "+a[1]+", "+a[2])}return a[0].substring(a[1],a[2])});define_libfunc("string-append",0,null,function(a){for(var c=0;c<a.length;c++){assert_string(a[c])}return a.join("")});define_libfunc("string->list",1,1,function(a){assert_string(a[0]);return array_to_list(_.map(a[0].split(""),function(c){return Char.get(c[0])}))});define_libfunc("list->string",1,1,function(a){assert_list(a[0]);return _.map(a[0].to_array(),function(d){return d.value}).join("")});define_libfunc("string-for-each",2,null,function(c){var a=c.shift(),d=c;_.each(d,assert_string);return Call.multi_foreach(d,{call:function(e){return new Call(a,e)},finish:function(){return BiwaScheme.undef}})});define_libfunc("string-copy",1,1,function(a){assert_string(a[0]);return a[0]});define_libfunc("vector?",1,1,function(a){return(a[0] instanceof Array)&&(a[0].closure_p!==true)});define_libfunc("make-vector",1,2,function(a){assert_integer(a[0]);var d=new Array(a[0]);if(a.length==2){for(var c=0;c<a[0];c++){d[c]=a[1]}}return d});define_libfunc("vector",1,null,function(a){return a});define_libfunc("vector-length",1,1,function(a){assert_vector(a[0]);return a[0].length});define_libfunc("vector-ref",2,2,function(a){assert_vector(a[0]);assert_integer(a[1]);return a[0][a[1]]});define_libfunc("vector-set!",3,3,function(a){assert_vector(a[0]);assert_integer(a[1]);a[0][a[1]]=a[2];return BiwaScheme.undef});define_libfunc("vector->list",1,1,function(a){assert_vector(a[0]);return array_to_list(a[0])});define_libfunc("list->vector",1,1,function(a){assert_list(a[0]);return a[0].to_array()});define_libfunc("vector-fill!",2,2,function(a){assert_vector(a[0]);var d=a[0],e=a[1];for(var c=0;c<d.length;c++){d[c]=e}return d});define_libfunc("vector-map",2,null,function(e){var d=e.shift(),f=e;_.each(f,assert_vector);var c=[];return Call.multi_foreach(f,{call:function(a){return new Call(d,a)},result:function(a){c.push(a)},finish:function(){return c}})});define_libfunc("vector-for-each",2,null,function(c){var a=c.shift(),d=c;_.each(d,assert_vector);return Call.multi_foreach(d,{call:function(e){return new Call(a,e)},finish:function(){return BiwaScheme.undef}})});define_libfunc("apply",2,null,function(c){var a=c.shift(),e=c.pop(),d=c;d=d.concat(e.to_array());return new Call(a,d)});define_syntax("call-with-current-continuation",function(a){return new Pair(Sym("call/cc"),a.cdr)});define_libfunc("values",0,null,function(a){return new Values(a)});define_libfunc("call-with-values",2,2,function(c){var a=c[0],d=c[1];return new Call(a,[],function(f){var e=f[0];if(!(e instanceof Values)){throw new Error("values expected, but got "+to_write(e))}return new Call(d,e.content)})});var expand_qq=function(c,d){if(c instanceof Symbol||c===nil){return List(Sym("quote"),c)}else{if(c instanceof Pair){var a=c.car;if(a instanceof Pair&&a.car===Sym("unquote-splicing")){var d=d-1;if(d==0){return List(Sym("append"),c.car.cdr.car,expand_qq(c.cdr,d+1))}else{return List(Sym("cons"),List(Sym("list"),Sym("unquote-splicing"),expand_qq(c.car.cdr.car,d)),expand_qq(c.cdr,d+1))}}else{if(a===Sym("unquote")){var d=d-1;if(d==0){return c.cdr.car}else{return List(Sym("list"),List(Sym("quote"),Sym("unquote")),expand_qq(c.cdr.car,d))}}else{if(a===Sym("quasiquote")){return List(Sym("list"),Sym("quasiquote"),expand_qq(c.cdr.car,d+1))}else{return List(Sym("cons"),expand_qq(c.car,d),expand_qq(c.cdr,d))}}}}else{if(c instanceof Array){throw new Bug("vector quasiquotation is not implemented yet")}else{return c}}}};define_syntax("quasiquote",function(a){return expand_qq(a.cdr.car,1)});define_syntax("unquote",function(a){throw new Error("unquote(,) must be inside quasiquote(`)")});define_syntax("unquote-splicing",function(a){throw new Error("unquote-splicing(,@) must be inside quasiquote(`)")});define_libfunc("string-upcase",1,1,function(a){assert_string(a[0]);return a[0].toUpperCase()});define_libfunc("string-downcase",1,1,function(a){assert_string(a[0]);return a[0].toLowerCase()});BiwaScheme.make_string_ci_function=function(a){return function(c){assert_string(c[0]);var e=c[0].toUpperCase();for(var d=1;d<c.length;d++){assert_string(c[d]);if(!a(e,c[d].toUpperCase())){return false}}return true}};define_libfunc("string-ci=?",2,null,make_string_ci_function(function(d,c){return d==c}));define_libfunc("string-ci<?",2,null,make_string_ci_function(function(d,c){return d<c}));define_libfunc("string-ci>?",2,null,make_string_ci_function(function(d,c){return d>c}));define_libfunc("string-ci<=?",2,null,make_string_ci_function(function(d,c){return d<=c}));define_libfunc("string-ci>=?",2,null,make_string_ci_function(function(d,c){return d>=c}));define_libfunc("find",2,2,function(d){var c=d[0],a=d[1];assert_list(a);return Call.foreach(a,{call:function(e){return new Call(c,[e.car])},result:function(f,e){if(f){return e.car}},finish:function(){return false}})});define_libfunc("for-all",2,null,function(d){var c=d.shift();var a=d;_.each(a,assert_list);var e=true;return Call.multi_foreach(a,{call:function(f){return new Call(c,_.map(f,function(g){return g.car}))},result:function(f,g){if(f===false){return false}e=f},finish:function(){return e}})});define_libfunc("exists",2,null,function(d){var c=d.shift();var a=d;_.each(a,assert_list);return Call.multi_foreach(a,{call:function(e){return new Call(c,_.map(e,function(f){return f.car}))},result:function(e,f){if(e!==false){return e}},finish:function(){return false}})});define_libfunc("filter",2,2,function(f){var e=f[0],d=f[1];assert_list(d);var c=[];return Call.foreach(d,{call:function(a){return new Call(e,[a.car])},result:function(g,a){if(g){c.push(a.car)}},finish:function(){return array_to_list(c)}})});define_libfunc("partition",2,2,function(d){var c=d[0],a=d[1];assert_list(a);var e=[],g=[];return Call.foreach(a,{call:function(f){return new Call(c,[f.car])},result:function(h,f){if(h){e.push(f.car)}else{g.push(f.car)}},finish:function(){return new Values([array_to_list(e),array_to_list(g)])}})});define_libfunc("fold-left",3,null,function(e){var c=e.shift(),d=e.shift(),a=e;_.each(a,assert_list);return Call.multi_foreach(a,{call:function(g){var f=_.map(g,function(h){return h.car});f.unshift(d);return new Call(c,f)},result:function(f,g){d=f},finish:function(){return d}})});define_libfunc("fold-right",3,null,function(e){var c=e.shift(),d=e.shift();var a=_.map(e,function(f){assert_list(f);return array_to_list(f.to_array().reverse())});return Call.multi_foreach(a,{call:function(g){var f=_.map(g,function(h){return h.car});f.push(d);return new Call(c,f)},result:function(f,g){d=f},finish:function(){return d}})});define_libfunc("remp",2,2,function(d){var c=d[0],a=d[1];assert_list(a);var e=[];return Call.foreach(a,{call:function(f){return new Call(c,[f.car])},result:function(g,f){if(!g){e.push(f.car)}},finish:function(){return array_to_list(e)}})});var make_remover=function(a){return function(d){var f=d[0],c=d[1];assert_list(c);var e=[];return Call.foreach(c,{call:function(g){return new Call(TopEnv[a]||CoreEnv[a],[f,g.car])},result:function(h,g){if(!h){e.push(g.car)}},finish:function(){return array_to_list(e)}})}};define_libfunc("remove",2,2,make_remover("equal?"));define_libfunc("remv",2,2,make_remover("eqv?"));define_libfunc("remq",2,2,make_remover("eq?"));define_libfunc("memp",2,2,function(d){var c=d[0],a=d[1];assert_list(a);var e=[];return Call.foreach(a,{call:function(f){return new Call(c,[f.car])},result:function(g,f){if(g){return f}},finish:function(){return false}})});var make_finder=function(a){return function(d){var f=d[0],c=d[1];assert_list(c);var e=[];return Call.foreach(c,{call:function(g){return new Call(TopEnv[a]||CoreEnv[a],[f,g.car])},result:function(h,g){if(h){return g}},finish:function(){return false}})}};define_libfunc("member",2,2,make_finder("equal?"));define_libfunc("memv",2,2,make_finder("eqv?"));define_libfunc("memq",2,2,make_finder("eq?"));define_libfunc("assp",2,2,function(c){var a=c[0],e=c[1];assert_list(e);var d=[];return Call.foreach(e,{call:function(f){if(f.car.car){return new Call(a,[f.car.car])}else{throw new Error("ass*: pair required but got "+to_write(f.car))}},result:function(g,f){if(g){return f.car}},finish:function(){return false}})});var make_assoc=function(a){return function(d){var f=d[0],c=d[1];assert_list(c);var e=[];return Call.foreach(c,{call:function(g){if(g.car.car){return new Call(TopEnv[a]||CoreEnv[a],[f,g.car.car])}else{throw new Error("ass*: pair required but got "+to_write(g.car))}},result:function(h,g){if(h){return g.car}},finish:function(){return false}})}};define_libfunc("assoc",2,2,make_assoc("equal?"));define_libfunc("assv",2,2,make_assoc("eqv?"));define_libfunc("assq",2,2,make_assoc("eq?"));define_libfunc("cons*",1,null,function(a){if(a.length==1){return a[0]}else{var c=null;_.each(a.reverse(),function(d){if(c){c=new Pair(d,c)}else{c=d}});return c}});define_libfunc("list-sort",1,2,function(a){if(a[1]){throw new Bug("list-sort: cannot take compare proc now")}assert_list(a[0]);return array_to_list(a[0].to_array().sort())});define_libfunc("vector-sort",1,2,function(a){if(a[1]){throw new Bug("vector-sort: cannot take compare proc now")}assert_vector(a[0]);return _.clone(a[0]).sort()});define_libfunc("vector-sort!",1,2,function(a){if(a[1]){throw new Bug("vector-sort!: cannot take compare proc now")}assert_vector(a[0]);a[0].sort();return BiwaScheme.undef});define_syntax("when",function(c){var d=c.cdr.car,a=c.cdr.cdr;return new Pair(Sym("if"),new Pair(d,new Pair(new Pair(Sym("begin"),a),new Pair(BiwaScheme.undef,nil))))});define_syntax("unless",function(c){var d=c.cdr.car,a=c.cdr.cdr;return new Pair(Sym("if"),new Pair(new Pair(Sym("not"),new Pair(d,nil)),new Pair(new Pair(Sym("begin"),a),new Pair(BiwaScheme.undef,nil))))});define_syntax("do",function(h){if(!BiwaScheme.isPair(h.cdr)){throw new Error("do: no variables of do")}var l=h.cdr.car;if(!BiwaScheme.isPair(l)){throw new Error("do: variables must be given as a list")}if(!BiwaScheme.isPair(h.cdr.cdr)){throw new Error("do: no resulting form of do")}var a=h.cdr.cdr.car;var k=h.cdr.cdr.cdr;var d=BiwaScheme.gensym();var e=array_to_list(l.map(function(o){var m=o.to_array();return List(m[0],m[1])}));var f=a.car;var g=new Pair(Sym("begin"),a.cdr);var c=new Pair(d,array_to_list(l.map(function(o){var m=o.to_array();return m[2]||m[0]})));var j=new Pair(Sym("begin"),k).concat(List(c));return List(Sym("let"),d,e,List(Sym("if"),f,g,j))});define_syntax("case-lambda",function(a){});define_syntax("define-record-type",function(o){var u=o.cdr.car;var y=o.cdr.cdr;if(BiwaScheme.isSymbol(u)){var f=u;var B=Sym("make-"+u.name);var d=Sym(u.name+"?")}else{assert_list(u);var f=u.car;var B=u.cdr.car;var d=u.cdr.cdr.car;assert_symbol(f);assert_symbol(B);assert_symbol(d)}var A=false;var k=false;var a=false;var j=false;var g;var c=false;var t=false;var r=false;var v=[];_.each(y.to_array(),function(x){switch(x.car){case Sym("fields"):v=_.map(x.cdr.to_array(),function(D,C){if(BiwaScheme.isSymbol(D)){return{name:D,idx:C,mutable:false,accessor_name:null,mutator_name:null}}else{assert_list(D);assert_symbol(D.car);switch(D.car){case Sym("immutable"):var E=D.cdr.car;assert_symbol(E);if(BiwaScheme.isNil(D.cdr.cdr)){return{name:E,idx:C,mutable:false}}else{return{name:E,idx:C,mutable:false,accessor_name:D.cdr.cdr.car}}break;case Sym("mutable"):var E=D.cdr.car;assert_symbol(E);if(BiwaScheme.isNil(D.cdr.cdr)){return{name:E,idx:C,mutable:true}}else{return{name:E,idx:C,mutable:true,accessor_name:D.cdr.cdr.car,mutator_name:D.cdr.cdr.cdr.car}}break;default:throw new Error("define-record-type: field definition must start with `immutable' or 'mutable'")}}});break;case Sym("parent"):g=x.cdr.car;assert_symbol(g);break;case Sym("protocol"):r=x.cdr.car;break;case Sym("sealed"):A=!!x.cdr.car;break;case Sym("opaque"):k=!!x.cdr.car;break;case Sym("nongenerative"):a=true;j=x.cdr.car;break;case Sym("parent-rtd"):c=x.cdr.car;t=x.cdr.cdr.car;break;default:throw new BiwaScheme.Error("define-record-type: unknown clause `"+BiwaScheme.to_write(x.car)+"'")}});if(g){c=[Sym("record-type-descriptor"),g];t=[Sym("record-constructor-descriptor"),g]}var m=[Sym("record-type-descriptor"),f];var s=[Sym("record-constructor-descriptor"),f];var z=_.map(v,function(x){return List(Sym(x.mutable?"mutable":"immutable"),x.name)});z.is_vector=true;var w=[Sym("make-record-type-descriptor"),[Sym("quote"),f],c,j,A,k,z];var q=[Sym("make-record-constructor-descriptor"),Sym("__rtd"),t,r];var h=[Sym("let*"),[[Sym("__rtd"),w],[Sym("__cd"),q]],[Sym("_define-record-type"),[Sym("quote"),f],Sym("__rtd"),Sym("__cd")]];var l=_.map(v,function(C){var x=C.accessor_name||Sym(f.name+"-"+C.name.name);return[Sym("define"),x,[Sym("record-accessor"),m,C.idx]]});var e=_.filter(v,function(x){return x.mutable});e=_.map(e,function(C){var x=C.mutator_name||Sym("set-"+f.name+"-"+C.name.name+"!");return[Sym("define"),x,[Sym("record-mutator"),m,C.idx]]});return List.apply(null,[Sym("begin"),h,[Sym("define"),B,[Sym("record-constructor"),s]],[Sym("define"),d,[Sym("record-predicate"),m]]].concat(l).concat(e))});define_libfunc("_define-record-type",3,3,function(a){assert_symbol(a[0]);assert_record_td(a[1]);assert_record_cd(a[2]);BiwaScheme.Record.define_type(a[0].name,a[1],a[2]);return BiwaScheme.undef});define_syntax("record-type-descriptor",function(a){return List(Sym("_record-type-descriptor"),[Sym("quote"),a.cdr.car])});define_libfunc("_record-type-descriptor",1,1,function(a){assert_symbol(a[0]);var c=BiwaScheme.Record.get_type(a[0].name);if(c){return c.rtd}else{throw new Error("record-type-descriptor: unknown record type "+a[0].name)}});define_syntax("record-constructor-descriptor",function(a){return List(Sym("_record-constructor-descriptor"),[Sym("quote"),a.cdr.car])});define_libfunc("_record-constructor-descriptor",1,1,function(a){assert_symbol(a[0]);var c=BiwaScheme.Record.get_type(a[0].name);if(c){return c.cd}else{throw new Error("record-constructor-descriptor: unknown record type "+a[0].name)}});define_libfunc("make-record-type-descriptor",6,6,function(g){var c=g[0],d=g[1],l=g[2],e=g[3],j=g[4],k=g[5];assert_symbol(c);if(d){assert_record_td(d)}if(l){assert_symbol(l);var f=BiwaScheme.Record.RTD.NongenerativeRecords[l.name];if(f){return f}}e=!!e;j=!!j;assert_vector(k);for(var h=0;h<k.length;h++){var m=k[h];assert_symbol(m.car,"mutability");assert_symbol(m.cdr.car,"field name");k[h]=[m.cdr.car.name,(m.car==Sym("mutable"))]}var a=new BiwaScheme.Record.RTD(c,d,l,e,j,k);if(l){BiwaScheme.Record.RTD.NongenerativeRecords[l.name]=a}return a});define_libfunc("record-type-descriptor?",1,1,function(a){return(a[0] instanceof BiwaScheme.Record.RTD)});define_libfunc("make-record-constructor-descriptor",3,3,function(a){var c=a[0],d=a[1],e=a[2];assert_record_td(c);if(d){assert_record_cd(d)}if(e){assert_procedure(e)}return new BiwaScheme.Record.CD(c,d,e)});define_libfunc("record-constructor",1,1,function(a){var c=a[0];assert_record_cd(c);return c.record_constructor()});define_libfunc("record-predicate",1,1,function(a){var c=a[0];assert_record_td(c);return function(d){var e=d[0];return(e instanceof BiwaScheme.Record)&&(e.rtd===c)}});define_libfunc("record-accessor",2,2,function(c){var d=c[0],a=c[1];assert_record_td(d);assert_integer(a);for(var e=d.parent_rtd;e;e=e.parent_rtd){a+=e.fields.length}return function(g){var f=g[0];assert_record(f);var h=false;for(var j=f.rtd;j;j=j.parent_rtd){if(j==d){h=true}}assert(h,"(record-accessor): "+BiwaScheme.to_write(f)+" is not a "+d.name);return f.get(a)}});define_libfunc("record-mutator",2,2,function(c){var d=c[0],a=c[1];assert_record_td(d);assert_integer(a);for(var e=d.parent_rtd;e;e=e.parent_rtd){a+=e.fields.length}return function(g){var f=g[0],h=g[1];assert_record(f);assert(f.rtd===d,"(record-mutator): "+BiwaScheme.to_write(f)+" is not a "+d.name);assert(!f.rtd.sealed,"(record-mutator): "+d.name+" is sealed (can't mutate)");f.set(a,h)}});define_libfunc("record?",1,1,function(a){var c=a[0];if(BiwaScheme.isRecord(c)){if(c.rtd.opaque){return false}else{return true}}else{return false}});define_libfunc("record-rtd",1,1,function(a){assert_record(a[0]);return a[0].rtd});define_libfunc("record-type-name",1,1,function(a){assert_record_td(a[0]);return a[0].name});define_libfunc("record-type-parent",1,1,function(a){assert_record_td(a[0]);return a[0].parent_rtd});define_libfunc("record-type-uid",1,1,function(a){assert_record_td(a[0]);return a[0].uid});define_libfunc("record-type-generative?",1,1,function(a){assert_record_td(a[0]);return a[0].generative});define_libfunc("record-type-sealed?",1,1,function(a){assert_record_td(a[0]);return a[0].sealed});define_libfunc("record-type-opaque?",1,1,function(a){assert_record_td(a[0]);return a[0].opaque});define_libfunc("record-type-field-names",1,1,function(a){assert_record_td(a[0]);return _.map(a[0].fields,function(c){return c.name})});define_libfunc("record-field-mutable?",2,2,function(c){var d=c[0],a=c[1];assert_record_td(c[0]);assert_integer(a);for(var e=d.parent_rtd;e;e=e.parent_rtd){a+=e.fields.length}return c[0].fields[a].mutable});define_libfunc("raise",1,1,function(a){throw new BiwaScheme.UserError(BiwaScheme.to_write(a[0]))});define_libfunc("port?",1,1,function(a){return(a[0] instanceof Port)});define_libfunc("textual-port?",1,1,function(a){assert_port(a[0]);return !a[0].is_binary});define_libfunc("binary-port?",1,1,function(a){assert_port(a[0]);return a[0].is_binary});define_libfunc("close-port",1,1,function(a){assert_port(a[0]);a[0].close();return BiwaScheme.undef});define_libfunc("call-with-port",2,2,function(d){var c=d[0],a=d[1];assert_port(c);assert_closure(a);return new Call(a,[c],function(e){c.close();return e[0]})});define_libfunc("put-char",2,2,function(a){assert_port(a[0]);assert_char(a[1]);a[0].put_string(a[1].value);return BiwaScheme.undef});define_libfunc("put-string",2,2,function(a){assert_port(a[0]);assert_string(a[1]);a[0].put_string(a[1]);return BiwaScheme.undef});define_libfunc("put-datum",2,2,function(a){assert_port(a[0]);a[0].put_string(to_write(a[1]));return BiwaScheme.undef});define_libfunc("eof-object",0,0,function(a){return eof});define_libfunc("eof-object?",1,1,function(a){return a[0]===eof});define_libfunc("input-port?",1,1,function(a){assert_port(a[0]);return a[0].is_input});define_libfunc("output-port?",1,1,function(a){assert_port(a[0]);return a[0].is_output});define_libfunc("current-input-port",0,0,function(a){return Port.current_input});define_libfunc("current-output-port",0,0,function(a){return Port.current_output});define_libfunc("current-error-port",0,0,function(a){return Port.current_error});define_libfunc("close-input-port",1,1,function(a){assert_port(a[0]);if(!a[0].is_input){throw new Error("close-input-port: port is not input port")}a[0].close();return BiwaScheme.undef});define_libfunc("close-output-port",1,1,function(a){assert_port(a[0]);if(!a[0].is_output){throw new Error("close-output-port: port is not output port")}a[0].close();return BiwaScheme.undef});define_libfunc("read",0,1,function(c){var a=c[0]||Port.current_input;assert_port(a);return a.get_string(function(d){return Interpreter.read(d)})});define_libfunc("newline",0,1,function(c){var a=c[0]||Port.current_output;a.put_string("\n");return BiwaScheme.undef});define_libfunc("display",1,2,function(c){var a=c[1]||Port.current_output;a.put_string(to_display(c[0]));return BiwaScheme.undef});define_libfunc("write",1,2,function(c){var a=c[1]||Port.current_output;assert_port(a);a.put_string(to_write(c[0]));return BiwaScheme.undef});define_libfunc("file-exists?",1,1,function(c){netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");assert_string(c[0]);var a=FileIO.open(c[0]);return a.exists()});define_libfunc("delete-file",1,1,function(c){netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");assert_string(c[0]);var a=FileIO.unlink(FileIO.open(c[0]));if(!a){puts("delete-file: cannot delete "+c[0])}return BiwaScheme.undef});define_libfunc("make-eq-hashtable",0,1,function(a){return new Hashtable(Hashtable.eq_hash,Hashtable.eq_equiv)});define_libfunc("make-eqv-hashtable",0,1,function(a){return new Hashtable(Hashtable.eqv_hash,Hashtable.eqv_equiv)});define_libfunc("make-hashtable",2,3,function(a){assert_procedure(a[0]);assert_procedure(a[1]);return new Hashtable(a[0],a[1])});define_libfunc("hashtable?",1,1,function(a){return a[0] instanceof Hashtable});define_libfunc("hashtable-size",1,1,function(a){assert_hashtable(a[0]);return a[0].keys().length});BiwaScheme.find_hash_pair=function(d,a,c){return new Call(d.hash_proc,[a],function(e){var g=e[0];var f=d.candidate_pairs(g);if(!f){return c.on_not_found(g)}return Call.foreach(f,{call:function(h){return new Call(d.equiv_proc,[a,h[0]])},result:function(h,j){if(h){return c.on_found(j,g)}},finish:function(){return c.on_not_found(g)}})})};define_libfunc("hashtable-ref",3,3,function(a){var e=a[0],c=a[1],d=a[2];assert_hashtable(e);return BiwaScheme.find_hash_pair(e,c,{on_found:function(f){return f[1]},on_not_found:function(f){return d}})});define_libfunc("hashtable-set!",3,3,function(a){var e=a[0],c=a[1],d=a[2];assert_hashtable(e);return BiwaScheme.find_hash_pair(e,c,{on_found:function(f){f[1]=d;return BiwaScheme.undef},on_not_found:function(f){e.add_pair(f,c,d);return BiwaScheme.undef}})});define_libfunc("hashtable-delete!",2,2,function(a){var d=a[0],c=a[1];assert_hashtable(d);return BiwaScheme.find_hash_pair(d,c,{on_found:function(f,e){d.remove_pair(e,f);return BiwaScheme.undef},on_not_found:function(e){return BiwaScheme.undef}})});define_libfunc("hashtable-contains?",2,2,function(a){var d=a[0],c=a[1];assert_hashtable(d);return BiwaScheme.find_hash_pair(d,c,{on_found:function(e){return true},on_not_found:function(e){return false}})});define_libfunc("hashtable-update!",4,4,function(c){var f=c[0],d=c[1],a=c[2],e=c[3];assert_hashtable(f);assert_procedure(a);return BiwaScheme.find_hash_pair(f,d,{on_found:function(h,g){return new Call(a,[h[1]],function(j){h[1]=j[0];return BiwaScheme.undef})},on_not_found:function(g){return new Call(a,[e],function(h){f.add_pair(g,d,h[0]);return BiwaScheme.undef})}})});define_libfunc("hashtable-copy",1,2,function(c){var a=(c[1]===undefined)?false:!!c[1];assert_hashtable(c[0]);return c[0].create_copy(a)});define_libfunc("hashtable-clear!",0,1,function(a){assert_hashtable(a[0]);a[0].clear();return BiwaScheme.undef});define_libfunc("hashtable-keys",1,1,function(a){assert_hashtable(a[0]);return a[0].keys()});define_libfunc("hashtable-entries",1,1,function(a){assert_hashtable(a[0]);return new Values([a[0].keys(),a[0].values()])});define_libfunc("hashtable-equivalence-function",1,1,function(a){assert_hashtable(a[0]);return a[0].equiv_proc});define_libfunc("hashtable-hash-function",1,1,function(a){assert_hashtable(a[0]);return a[0].hash_proc});define_libfunc("hashtable-mutable?",1,1,function(a){assert_hashtable(a[0]);return a[0].mutable});define_libfunc("equal-hash",0,0,function(a){return Hashtable.equal_hash});define_libfunc("string-hash",0,0,function(a){return Hashtable.string_hash});define_libfunc("string-ci-hash",0,0,function(a){return Hashtable.string_ci_hash});define_libfunc("symbol-hash",0,0,function(a){return Hashtable.symbol_hash});define_libfunc("eval",1,1,function(c,a){var d=c[0];var a=new BiwaScheme.Interpreter(a.on_error);return a.evaluate(d.to_write())})}if(typeof(BiwaScheme)!="object"){BiwaScheme={}}with(BiwaScheme){define_libfunc_raw("js-eval",1,1,function(ar){return eval(ar[0])});define_libfunc_raw("js-ref",2,2,function(a){assert_string(a[1]);return a[0][a[1]]});define_libfunc("js-set!",3,3,function(a){assert_string(a[1]);a[0][a[1]]=a[2];return BiwaScheme.undef});define_libfunc_raw("js-call",1,null,function(a){var c=a.shift();assert_function(c);var d=null;return c.apply(d,a)});define_libfunc_raw("js-invoke",2,null,function(d){var c=d.shift();var a=d.shift();assert_string(a);if(c[a]){return c[a].apply(c,d)}else{throw new Error("js-invoke: function "+a+" is not defined")}});define_libfunc("js-new",1,null,function(ar,intp){var array_to_obj=function(ary){if((ary.length%2)!=0){throw new Error("js-new: odd number of key-value pair")}var obj={};for(var i=0;i<ary.length;i+=2){var key=ary[i],value=ary[i+1];assert_symbol(key);if(value.closure_p===true){value=BiwaScheme.js_closure(value,intp)}obj[key.name]=value}return obj};var ctor=ar.shift();assert_string(ctor);if(ar.length==0){return eval("new "+ctor+"()")}else{var args=[];for(var i=0;i<ar.length;i++){if(ar[i] instanceof Symbol){args.push(array_to_obj(ar.slice(i)));break}else{args.push(ar[i])}}var args_str=_.map(ar,function(value,i){return"args['"+i+"']"}).join(",");return eval("new "+ctor+"("+args_str+")")}});define_libfunc("js-obj",0,null,function(a){if(a.length%2!=0){throw new Error("js-obj: number of arguments must be even")}var c={};for(i=0;i<a.length/2;i++){assert_string(a[i*2]);c[a[i*2]]=a[i*2+1]}return c});BiwaScheme.js_closure=function(a,d){var c=d.on_error;return function(){var e=new Interpreter(c);return e.invoke_closure(a,_.toArray(arguments))}};define_libfunc("js-closure",1,1,function(c,a){assert_closure(c[0]);return BiwaScheme.js_closure(c[0],a)});define_libfunc("js-null?",1,1,function(a){return a[0]===null});define_libfunc("js-undefined?",1,1,function(a){return a[0]===undefined});define_libfunc_raw("js-array-to-list",1,1,function(a){return BiwaScheme.array_to_list(a[0])});define_libfunc_raw("list-to-js-array",1,1,function(a){return a[0].to_array()});define_libfunc("timer",2,2,function(d,c){var a=d[0],e=d[1];assert_closure(a);assert_real(e);setTimeout(function(){(new Interpreter(c.on_error)).invoke_closure(a)},e*1000);return BiwaScheme.undef});define_libfunc("set-timer!",2,2,function(d,c){var a=d[0],e=d[1];assert_closure(a);assert_real(e);return setInterval(function(){(new Interpreter(c.on_error)).invoke_closure(a)},e*1000)});define_libfunc("clear-timer!",1,1,function(a){var c=a[0];clearInterval(c);return BiwaScheme.undef});define_libfunc("sleep",1,1,function(a){var c=a[0];assert_real(c);return new BiwaScheme.Pause(function(d){setTimeout(function(){d.resume(nil)},c*1000)})})}if(typeof(BiwaScheme)!="object"){BiwaScheme={}}with(BiwaScheme){define_libfunc("html-escape",1,1,function(a){assert_string(a[0]);return _.escapeHTML(a[0])});BiwaScheme.inspect_objs=function(a){return _.map(a,BiwaScheme.inspect).join(", ")};define_libfunc("inspect",1,null,function(a){return BiwaScheme.inspect_objs(a)});define_libfunc("inspect!",1,null,function(a){puts(BiwaScheme.inspect_objs(a));return BiwaScheme.undef});BiwaScheme.json2sexp=function(c){switch(true){case _.isNumber(c)||_.isString(c)||c===true||c===false:return c;case _.isArray(c):return array_to_list(_.map(c,json2sexp));case typeof(c)=="object":var a=nil;for(key in c){a=new Pair(new Pair(key,json2sexp(c[key])),a)}return a;default:throw new Error("json->sexp: detected invalid value for json: "+BiwaScheme.inspect(c))}throw new Bug("must not happen")};define_libfunc("json->sexp",1,1,function(a){return json2sexp(a[0])});define_libfunc("identity",1,1,function(a){return a[0]});define_libfunc("string-concat",1,1,function(a){assert_list(a[0]);return a[0].to_array().join("")});define_libfunc("string-split",2,2,function(a){assert_string(a[0]);assert_string(a[1]);return array_to_list(a[0].split(a[1]))});define_libfunc("string-join",1,2,function(a){assert_list(a[0]);var c="";if(a[1]){assert_string(a[1]);c=a[1]}return a[0].to_array().join(c)});define_libfunc("intersperse",2,2,function(c){var e=c[0],a=c[1];assert_list(a);var d=[];_.each(a.to_array().reverse(),function(f){d.push(f);d.push(e)});d.pop();return array_to_list(d)});define_libfunc("map-with-index",2,null,function(d){var c=d.shift(),a=d;_.each(a,assert_list);var f=[],e=0;return Call.multi_foreach(a,{call:function(h){var g=_.map(h,function(j){return j.car});g.unshift(e);e++;return new Call(c,g)},result:function(g){f.push(g)},finish:function(){return array_to_list(f)}})});var sort_with_comp=function(c,a){return c.sort(function(e,d){var f=new BiwaScheme.Interpreter();return f.invoke_closure(a,[e,d])})};define_libfunc("list-sort/comp",1,2,function(a){assert_procedure(a[0]);assert_list(a[1]);return array_to_list(sort_with_comp(a[1].to_array(),a[0]))});define_libfunc("vector-sort/comp",1,2,function(a){assert_procedure(a[0]);assert_vector(a[1]);return sort_with_comp(_.clone(a[1]),a[0])});define_libfunc("vector-sort/comp!",1,2,function(a){assert_procedure(a[0]);assert_vector(a[1]);sort_with_comp(a[1],a[0]);return BiwaScheme.undef});var rearrange_args=function(d,f){var a=[];var e=(new Compiler).find_dot_pos(d);if(e==-1){a=f}else{for(var c=0;c<e;c++){a[c]=f[c]}a[c]=array_to_list(f.slice(c))}return a};define_syntax("define-macro",function(c){var h=c.cdr.car;var e;if(h instanceof Pair){var g=h.car;e=h.cdr;var a=c.cdr.cdr;var f=new Pair(Sym("lambda"),new Pair(e,a))}else{var g=h;var f=c.cdr.cdr.car;e=f.cdr.car}var j=Compiler.compile(f);if(j[1]!=0){throw new Bug("you cannot use free variables in macro expander (or define-macro must be on toplevel)")}var d=[j[2]];TopEnv[g.name]=new Syntax(g.name,function(q){var o=q.to_array();o.shift();var l=new Interpreter();var m=rearrange_args(e,o);var k=l.invoke_closure(d,m);return k});return BiwaScheme.undef});var macroexpand_1=function(c){if(c instanceof Pair){if(c.car instanceof Symbol&&TopEnv[c.car.name] instanceof Syntax){var a=TopEnv[c.car.name];c=a.transform(c)}else{throw new Error("macroexpand-1: `"+to_write_ss(c)+"' is not a macro")}}return c};define_syntax("%macroexpand",function(a){var c=(new Interpreter).expand(a.cdr.car);return List(Sym("quote"),c)});define_syntax("%macroexpand-1",function(a){var c=macroexpand_1(a.cdr.car);return List(Sym("quote"),c)});define_libfunc("macroexpand",1,1,function(a){return(new Interpreter).expand(a[0])});define_libfunc("macroexpand-1",1,1,function(a){return macroexpand_1(a[0])});define_libfunc("gensym",0,0,function(a){return BiwaScheme.gensym()});define_libfunc("print",1,null,function(a){_.map(a,function(c){puts(to_display(c),true)});puts("");return BiwaScheme.undef});define_libfunc("write-to-string",1,1,function(a){return to_write(a[0])});define_libfunc("read-from-string",1,1,function(a){assert_string(a[0]);return Interpreter.read(a[0])});define_libfunc("port-closed?",1,1,function(a){assert_port(a[0]);return !(a[0].is_open)});define_syntax("let1",function(c){var d=c.cdr.car;var e=c.cdr.cdr.car;var a=c.cdr.cdr.cdr;return new Pair(new Pair(Sym("lambda"),new Pair(new Pair(d,nil),a)),new Pair(e,nil))});var assert_regexp=function(a,c){if(!(a instanceof RegExp)){throw new Error(c+": regexp required, but got "+to_write(a))}};define_libfunc("string->regexp",1,1,function(a){assert_string(a[0],"string->regexp");return new RegExp(a[0])});define_libfunc("regexp?",1,1,function(a){return(a[0] instanceof RegExp)});define_libfunc("regexp->string",1,1,function(a){assert_regexp(a[0],"regexp->string");return a[0].toString().slice(1,-1)});define_libfunc("regexp-exec",2,2,function(a){var d=a[0];if(_.isString(a[0])){d=new RegExp(a[0])}assert_regexp(d,"regexp-exec");assert_string(a[1],"regexp-exec");var c=d.exec(a[1]);return(c===null)?false:array_to_list(c)})}with(BiwaScheme){define_libfunc("iota",1,3,function(d){var g=d[0];var j=d[1]||0;var f=(d[2]===undefined)?1:d[2];assert_integer(g);assert_number(j);assert_number(f);var c=[],h=j;for(var e=0;e<g;e++){c.push(h);h+=f}return array_to_list(c)});define_libfunc("open-input-string",1,1,function(a){assert_string(a[0]);return new Port.StringInput(a[0])});define_libfunc("open-output-string",0,0,function(a){return new Port.StringOutput()});define_libfunc("get-output-string",1,1,function(a){assert_port(a[0]);if(!(a[0] instanceof Port.StringOutput)){throw new Error("get-output-string: port must be made by 'open-output-string'")}return a[0].output_string()});define_libfunc("current-date",0,1,function(a){return new Date()});define_libfunc("date?",1,1,function(a){return(a[0] instanceof Date)});define_libfunc("date-nanosecond",1,1,function(a){assert_date(a[0]);return a[0].getMilliseconds()*1000000});define_libfunc("date-millisecond",1,1,function(a){assert_date(a[0]);return a[0].getMilliseconds()});define_libfunc("date-second",1,1,function(a){assert_date(a[0]);return a[0].getSeconds()});define_libfunc("date-minute",1,1,function(a){assert_date(a[0]);return a[0].getMinutes()});define_libfunc("date-hour",1,1,function(a){assert_date(a[0]);return a[0].getHours()});define_libfunc("date-day",1,1,function(a){assert_date(a[0]);return a[0].getDate()});define_libfunc("date-month",1,1,function(a){assert_date(a[0]);return a[0].getMonth()+1});define_libfunc("date-year",1,1,function(a){assert_date(a[0]);return a[0].getFullYear()});define_libfunc("date-week-day",1,1,function(a){assert_date(a[0]);return a[0].getDay()});BiwaScheme.date_names={weekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],full_weekday:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],full_month:["January","February","March","April","May","June","July","August","September","Octorber","November","December"]};BiwaScheme.date2string=function(d,e){var f=function(g){return g<10?"0"+g:""+g};var c=function(g){return g<10?" "+g:""+g};var a={a:function(g){return date_names.weekday[g.getDay()]},A:function(g){return date_names.full_weekday[g.getDay()]},b:function(g){return date_names.month[g.getMonth()]},B:function(g){return date_names.full_month[g.getMonth()]},c:function(g){return g.toString()},d:function(g){return f(g.getDate())},D:function(g){return a.d(g)+a.m(g)+a.y(g)},e:function(g){return c(g.getDate())},f:function(g){return g.getSeconds()+g.getMilliseconds()/1000},h:function(g){return date_names.month[g.getMonth()]},H:function(g){return f(g.getHours())},I:function(g){var j=g.getHours();return f(j<13?j:j-12)},j:function(g){throw new Bug("not implemented: day of year")},k:function(g){return c(g.getHours())},l:function(g){var j=g.getHours();return c(j<13?j:j-12)},m:function(g){return f(g.getMonth())},M:function(g){return f(g.getMinutes())},n:function(g){return"\n"},N:function(g){throw new Bug("not implemented: nanoseconds")},p:function(g){return g.getHours()<13?"AM":"PM"},r:function(g){return a.I(g)+":"+a.M(g)+":"+a.S(g)+" "+a.p(g)},s:function(g){return Math.floor(g.getTime()/1000)},S:function(g){return f(g.getSeconds())},t:function(g){return"\t"},T:function(g){return a.H(g)+":"+a.M(g)+":"+a.S(g)},U:function(g){throw new Bug("not implemented: weeknum(0~, Sun)")},V:function(g){throw new Bug("not implemented: weeknum(1~, Sun?)")},w:function(g){return g.getDay()},W:function(g){throw new Bug("not implemented: weeknum(0~, Mon)")},x:function(g){throw new Bug("not implemented: weeknum(1~, Mon)")},X:function(g){return a.Y(g)+"/"+a.m(g)+"/"+a.d(g)},y:function(g){return g.getFullYear()%100},Y:function(g){return g.getFullYear()},z:function(g){throw new Bug("not implemented: time-zone")},Z:function(g){throw new Bug("not implemented: symbol time zone")},1:function(g){throw new Bug("not implemented: ISO-8601 year-month-day format")},2:function(g){throw new Bug("not implemented: ISO-8601 hour-minute-second-timezone format")},3:function(g){throw new Bug("not implemented: ISO-8601 hour-minute-second format")},4:function(g){throw new Bug("not implemented: ISO-8601 year-month-day-hour-minute-second-timezone format")},5:function(g){throw new Bug("not implemented: ISO-8601 year-month-day-hour-minute-second format")}};return e.replace(/~([\w1-5~])/g,function(j,g){var h=a[g];if(h){return h(d)}else{if(g=="~"){return"~"}else{return g}}})};define_libfunc("date->string",1,2,function(a){assert_date(a[0]);if(a[1]){assert_string(a[1]);return date2string(a[0],a[1])}else{return a[0].toString()}});define_libfunc("parse-date",1,1,function(a){assert_string(a[0]);return new Date(Date.parse(a[0]))});define_libfunc("random-integer",1,1,function(a){var c=a[0];assert_integer(c);if(c<0){throw new Error("random-integer: the argument must be >= 0")}else{return Math.floor(Math.random()*a[0])}});define_libfunc("random-real",0,0,function(a){return Math.random()});var user_write_ss=function(a){puts(write_ss(a[0]),true);return BiwaScheme.undef};define_libfunc("write/ss",1,2,user_write_ss);define_libfunc("write-with-shared-structure",1,2,user_write_ss);define_libfunc("write*",1,2,user_write_ss);define_libfunc("vector-append",2,null,function(a){var c=[];return c.concat.apply(c,a)})}if(typeof(BiwaScheme)!="object"){BiwaScheme={}}with(BiwaScheme){define_libfunc("read-line",0,1,function(c){var a=c[0]||Port.current_input;assert_port(a);return a.get_string()});define_libfunc("element-empty!",1,1,function(a){if($(a[0]).attr("value")){return $(a[0]).val("")}else{return $(a[0]).empty()}});alias_libfunc("element-empty!","element-clear!");define_libfunc("element-visible?",1,1,function(a){return $(a[0]).is(":visible")});define_libfunc("element-toggle!",1,1,function(a){return $(a[0]).toggle()});define_libfunc("element-hide!",1,1,function(a){return $(a[0]).hide()});define_libfunc("element-show!",1,1,function(a){return $(a[0]).show()});define_libfunc("element-remove!",1,1,function(a){return $(a[0]).remove()});define_libfunc("element-update!",2,2,function(a){return $(a[0]).html(a[1])});define_libfunc("element-replace!",2,2,function(a){return $(a[0]).replaceWith(a[1])});define_libfunc("element-insert!",2,2,function(a){return $(a[0]).append(a[1])});define_libfunc("element-wrap!",3,3,function(a){throw new Bug("not yet implemented")});define_libfunc("element-ancestors",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-descendants",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-first-descendant",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-immediate-descendants",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-previous-sibling",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-next-sibling",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-siblings",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-match?",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-up",3,3,function(a){throw new Bug("not yet implemented")});define_libfunc("element-down",3,3,function(a){throw new Bug("not yet implemented")});define_libfunc("element-previous",3,3,function(a){throw new Bug("not yet implemented")});define_libfunc("element-next",3,3,function(a){throw new Bug("not yet implemented")});define_libfunc("element-select",0,0,function(a){throw new Bug("not yet implemented")});define_libfunc("element-adjacent",0,0,function(a){throw new Bug("not yet implemented")});define_libfunc("element-identify",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-read-attribute",2,2,function(a){assert_string(a[1]);return $(a[0]).attr(a[1])});define_libfunc("element-write-attribute",3,3,function(a){assert_string(a[1]);return $(a[0]).attr(a[1],a[2])});define_libfunc("element-height",1,1,function(a){return $(a[0]).height()});define_libfunc("element-width",1,1,function(a){return $(a[0]).width()});define_libfunc("element-class-names",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-has-class-name?",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-add-class-name",2,2,function(a){assert_string(a[1]);return $(a[0]).addClass(a[1],a[2])});define_libfunc("element-remove-class-name",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-toggle-class-name",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-clean-whitespace!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-empty?",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-descendant-of!",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("scroll-to-element!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-style",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-opacity",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-style-set!",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-opacity-set!",2,2,function(a){throw new Bug("not yet implemented")});define_libfunc("element-dimensions",1,1,function(a){return new Values($(a[0]).width(),$(a[0]).height())});define_libfunc("element-make-positioned!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-undo-positioned!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-make-clipping!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-undo-clipping!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-cumulative-offset",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-positioned-offset",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-absolutize!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-relativize!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-cumulative-scroll-offset",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-offset-parent",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-viewport-offset",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-clone-position!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-absolutize!",1,1,function(a){throw new Bug("not yet implemented")});define_libfunc("element-focus!",1,1,function(a){return $(a[0]).focus()});BiwaScheme.create_elements_by_string=function(c){c=c.to_array();var d=c.shift();if(d instanceof Symbol){d=d.name}var a=d.match(/(.*)\.(.*)/);if(a){d=a[1];c.unshift(Sym("class"),a[2])}a=d.match(/(.*)\#(.*)/);if(a){d=a[1];c.unshift(Sym("id"),a[2])}var f=[];var g=["<"+d];for(var e=0;e<c.length;e++){if(c[e] instanceof Symbol){g.push(" "+c[e].name+'="'+c[e+1]+'"');e++}else{if(c[e] instanceof Pair){f.push(create_elements_by_string(c[e]))}else{f.push(c[e])}}}g.push(">");g.push(f.join(""));g.push("</"+d+">");return g.join("")};BiwaScheme.tree_all=function(a,c){if(a===nil){return true}else{if(c(a.car)===false){return false}else{return BiwaScheme.tree_all(a.cdr,c)}}};define_libfunc("element-new",1,1,function(a){var c=function(d){return _.isString(d)||(d instanceof Symbol)||(d instanceof Pair)};if(BiwaScheme.tree_all(a[0],c)){return $(create_elements_by_string(a[0]))[0]}else{return nil}});BiwaScheme.element_content=function(a){if($(a).attr("value")){return $(a).val()}else{return _.escapeHTML($(a).html())}};define_libfunc("element-content",1,1,function(a){return BiwaScheme.element_content(a[0])});define_libfunc("load",1,1,function(c,a){var d=c[0];assert_string(d);return new BiwaScheme.Pause(function(e){$.ajax(d,{success:function(g){var f=new Interpreter(a.on_error);f.evaluate(g,function(){return e.resume(BiwaScheme.undef)})},error:function(){throw new Error("load: network error: failed to load"+d)}})})});_require=function(f,c,a){var d=$("<script/>",{src:f});$("body").append(d);var e=new Function("return !!("+c+")");if(e()){a()}else{setTimeout(function(){e()?a():setTimeout(arguments.callee,10)},10)}};define_libfunc("js-load",2,2,function(c){var d=c[0];var a=c[1];assert_string(d);assert_string(a);return new BiwaScheme.Pause(function(e){_require(d,"window."+a,function(){e.resume(BiwaScheme.undef)})})});BiwaScheme.getelem=function(c){var a=$(c[0]);if(a.length>0){return a}else{return false}};define_libfunc("$",1,1,BiwaScheme.getelem);define_libfunc("getelem",1,1,BiwaScheme.getelem);define_libfunc("dom-element",1,1,function(a){return $(a[0])[0]});define_libfunc("set-style!",3,3,function(a){assert_string(a[1]);$(a[0]).css(a[1],a[2]);return BiwaScheme.undef});define_libfunc("get-style",2,2,function(a){assert_string(a[1]);return $(a[0]).css(a[1])});define_libfunc("set-content!",2,2,function(a){assert_string(a[1]);var c=a[1].replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;");$(a[0]).html(c);return BiwaScheme.undef});define_libfunc("get-content",1,1,function(a){return BiwaScheme.element_content(a[0])});define_libfunc("set-handler!",3,3,function(c,a){throw new Error("set-handler! is obsolete, please use add-handler! instead")});define_libfunc("add-handler!",3,3,function(f,e){var a=f[0],g=f[1],c=f[2];var d=e.on_error;$(a).bind(g,function(j){var h=new Interpreter(d);return h.invoke_closure(c,[j])});return BiwaScheme.undef});define_libfunc("wait-for",2,2,function(c){var a=c[0],f=c[1];var d=$(a);d.biwascheme_wait_for=d.biwascheme_wait_for||{};var e=d.biwascheme_wait_for[f];if(e){d.unbind(f,e)}return new BiwaScheme.Pause(function(h){var g=function(j){d.biwascheme_wait_for[f]=undefined;d.unbind(f,g);return h.resume(BiwaScheme.undef)};d.biwascheme_wait_for[f]=g;d.bind(f,g)})});define_libfunc("domelem",1,null,function(a){throw new Error("obsolete")});define_libfunc("dom-remove-children!",1,1,function(a){puts("warning: dom-remove-children! is obsolete. use element-empty! instead");$(a[0]).empty();return BiwaScheme.undef});define_libfunc("dom-create-element",1,1,function(a){throw new Error("obsolete")});define_libfunc("element-append-child!",2,2,function(a){return $(a[0]).append(a[1])});define_libfunc("dom-remove-child!",2,2,function(a){throw new Error("obsolete")});define_libfunc("http-request",1,1,function(a){var c=a[0];assert_string(c);return new BiwaScheme.Pause(function(d){$.get(c,function(e){d.resume(e.responseText)})})});define_libfunc("http-post",2,2,function(a){var e=a[0];assert_string(e);var d=a[1];assert_list(d);var c={};d.foreach(function(f){assert_string(f.car);c[f.car]=f.cdr});return new BiwaScheme.Pause(function(f){$.post(e,c,function(g){f.resume(g.responseText)})})});BiwaScheme.jsonp_receiver=[];define_libfunc("receive-jsonp",1,1,function(a){var d=a[0];assert_string(d);var f=BiwaScheme.jsonp_receiver;for(var e=0;e<f.length;e++){if(f[e]===null){break}}var c=e;d+="?callback=BiwaScheme.jsonp_receiver["+c+"]";return new BiwaScheme.Pause(function(h){f[c]=function(j){h.resume(j);f[c]=null};var g=$("<script/>",{src:src});$("body").append(g)})});define_libfunc("alert",1,1,function(a){alert(a[0]);return BiwaScheme.undef});define_libfunc("confirm",1,1,function(a){return confirm(a[0])})}with(BiwaScheme){BiwaScheme.Dumper=BiwaScheme.Class.create({initialize:function(a){this.dumparea=a||$("#dumparea")[0]||null;this.reset()},reset:function(){if(this.dumparea){$(this.dumparea).empty()}this.n_folds=0;this.closures=[];this.n_dumps=0;this.cur=-1;this.is_folded=true},is_opc:function(a){return(a instanceof Array&&typeof(a[0])=="string")},dump_pad:"&nbsp;&nbsp;&nbsp;",dump_opc:function(e,g){var c="";var f="",d="";var g=g||0;_.times(g,_.bind(function(){f+=this.dump_pad},this));_.times((g+1),_.bind(function(){d+=this.dump_pad},this));c+=f+'[<span class="dump_opecode">'+e[0]+"</span>";var a=1;while(!(e[a] instanceof Array)&&a<e.length){if(e[0]=="constant"){c+="&nbsp;<span class='dump_constant'>"+this.dump_obj(e[a])+"</span>"}else{c+="&nbsp;"+this.dump_obj(e[a])}a++}if(a<e.length){c+="<br>\n"}for(;a<e.length;a++){if(this.is_opc(e[a])){c+=this.dump_opc(e[a],(a==e.length-1?g:g+1))}else{c+=(a==e.length-1)?f:d;c+=this.dump_obj(e[a])}if(a!=e.length-1){c+="<br>\n"}}c+="]";return(g==0?this.add_fold(c):c)},fold_limit:20,add_fold:function(f){var c=f.split(/<br>/gmi);if(c.length>this.fold_limit){var e=" <span style='text-decoration:underline; color:blue; cursor:pointer;'onclick='BiwaScheme.Dumper.toggle_fold("+this.n_folds+")'>more</span>";var a="<div style='display:none' id='fold"+this.n_folds+"'>";var d="</div>";this.n_folds++;return[c.slice(0,this.fold_limit).join("<br>"),e,a,c.slice(this.fold_limit+1).join("<br>"),d].join("")}else{return f}},stack_max_len:80,dump_stack:function(f,d){if(f===null||f===undefined){return BiwaScheme.inspect(f)}var e="<table>";if(f.length==0){e+="<tr><td class='dump_dead'>(stack is empty)</td></tr>"}else{if(d<f.length){var a=f.length-1;e+="<tr><td class='dump_dead'>["+a+"]</td><td class='dump_dead'>"+_.truncate(this.dump_obj(f[a]),this.stack_max_len)+"</td></tr>"}}for(var c=d-1;c>=0;c--){e+="<tr><td class='dump_stknum'>["+c+"]</td><td>"+_.truncate(this.dump_obj(f[c]),this.stack_max_len)+"</td></tr>"}return e+"</table>"},dump_object:function(e){var c=[];for(var d in e){c.push(d.toString())}return"#<Object{"+c.join(",")+"}>"},dump_closure:function(d){if(d.length==0){return"[]"}var g=null;for(var e=0;e<this.closures.length;e++){if(this.closures[e]==d){g=e}}if(g==null){g=this.closures.length;this.closures.push(d)}var f=_.clone(d);var a=f.shift();return["c",g," <span class='dump_closure'>free vars :</span> ",this.dump_obj(f)," <span class='dump_closure'>body :</span> ",_.truncate(this.dump_obj(a),100)].join("")},dump_obj:function(c){if(c&&typeof(c.to_html)=="function"){return c.to_html()}else{var a=write_ss(c,true);if(a=="[object Object]"){a=this.dump_object(c)}return _.escapeHTML(a)}},dump:function(d){var a="";if(d instanceof Object){a+="<table>";a+="<tr><td colspan='4'><a href='#' id='dump_"+this.n_dumps+"_header'>#"+this.n_dumps+"</a></td></tr>";_.each(_.keys(d),_.bind(function(e){var f=d[e];if(e!="x"&&e!="stack"){f=(e=="c"?this.dump_closure(f):this.dump_obj(f));a+="<tr><td>"+e+": </td><td colspan='3'>"+f+"</td></tr>"}},this));a+="<tr><td>x:</td><td>"+(this.is_opc(d.x)?this.dump_opc(d.x):this.dump_obj(d.x))+"</td>";a+="<td style='border-left: 1px solid black'>stack:</td><td>"+this.dump_stack(d.stack,d.s)+"</td></tr>";a+="</table>"}else{a=_.escapeHTML(BiwaScheme.inspect(d))+"<br>\n"}var c=$("<div/>",{id:("dump"+this.n_dumps)});c.html(a);$(this.dumparea).append(c);(_.bind(function(e){$("#dump_"+this.n_dumps+"_header").click(_.bind(function(){this.dump_move_to(e);this.dump_fold()},this))},this))(this.n_dumps);c.hide();this.n_dumps++},dump_move_to:function(a){if(0<=a&&a<=this.n_dumps){$("#dump"+this.cur).hide();this.cur=a;$("#dump"+this.cur).show()}},dump_move:function(a){if(0<=this.cur&&this.cur<this.n_dumps){$("#dump"+this.cur).hide()}if(0<=this.cur+a&&this.cur+a<this.n_dumps){this.cur+=a}$("#dump"+this.cur).show()},dump_fold:function(){for(var a=0;a<this.n_dumps;a++){if(a!=this.cur){$("#dump"+a).hide()}}this.is_folded=true},dump_unfold:function(){for(var a=0;a<this.n_dumps;a++){$("#dump"+a).show()}this.is_folded=false},dump_toggle_fold:function(){if(this.is_folded){this.dump_unfold()}else{this.dump_fold()}}})}BiwaScheme.Dumper.toggle_fold=function(a){$("#fold"+a).toggle()};Console={};Console.puts=function(f,c){var a;var e;a=$("#bs-console");if(a[0]){e=_.escapeHTML(f+(c?"":"\n"));var d=$("<span>");d.html(e.replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"));a.append(d)}};Console.p=function(){Console.puts("p> "+_.map(_.toArray(arguments),BiwaScheme.inspect).join(" "))};(function(){var d=null;if($("#biwascheme-debugger")[0]){d=new BiwaScheme.Dumper($("#biwascheme-debugger")[0])}var f=function(j,h){puts(j.message);if(d){d.dump(h);d.dump_move(1)}else{throw (j)}};var c=$("script[src$='biwascheme.js']").html();if(c){var a=new BiwaScheme.Interpreter(f);try{a.evaluate(c,function(){})}catch(g){f(g)}}})();