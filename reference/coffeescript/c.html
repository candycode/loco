<html>
<head>

<script src="./coffee-script.js"></script>

</head>
<body>
<textarea id="repl_source" cols="80" rows="100" spellcheck="false">
square = (x) -> x * x
cube   = (x) -> square(x) * x

alert cube(5)

</textarea>

<script>


function compileCoffee( code ) {
	return CoffeeScript.compile( code, {bare: true} );
}

var coffeecode;
var compiledCoffee;
/*var coffeecode = 'alert "this is coffee!"';
var compiledCoffee = compileCoffee( coffeecode );
document.write( compiledCoffee );
window.eval( compiledCoffee );
*/

coffeecode = document.getElementById("repl_source").value;
compiledCoffee = compileCoffee( coffeecode );
document.write( compiledCoffee );
window.eval( compiledCoffee );


</script>


</body>
</html>