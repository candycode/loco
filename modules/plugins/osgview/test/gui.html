<!DOCTYPE html>
<html>
<head>

<style>
* { margin: 0;
    padding: 0 }
#console {
  /*border: 4px solid blue;*/
  border-radius: 8px;
  opacity: 0.7;
  resize: none;
  font-family: "Courier New";
  font-weight: bold;
  overflow: hidden;
  background: -webkit-linear-gradient(top, #2F2727, #1a82f7);
  color: #f0ffdd;
  width: 100%;
  margin-right: 2px;
}
#dragdiv {
  bottom: 0; 
  left: 20%;  
  width: 60%; 
  position: fixed; 
}

.ui-draggable {
  border-left: 8px dotted;
  border-color: rgba(200,100,100,0.3);
}

#menu {
  width: 100%; 
  opacity: 0.5;
  color: white;
  background: -webkit-linear-gradient(top, #1a82f7, #2F2727);
}
textarea:focus { outline: none; }
</style>

<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="jquery-ui.js"></script>

<script type="text/javascript">
  function setCheckedValue(newValue) {
    var radioObj = document.getElementsByName( 'appearance-radio' );
    if( !radioObj ) return;
    var radioLength = radioObj.length;
    if( radioLength == undefined ) {
        radioObj.checked = ( radioObj.value == newValue.toString() );
        return;
    }
    for( var i = 0; i < radioLength; i++ ) {
        radioObj[ i ].checked = false;
        if( radioObj[ i ].value == newValue.toString() ) {
            radioObj[ i ].checked = true;
        }
    }
  }
  function loadscene() {
    var file = gui.openFileDialog( "Select scene file" );
    if( file ) osgviewer.loadScene( file );
  }
  function toggleFullScreen() {
    if( win.fullScreen ) win.showNormal();
    else win.showFullScreen();
  }
  function handleKey() {
    var key = window.event.keyCode,
        ret,
        lines = document.getElementById( "console" ).value.split('\n'),
        line = "",
        ret = "",
        console = document.getElementById( "console" );
    if( key === 13 ) { //enter
      try {
        line = lines[ lines.length - 1 ];
        ret = eval( line );
      } catch( e ) {
        if( e.message ) ret = "ERROR: " + e.message;
        else ret = "ERROR: " + e;
      }
      if(ret) console.value += '\n>' + ret;
    }
  }
  function setAppearance( appearance ) {
    switch( appearance ) {
    case "solid": osgviewer.setSolid();
                  setCheckedValue( 'solid' ); 
                  break;
    case "wireframe": osgviewer.setWireframe();
                      setCheckedValue( 'wireframe' ); 
                      break;
    case "points": osgviewer.setPoint();
                   setCheckedValue( 'points' ); 
                   break
    default: break;
    } 
  }
  function load( file ) {
    osgviewer.loadScene( file );
  }
  function setbkcolor( rgb ) {
    osgviewer.setBkColor( rgb );
  }
  function pickcolor() {
    var c = gui.colorDialog();
    return c;
  }
  function quit() {
    win.close();
  }
  function clear() {
    var c = document.getElementById('console');
    c.value="";
  }
  function dragconsole() {
    $("#dragdiv").draggable();
    $("#dragdiv").css('left','0');
    $("#dragdiv").css('position','relative');
  }
  function stopdragconsole() {
    $("#dragdiv").draggable('destroy');
  }
</script>   
</head>
<body>
   <div id="menu" > 
    <button style="opacity: 1;" onclick="loadscene();">Load scene</button>
    <button style="opacity: 1;" onclick="toggleFullScreen();">Toggle fullscreen</button>
    <span style="font-family: sans serif; padding: 10px" >
      <input type="radio" name="appearance-radio" value="solid" checked="true" onclick="setAppearance('solid')">&nbsp;solid</input>
      <input type="radio" name="appearance-radio" value="wireframe" onclick="setAppearance('wireframe')">&nbsp;wireframe</input>
      <input type="radio" name="appearance-radio" value="points" onclick="setAppearance('points')">&nbsp;points</input>
    </span>
   </div>
   <div id="dragdiv">
     <textarea rows="3" id="console" onkeypress="handleKey()" onfocus="this.value=''"></textarea> 
   </div>
</body>
</html>
