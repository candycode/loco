<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<style>
* { margin: 0 }
#console {
  border: 2px solid blue;
  border-radius: 8px;
  width: 50%; 
  position: absolute; 
  bottom: 1%; 
  left: 25%;  
  opacity: 0.6;
  resize: none;
  font-family: "Courier New";
  width: 50%;
  overflow: hidden;
  background: black;
  color: #00ff0a;  
}
textarea:focus { outline: none; }
</style>


<script>
  function setCheckedValue(newValue) {
    var radioObj = document.getElementsByName( 'appearance-radio' );
    if( !radioObj ) return;
    var radioLength = radioObj.length;
    if( radioLength == undefined ) {
        radioObj.checked = ( radioObj.value == newValue.toString() );
        return;
    }
    for( var i = 0; i < radioLength; i++ ) {
        radioObj[ i ].checked = false;
        if( radioObj[ i ].value == newValue.toString() ) {
            radioObj[ i ].checked = true;
        }
    }
  }
  function loadscene() {
    var file = gui.openFileDialog( "Select scene file" );
    if( file ) osgviewer.loadScene( file );
  }
  function toggleFullScreen() {
    if( win.fullScreen ) win.showNormal();
    else win.showFullScreen();
  }
  function handleKey() {
    var key = window.event.keyCode;
    var ret;
    if( key === 13 ) { //enter
      try {
        var lines = document.getElementById( "console" ).value.split('\n');
        var line = lines[ lines.length - 1 ];
        ret = eval( line );
      } catch( e ) {
        if( e.message ) alert( e.message );
        else alert( e );
      }
      var c = document.getElementById( "console" );
      c.value = ret ? ": " + ret : ":"; 
    }
  }
  function setAppearance( appearance ) {
    switch( appearance ) {
    case "solid": osgviewer.setSolid();
                  setCheckedValue( 'solid' ); 
                  break;
    case "wireframe": osgviewer.setWireframe();
                      setCheckedValue( 'wireframe' ); 
                      break;
    case "points": osgviewer.setPoint();
                   setCheckedValue( 'points' ); 
                   break
    default: break;
    } 
  }
  function load( file ) {
    osgviewer.loadScene( file );
  }
  function setbkcolor( rgb ) {
    osgviewer.setBkColor( rgb );
  }
  function pickcolor() {
    var c = gui.colorDialog();
    return c;
  }
  function quit() {
    win.close();
  }
</script>   
</head>
<body>
  <div style="width: 100%; background-color: rgba(200,100,200,0.5);" > 
    <button style="opacity: 0.5;" onclick="loadscene();">Load scene</button>
    <button style="opacity: 0.5;" onclick="toggleFullScreen();">Toggle fullscreen</button>
    <span style="font-family: Arial; padding: 10px" >
      <input type="radio" name="appearance-radio" value="solid" checked="true" onclick="setAppearance('solid')">&nbsp;Solid</input>
      <input type="radio" name="appearance-radio" value="wireframe" onclick="setAppearance('wireframe')">&nbsp;Wireframe</input>
      <input type="radio" name="appearance-radio" value="points" onclick="setAppearance('points')">&nbsp;Points</input>
    </span>
  <textarea rows="3" id="console" onkeypress="handleKey()"></textarea> 
</body>
</html>
